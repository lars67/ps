<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="./contextMenu.css">
  <script src="./contextMenu.js"></script>
</head>
<body>

<div class="container" id="container">
  <h1>Context Menu</h1>
  <h2>(right-click anywhere)</h2>
  <div class="test">Element 1</div>
  <hr/>
  <div class="test">Element 2</div>
  <div class="test">Element 3</div>

</div>
<script type="text/javascript">
var menu
  document.addEventListener("DOMContentLoaded", function() {
    // Your script that accesses document.body
    menu = document.querySelector('.menu');

    createCM()

  createCM(document.getElementByName('body'))
  var menu = document.querySelector('.menu');

  function showMenu(x, y){
    menu.style.left = x + 'px';
    menu.style.top = y + 'px';
    menu.classList.add('menu-show');
  }

  function hideMenu(){
    menu.classList.remove('menu-show');
  }

  function onContextMenu(e){
    e.preventDefault();

    showMenu(e.pageX, e.pageY);
    document.addEventListener('mousedown', onMouseDown, false);
  }

  function onMouseDown(e){
    hideMenu();
    document.removeEventListener('mousedown', onMouseDown);
  }

 // document.addEventListener('contextmenu', onContextMenu, false);
  const elements = document.querySelectorAll('.test');



  // Add the context menu handler to each element
  elements.forEach(function(element) {
    element.addEventListener('contextmenu', onContextMenu);
    element.addEventListener('mouseover', function() {
      element.classList.add('active'); // Add the 'active' class on mouseover
    });

    element.addEventListener('mouseout', function() {
      element.classList.remove('active'); // Remove the 'active' class on mouseout
    });
  });
</script>
</body>
</html>

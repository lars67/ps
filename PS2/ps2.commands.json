[{
  "_id": {
    "$oid": "65f0a19025cf4d8810aad7d5"
  },
  "label": "dkk1",
  "value": "{\"command\":\"portfolios.list\",\"filter\":{ \"currency\": \"DKK\"}}w",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f0a28b25cf4d8810aad7da"
  },
  "label": "aq1",
  "value": "{\"command\":\"sectors.add\",\"name\":\"Sector Name\",\"industry_sector_id\":\"11223344\",\"symbol\":\"Symbol Name\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f0aea625cf4d8810aad7e1"
  },
  "label": "aaa.bbb",
  "value": "{\"command\":\"portfolios.list\",\"filter\":{ \"currency\": \"DKK\"}}\n",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f5e58a984456ed81e5ade7"
  },
  "label": "usd1",
  "value": "{\"command\":\"portfolios.list\",\"filter\":{ \"currency\": \"USD\"}}aaaa",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f5f8552571d862b30a2e73"
  },
  "label": "one1",
  "value": "{\"command\":\"currencies.list\",\"filter\":{\"symbol\":\"AUD\"}} one",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f5fa1e2571d862b30a2e79"
  },
  "label": "two6666666",
  "value": "\n{\"command\":\"currencies.list\",\"filter\":{\"symbol\":\"AUD\"}} two777777",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f69daeee3e4247866e847c"
  },
  "label": "com1",
  "value": "get list {\"command\":\"portfolios.list\",\"filter\":{}}\nget sectors {\"command\":\"sectors.list\",\"filter\":{}}\nyyy\nuuuu\n{\"command\":\"trades.list\",\"filter\":{}}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f6a15eee3e4247866e848f"
  },
  "label": "dkk1ab",
  "value": "\n{\"command\":\"currencies.list\",\"filter\":{\"symbol\":\"AUD\"}} two777777\n\n{\"command\":\"currencies.list\",\"filter\":{\"symbol\":\"AUD\"}} two777777\n{\"command\":\"portfolios.list\",\"filter\":{ \"currency\": \"DKK\"}}w",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f6a523ee3e4247866e8498"
  },
  "label": "one",
  "value": "Firstly clear portfolioId=\"65f52f98ab7128acd188b300\" and it trades\n{\"command\":\"trades.removeAll\",\"portfolioId\":\"65f52f98ab7128acd188b300\"}\n{\"command\":\"portfolios.remove\",\"_id\":\"65f52f98ab7128acd188b300\"}\n\n\nCreate portfolio with manual defined unique _id, without this _id will be assigned automatically. Used data from PS portfolio 989\n{\"command\":\"portfolios.add\",\"_id\": \"65f52f98ab7128acd188b300\",\"name\":\"testPortfolio\",\"description\":\"\",\"currency\":\"USD\",\"userId\":\"\",\"baseInstrument\":\"SPY\"}\n\nAdd CASH to portfolio\n{\"command\":\"trades.putCash\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\":\"2024-01-09T00:00:00\"}\n\n\n\nAdd trades to this portfolio (used trades from portfolio_id=989\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503978\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"73.6900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"575\",\"fee\":\"21.185875\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503982\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"59\",\"fee\":\"2.177395\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-12T00:00:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503985\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"6\",\"fee\":\"0.221430\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-15T00:00:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503986\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"72.9400\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"147\",\"fee\":\"5.361090\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-17T00:00:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503990\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"74.8300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"127\",\"fee\":\"4.751705\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-19T00:00:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503991\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"74.9800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"163\",\"fee\":\"6.110870\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-22T00:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503994\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"71\",\"fee\":\"2.704745\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-24T00:00:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503998\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"78.3300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"24\",\"fee\":\"0.939960\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-29T00:00:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503979\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"296\",\"fee\":\"3.781400\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503980\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"450\",\"fee\":\"5.800500\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-12T00:00:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503984\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"25\",\"fee\":\"0.322250\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-15T00:00:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503987\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.4500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"286\",\"fee\":\"3.639350\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-17T00:00:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503997\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.5600\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"7\",\"fee\":\"0.092960\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-26T00:00:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503999\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.7100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"60\",\"fee\":\"0.801300\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-29T00:00:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503977\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.8200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"642\",\"fee\":\"24.980220\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503981\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"94\",\"fee\":\"3.615710\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-12T00:00:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503983\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"14\",\"fee\":\"0.538510\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-15T00:00:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503988\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"45\",\"fee\":\"1.712250\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-17T00:00:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503989\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.3200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"118\",\"fee\":\"4.561880\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-19T00:00:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503992\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"77.2300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"185\",\"fee\":\"7.143775\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-22T00:00:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503993\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.7300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"102\",\"fee\":\"3.913230\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-24T00:00:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503996\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"552\",\"fee\":\"21.127801\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-26T00:00:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503995\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"75.2000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"564\",\"fee\":\"21.206400\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-26T00:00:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"504000\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.0900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"18\",\"fee\":\"0.684810\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-29T00:00:24\"}\n\nCheck trades\n{\"command\":\"trades.snapshot\",\"portfolioId\":\"65f52f98ab7128acd188b300\"}\n\n",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65f985519587d00c60071140"
  },
  "label": "Lars tasks",
  "value": "Firstly clear portfolioId=\"65f52f98ab7128acd188b300\" and it trades\n{\"command\":\"trades.removeAll\",\"portfolioId\":\"65f52f98ab7128acd188b300\"}\n{\"command\":\"portfolios.remove\",\"_id\":\"65f52f98ab7128acd188b300\"}\n\n\nCreate portfolio with manual defined unique _id, without this _id will be assigned automatically. Used data from PS portfolio 989\n{\"command\":\"portfolios.add\",\"_id\": \"65f52f98ab7128acd188b300\",\"name\":\"testPortfolio\",\"description\":\"\",\"currency\":\"USD\",\"userId\":\"\",\"baseInstrument\":\"SPY\"}\n\nAdd CASH to portfolio\n{\"command\":\"trades.putCash\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\":\"2024-01-09T00:00:00\"}\n\n\n\nAdd trades to this portfolio (used trades from portfolio_id=989\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503978\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"73.6900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"575\",\"fee\":\"21.185875\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503982\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"59\",\"fee\":\"2.177395\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-12T00:00:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503985\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"6\",\"fee\":\"0.221430\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-15T00:00:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503986\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"72.9400\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"147\",\"fee\":\"5.361090\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-17T00:00:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503990\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"74.8300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"127\",\"fee\":\"4.751705\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-19T00:00:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503991\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"74.9800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"163\",\"fee\":\"6.110870\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-22T00:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503994\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"71\",\"fee\":\"2.704745\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-24T00:00:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503998\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"78.3300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"24\",\"fee\":\"0.939960\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-29T00:00:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503979\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"296\",\"fee\":\"3.781400\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503980\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"450\",\"fee\":\"5.800500\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-12T00:00:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503984\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"25\",\"fee\":\"0.322250\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-15T00:00:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503987\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.4500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"286\",\"fee\":\"3.639350\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-17T00:00:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503997\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.5600\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"7\",\"fee\":\"0.092960\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-26T00:00:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503999\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.7100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"60\",\"fee\":\"0.801300\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-29T00:00:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503977\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.8200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"642\",\"fee\":\"24.980220\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503981\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"94\",\"fee\":\"3.615710\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-12T00:00:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503983\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"14\",\"fee\":\"0.538510\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-15T00:00:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503988\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"45\",\"fee\":\"1.712250\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-17T00:00:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503989\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.3200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"118\",\"fee\":\"4.561880\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-19T00:00:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503992\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"77.2300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"185\",\"fee\":\"7.143775\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-22T00:00:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503993\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.7300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"102\",\"fee\":\"3.913230\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-24T00:00:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503996\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"552\",\"fee\":\"21.127801\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-26T00:00:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"503995\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"75.2000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"564\",\"fee\":\"21.206400\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-26T00:00:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b300\",\"tradeId\":\"504000\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.0900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"18\",\"fee\":\"0.684810\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-29T00:00:24\"}\n\nCheck trades\n{\"command\":\"trades.snapshot\",\"portfolioId\":\"65f52f98ab7128acd188b300\"}\nwhat is trades snapshot..\nit is all trades for porfolio\nok.\nThis console can almost be used as an API manual\nhope will see\nabout parameters i trying follow that show all paramters and required looks as '?' other as '' or some time some default value like currency:'USD'\nok\nSo to open a portolio one would call snapshot - and then initialte a subscription\nyes  subscribe work\nyes, I saw\nsome problem exists, so one from next steps will be used prices for add_trade  from iexproxy\nalso i don't understand why PS do quotes subscription, as far need only request in moment trade creation... It too intencive do subscription to yahoo\nAhh.. you mean that PS always does this?\nyes , yestaday we see rthat , as I understand need only simple request instead for all symbol and currency\nYes, I cannot remember why Ed made that decision - But currencies change all the time and alters the result - Still this should be initiated by the user specifically.. I am trying to remember basis for this decision, but\ncannot think of any logical reason just now... Maybe some alerts.. but this we do not have in PS\nok let me know your opinion about commands which need implement,\nI will use basis in PS-API to suggest any, but I think the definition of summation portfolios is important, and probably not easy to do.\nI mean this portfolio hiearchy I just showed you.\nThat a portfolio *virtual* can be a sum of other portfolios\nsuppose that need use not only trades but also sumationsevery day  price changes . \nBut looks like it  is more next step, \nPerhaps - this you know better, I thouhgt it was fundamental.\nBut otherwise calculator will be important fundamental thing. I mean the ability to send out calculated prices.\nfor this need connect ps2console to iexproxy .  And prepare some similar we have as report in optimizer and then union several portfolios. as far trade can be in different days we need sunmmarisation\ndo for each day or no?\nOhhh Yes - this is so important.. batch jobs... LIke portfolio_history_chart functionality\nyes\nIf you remember, this is a bitch to have correct over time.. I suggest calculation at runtime\neven this is slower\n\nbASICALLY, I am trying to determine min. tasks, to have a working simple portfolio with portfolio_history. so that PS, almost can be put to sleep\nI used trades from portfolio my  ETF2  as far source for fill portfolio\nloookks like portfolio.snapshot must return current state of portfolio insead list of portfolios also i know some bugs\nso today later continue. React and Redux is change too fast soit changes was new for me\naha.. Yes thigs change too fast these yearsGo.\nalso prent log file in logs on server od\n\nGood.. dont you think it is a good idea to relate existing user to ps2?\ndon't know\nok\nImagine that Top should use this portfolio system, and Optimizer\nas for me it can be more controled \nbut looks like in PS have lot features,  don't know Lo\nt Hapvarameters which I don't know really ned or how used, s\nok, can you give me an example.. And I am not trying to clone PS generally\n. I suppose that better to know what really need from comands  and move step by step. So we by defult jhave Collection commands which allow do standart table related operations\nYes, agree\nsuppose that standart add, remove,update,list is fill mant one table based commands\nYes,\nThen the server based calculator\nDividends\nBatch jobs to save results\nPrice basis... What price to use to calculate result... Last, close etc. etc.\nThat would be minimum\nwhat is Batch jobs to save results\nPortfolio_history_charts\n",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "65fd24919587d00c60071165"
  },
  "label": "Lars: Add Portfolios",
  "value": "{\"command\":\"portfolios.add\",\"name\":\"PortfolioName\",\"description\":\"\",\"currency\":\"USD\",\"userId\":\"\",\"baseInstrument\":\"SPY\"}\n\nAdd fields:\nType           Which type of portfolio (normal, summation, counterparty, fund)\nShare          Own, public, shared\nAccountnumber  External account number for the user\nTaxPrinciple   FIFO or Average pricing\nYieldcurve     Which yieldcurve to use. For later interest calculation batch jobs\nFxOffset       %  offset to add when converting a currency\nFundFee        % Yearly fee for the fund\nEntryfee       % Entry fee\nExitfee        % Exit fee\nHighwater      % Highwater fee\n\nSome of these fields are reserved for future use",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "6606471e77d7aba921c221d1"
  },
  "label": "Portfolio Posirtions> testportfolio",
  "value": "{\"command\":\"portfolios.positions\",\"_id\":\"65f52f98ab7128acd188b300\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\"}",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "661c3d641b85f4a75196bb12"
  },
  "label": "tests_portfolios.add",
  "value": "#Preparing. remove portfolio\n{\"command\":\"portfolios.remove\", \"_id\":\"_testErrorInputPortfolio\"}\n\n#Tests portfolios.add  \n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check error present as far absent required field currency, baseInstrument\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\", \"currency\":\"ADF\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check error present as far absent required field\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\", \"currency\":\"ADF\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check error present as far currency is wrong\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_testErrorInputPortfolio\"}, \"_as\":\"result\"}\n\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}}, \"description\": \"Check that porfolio.list return array\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"length\": {\"$eq\": 1}},  \"description\": \"Check that porfolio.list return one item \"}\n{\"command\":\"tests.check\", \"path\": \"result.0\", \"conditions\": {\"name\": {\"$eq\": \"_testErrorInputPortfolio\"}},  \"description\": \"Check that returned porfolio with requested name\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\", \"currency\":\"EUR\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check error present when we try input not unique prtfolio name\"}\n\n#clear \n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_testErrorInputPortfolio\"}, \"_as\":\"result\"}\n{\"command\":\"command.setVar\", \"v\": {\"pid\":$var.result.0._id}}\n{\"command\":\"portfolios.remove\", \"_id\":\"_testErrorInputPortfolio\"}\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_testErrorInputPortfolio\"}, \"_as\":\"result\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true},\"length\": {\"$eq\": 0}}, \"description\": \"Check that porfolio.list return empty array\"}\n{\"command\":\"portfolios.trades\", \"_id\": \"$var.pid\", \"_as\":\"result\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check that all trades are removed\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "661c3dcc1b85f4a75196bb3a"
  },
  "label": "tests_portfolios.remove",
  "value": "reparing. remove portfolio\n{\"command\":\"portfolios.remove\", \"_id\":\"_testRemovePortfolio\"}\n\n#Tests portfolios.remove \n{\"command\":\"portfolios.add\",\"name\":\"_testRemovePortfolio\",\"_as\":\"response\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"name\": {\"$eq\": \"_testRemovePortfolio\"}, \"currency\":{\"$eq\": \"USD\"}}, \"description\":\"check that portfolio was added with name, currency\"}\n{\"command\":\"tests.setVar\", \"v\":{\"pid\":\"response._id\"}}\n{\"command\":\"portfolios.remove\",\"name\":\"_testRemovePortfolioUnknown\",\"_as\":\"response\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"check error present whe we try remove not existing portfolio\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testRemovePortfolio\",\"amount\":\"1000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-03-01T08:00:00\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testRemovePortfolio\",\"amount\":\"2000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-03-02T08:00:00\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"_testRemovePortfolio\",  \"_as\": \"response\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"length\": {\"$eq\": 2}}, \"description\":\"check length of portfolio trades\"}\n{\"command\":\"portfolios.remove\",\"_id\":\"_testRemovePortfolio\",\"_as\":\"response\"}\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"testRemovePortfolio\"}, \"_as\":\"result\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}, \"length\": {\"$eq\": 0}}, \"description\": \"Check that porfolio was removed\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.pid\",  \"_as\": \"response\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"check that all trades are removed\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "661c3e0c1b85f4a75196bc51"
  },
  "label": "tests_portfolios.history",
  "value": "0Tests with portfolios.history  name \"_testPortfolioHistory\"\n#1 Remove if exists\n{\"command\":\"portfolios.remove\", \"_id\":\"_testPortfolioHistory\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"_testPortfolioHistory\",\"currency\":\"USD\",\"baseInstrument\":\"SPY\"}\n#3 Get our portfolio to variable with name =result \n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_testPortfolioHistory\"}, \"_as\":\"result\"}\n#4 Check that variable result is array and it length=1\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}, \"length\": {\"$eq\": 1}}, \"description\": \"Check that porfolio.list return array with one item\"}\n#5 copy portfolio._id to variable pid \n{\"command\": \"tests.setVar\", \"v\":{\"pid\": \"$var.result.0._id\" }}\n#6 \n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-08T08:00:00\"}\n#7\n{\"command\":\"portfolios.history\",\"_id\":\"$var.pid\", \"till\":\"2024-01-09\", \"_as\":\"history\"}\n#8\n{\"command\":\"tests.check\", \"path\": \"history.days.0\", \"conditions\": {\"cash\": {\"$eq\": 100000}},  \"description\": \"Check cash added correctly\"}\n#9\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503978\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"73.6900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"575\",\"fee\":\"21.185875\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503982\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"59\",\"fee\":\"2.177395\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-12T00:00:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503985\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"6\",\"fee\":\"0.221430\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-15T00:00:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503986\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"72.9400\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"147\",\"fee\":\"5.361090\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-17T00:00:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503990\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"74.8300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"127\",\"fee\":\"4.751705\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-19T00:00:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503991\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"74.9800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"163\",\"fee\":\"6.110870\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-22T00:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503994\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"71\",\"fee\":\"2.704745\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-24T00:00:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503998\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"78.3300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"24\",\"fee\":\"0.939960\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-29T00:00:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503979\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"296\",\"fee\":\"3.781400\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503980\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"450\",\"fee\":\"5.800500\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-12T00:00:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503984\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"25\",\"fee\":\"0.322250\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-15T00:00:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503987\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.4500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"286\",\"fee\":\"3.639350\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-17T00:00:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503997\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.5600\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"7\",\"fee\":\"0.092960\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-26T00:00:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503999\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.7100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"60\",\"fee\":\"0.801300\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-29T00:00:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503977\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.8200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"642\",\"fee\":\"24.980220\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503981\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"94\",\"fee\":\"3.615710\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-12T00:00:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503983\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"14\",\"fee\":\"0.538510\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-15T00:00:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503988\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"45\",\"fee\":\"1.712250\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-17T00:00:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503989\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.3200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"118\",\"fee\":\"4.561880\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-19T00:00:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503992\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"77.2300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"185\",\"fee\":\"7.143775\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-22T00:00:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503993\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.7300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"102\",\"fee\":\"3.913230\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-24T00:00:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503996\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"552\",\"fee\":\"21.127801\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-26T00:00:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503995\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"75.2000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"564\",\"fee\":\"21.206400\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-26T00:00:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"504000\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.0900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"18\",\"fee\":\"0.684810\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-29T00:00:24\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.pid\",  \"_as\": \"response\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": false}, \"length\": {\"$eq\":25}}, \"description\":\"check that all trades are added\"}\n#10  Compare with PSportfolioId=989 result\n{\"command\":\"portfolios.history\",\"_id\":\"_testPortfolioHistory\",\"sample\":\"day\",\"till\": \"2024-02-04\",\"_as\":\"history1\"}\n{\"command\":\"tests.check\",\"path\":\"history1.days.[date=2024-01-24]\",\"conditions\":{\"cash\": {\"$sub\": 8},\"nav\": {\"$sub\": 101010} }, \"description\":\"compare 2024-01-24 nav, cash with PS\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "661c3e571b85f4a75196bc58"
  },
  "label": "tests_portfolios.positions",
  "value": "#Use portfolio with name '_positionsPortfolio' for tests. For creation can be used command with name 'tests_989' which create some test portfolio\n#Store portfolio name in variable portfolioName\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_positionsPortfolio\"}}\n#Subscribe to  portfolios.positions \n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"1\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"positionsId\"}\n#Check that server accept our subscription, so in response present msag:'subscribed'\n{\"command\":\"tests.check\", \"path\":\"positionsStart\" , \"conditions\": {\"msg\":{\"$eq\":\"subscribed\"}}, \"description\":\"Subscription done\"}\n#Store eventName which used server for SSE communication with  our quote sources (IEXProxy server)\nWe need to know this eventName as far we want emulate event from quote sources (IEXProxy server).\n{\"command\": \"tests.setVar\", \"v\":{\"eventName\": \"$var.positionsStart.eventName\"}}\n#Some delay \n{\"command\":\"tests.delay\", \"delay\":3000}\n#Emulate quote data change with our eventName  , emulated changes changes property. Used property names im changes for symbols identical to property names like use IEX proxy.\nSo server treat command as some event from IEXProxy\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"3\", \"eventName\": \"$var.eventName\", \"changes\": [{\"symbol\":\"XLC\",\"close\":82} ]}\n# Wait and store emulated event in variable position1\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId\", \"to\":\"position1\"}\n# Emulate next changes for XLC, AMJ symbols\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"3\", \"eventName\": \"$var.eventName\",\"changes\": [{\"symbol\":\"XLC\",\"close\":82.62}, { \"symbol\":\"AMJ\",\"close\":2} ]}\n# Wait and store emulated event in variable position2\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId\", \"to\":\"position2\"}\n#Unsubscribe. we must set parameter \"subscribeId\"= msgId  with which we subscribe. Allowed use symbolic  id. By defaylt use numbers, \n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"2\",\"subscribeId\":\"positionsId\"}\n#Some tests\n{\"command\":\"tests.check\",\"path\":\"position1.[symbol=XLC]\",\"conditions\":{\"marketClose\":{\"$eq\": 82}}, \"description\":\"check that emulated value for XLC correct\"}\n{\"command\":\"tests.check\",\"path\":\"position2.[symbol=XLC]\",\"conditions\":{\"marketClose\":{\"$eq\": 82.62}}, \"description\":\"check that emulated value XLC correct\"}\n{\"command\":\"tests.check\",\"path\":\"position2.[symbol=AMJ]\",\"conditions\":{\"marketClose\":{\"$eq\": 2}}, \"description\":\"check that emulated value AMJ correct\"}\n{\"command\":\"tests.check\",\"path\":\"position1.[symbol=AMJ]\",\"conditions\":{\"weight\":{\"$gt\": \"$var.position2.[symbol=AMJ].weight\"}}, \"description\":\"check that AMJ weights changed in correct direction\"}\n#Some print\n{\"command\": \"tests.getVar\",\"path\":\"position1.[symbol=XLC].weight\"}\n{\"command\": \"tests.getVar\",\"path\":\"position2.[symbol=XLC].weight\"}\n{\"command\": \"tests.getVar\",\"path\":\"position2.[symbol=AMJ].marketClose\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "661c3f611b85f4a75196bce4"
  },
  "label": "tests_portfolios.positions2",
  "value": "#Use portfolio with name '_positionsPortfolio' for tests. For creation can be used command with name 'tests_989' which create some test portfolio\n#Store portfolio name in variable portfolioName\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_positionsPortfolio\"}}\n#Subscribe to  portfolios.positions , result of subscription store in variable 'positionsStart'\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"1\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"positionsId\"}\n#Check that server accept our subscription, so in response present msag:'subscribed'\n{\"command\":\"tests.check\", \"path\":\"positionsStart\" , \"conditions\": {\"msg\":{\"$eq\":\"subscribed\"}}, \"description\":\"Subscription done\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId\", \"to\":\"position0\"}\n{\"command\": \"tests.getVar\",\"path\":\"position0\"}\n#Some delay \n{\"command\":\"tests.delay\", \"delay\":3000}\n#Add trade and store response in tradeAddResult\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"73\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"2\",\"symbol\":\"XLC\",\"_as\":\"tradeAddResult\",\"name\":\"Communication Services Select Sector SPDR Fund\"}\n#wait subscription response and store it in position1\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId\", \"to\":\"position1\"}\n{\"command\":\"tests.delay\", \"delay\":3000}\n{\"command\":\"trades.remove\",\"_id\":\"$var.tradeAddResult._id\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId\", \"to\":\"position2\"}\n{\"command\":\"tests.delay\", \"delay\":1000}\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"2\",  \"subscribeId\":\"positionsId\"}\n\n\n{\"command\":\"tests.check\", \"path\":\"position0.[symbol=XLC]\" , \"conditions\": {\"volume\":{\"$eq\":\"$var.position2.[symbol=XLC].volume\"}}, \"description\":\"Volume is not changed in position  after add/remove order\"}\n{\"command\":\"tests.check\", \"path\":\"position0.[symbol=XLC]\" , \"conditions\": {\"marketValue\":{\"$eq\":\"$var.position2.[symbol=XLC].marketValue\"}}, \"description\":\"MarketValue is not changed in position  after add/remove order\"}\n{\"command\":\"tests.check\", \"path\":\"position0.[symbol=XLC]\" , \"conditions\": {\"investedFullSymbol\":{\"$eq\":\"$var.position2.[symbol=XLC].investedFullSymbol\"}}, \"description\":\"investedFullSymbol is not changed in position  after add/remove order\"}\n\n  \n{\"command\": \"tests.getVar\",\"path\":\"position1\"}\n{\"command\": \"tests.getVar\",\"path\":\"position2\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "661c40b51b85f4a75196bd71"
  },
  "label": "tests_989",
  "value": "#Create test portfolio with trades based on PS portfolio989 \n#set portfolio name\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"portfolio989\"}}\n\n#1 Remove if exists - clear portfolio and it trades  by name \n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioName\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioName\",\"currency\":\"USD\",\"baseInstrument\":\"SPY\"}\n#3 Get our portfolio to variable with name = result \n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"$var.portfolioName\"}, \"_as\":\"result\"}\n#5 copy portfolio._id to variable pid \n{\"command\": \"tests.setVar\", \"v\":{\"pid\": \"$var.result.0._id\" }}\n#6 \n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-08T08:00:00\"}\n#7 add trades\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503978\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"73.6900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"575\",\"fee\":\"21.185875\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503982\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"59\",\"fee\":\"2.177395\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-12T00:00:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503985\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"6\",\"fee\":\"0.221430\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-15T00:00:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503986\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"72.9400\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"147\",\"fee\":\"5.361090\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-17T00:00:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503990\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"74.8300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"127\",\"fee\":\"4.751705\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-19T00:00:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503991\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"74.9800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"163\",\"fee\":\"6.110870\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-22T00:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503994\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"71\",\"fee\":\"2.704745\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-24T00:00:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503998\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"78.3300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"24\",\"fee\":\"0.939960\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-29T00:00:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503979\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"296\",\"fee\":\"3.781400\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503980\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"450\",\"fee\":\"5.800500\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-12T00:00:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503984\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"25\",\"fee\":\"0.322250\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-15T00:00:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503987\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.4500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"286\",\"fee\":\"3.639350\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-17T00:00:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503997\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.5600\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"7\",\"fee\":\"0.092960\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-26T00:00:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503999\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.7100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"60\",\"fee\":\"0.801300\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-29T00:00:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503977\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.8200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"642\",\"fee\":\"24.980220\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503981\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"94\",\"fee\":\"3.615710\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-12T00:00:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503983\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"14\",\"fee\":\"0.538510\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-15T00:00:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503988\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"45\",\"fee\":\"1.712250\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-17T00:00:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503989\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.3200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"118\",\"fee\":\"4.561880\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-19T00:00:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503992\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"77.2300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"185\",\"fee\":\"7.143775\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-22T00:00:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503993\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.7300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"102\",\"fee\":\"3.913230\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-24T00:00:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503996\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"552\",\"fee\":\"21.127801\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-26T00:00:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503995\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"75.2000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"564\",\"fee\":\"21.206400\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-26T00:00:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"504000\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.0900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"18\",\"fee\":\"0.684810\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-29T00:00:24\"}\n{\"command\":\"portfolios.trades\",\"_id\":\"$var.pid\",\"_as\":\"trades\"}\n{\"command\":\"tests.check\", \"path\":\"trades\", \"conditions\":{\"length\":{\"$eq\":25}},\"description\":\"Check number of portfolio trades\" }",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0,
  "updatedAt": {
    "$date": "2024-05-07T08:01:08.208Z"
  }
},
{
  "_id": {
    "$oid": "662014a7987860f24ab54d12"
  },
  "label": "tests_fractional",
  "value": "Set portfolio name in varable\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_testFractionalPortfolio\"}}\n\nPreparing. remove portfolio\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioName\"}\n\nPreparing. adde portfolio and check creation\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioName\",\"_as\":\"response\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"$var.portfolioName\"}, \"_as\":\"result\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}}, \"description\": \"Check that porfolio.list return array\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"length\": {\"$eq\": 1}},  \"description\": \"Check that porfolio.list return one item \"}\n{\"command\":\"tests.check\", \"path\": \"result.0\", \"conditions\": {\"name\": {\"$eq\": \"$var.portfolioName\"}},  \"description\": \"Check that returned porfolio with requested name\"}\n\nPut cash and trades\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioName\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-09T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"70\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"10.5\",\"fee\":\"21.00\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"100.1\",\"fee\":\"3.05\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"78\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"500\",\"fee\":\"25\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"portfolios.trades\",\"_id\":\"$var.portfolioName\", \"_as\":\"trades1\"}\n{\"command\":\"tests.check\", \"path\": \"trades1\", \"conditions\": {\"length\": {\"$eq\": 4}},  \"description\": \"Check number of trades addedd till on '2024-01-10'\"}\n\nget history\n{\"command\":\"portfolios.history\",\"_id\":\"$var.portfolioName\",\"till\": \"2024-01-30\", \"detail\":1, \"_as\":\"history\"}\n{\"command\":\"tests.setVar\", \"v\":{\"cash10\":\"$var.history.days.[date=2024-01-10].cash\"}}\n\n{\"command\":\"tests.check\", \"path\":\"history.days.[date=2024-01-30]\", \"conditions\": {\"cash\": {\"$eq\":\"$var.cash10\"}}, \"description\":\"Check that cash is not changes after last trading date\"}\n\nadd sell orders with buy price as result we hav initial balance - 2*fee\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"70\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"10.5\",\"fee\":\"21.00\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-12T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"100.1\",\"fee\":\"3.05\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-12T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"78\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"500\",\"fee\":\"25\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-12T00:00:01\"}\n{\"command\":\"portfolios.history\",\"_id\":\"$var.portfolioName\",\"till\": \"2024-01-30\", \"detail\":1, \"_as\":\"history2\"}\n{\"command\": \"tests.setVar\", \"v\": { \"fee2\": 98.10}}\n{\"command\": \"tests.setVar\", \"v\": { \"nav\": 99901.90}}\n{\"command\":\"tests.check\", \"path\":\"history2.days.[date=2024-01-12]\", \"conditions\": {\"nav\": {\"$eq\":\"$var.nav\"}}, \"description\":\"Check that nav less then initial balance on 2*fee as far we buy/sell one price\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "6620381c987860f24ab54e35"
  },
  "label": "tests_summation_prepare",
  "value": "Set portfolio name in varable\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName1\": \"_portfolio1\"}}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName2\": \"_portfolio2\"}}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName3\": \"_portfolio3\"}}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioSum\": \"_portfolioSum\"}}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioSum2\": \"_portfolioSum2\"}}\nPreparing. remove portfolio\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioName1\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioName2\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioName3\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSum\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSum2\"}\nPreparing. adde portfolio and check creation\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioName1\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioName2\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioName3\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n\nPut cash and trades for 3 simple portfolios\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioName1\",\"amount\":\"50000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-09T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName1\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"1000\",\"fee\":\"10.00\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"portfolios.trades\", \"_id\": \"$var.portfolioName1\", \"_as\":\"t1\"}\n{\"command\":\"tests.check\", \"path\": \"t1\",  \"conditions\": {\"length\": {\"$eq\": 2}}, \"description\": \"Check number input trades\"}\n\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioName2\",\"amount\":\"50000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-09T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName2\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"100\",\"fee\":\"3.00\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName2\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"80\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"200\",\"fee\":\"25\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"portfolios.trades\", \"_id\": \"$var.portfolioName2\", \"_as\":\"t2\"}\n{\"command\":\"tests.check\", \"path\": \"t2\",  \"conditions\": {\"length\": {\"$eq\": 3}}, \"description\": \"Check number input trades\"}\n\n\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioName3\",\"amount\":\"10000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-09T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName3\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"80\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"20.00\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"portfolios.trades\", \"_id\": \"$var.portfolioName3\", \"_as\":\"t3\"}\n{\"command\":\"tests.check\", \"path\": \"t3\",  \"conditions\": {\"length\": {\"$eq\": 2}}, \"description\": \"Check number input trades\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioSum\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\", \"portfolioType\":\"summation\", \"portfolioIds\":[\"$var.portfolioName1\"]}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioSum2\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\", \"portfolioType\":\"summation\", \"portfolioIds\":[\"$var.portfolioName1\", \"$var.portfolioName2\"]}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "66203cb711747a2cf15c9dd0"
  },
  "label": "tests_summation",
  "value": "Set portfolio name in varable\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName1\": \"_portfolio1\"}}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName2\": \"_portfolio2\"}}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName3\": \"_portfolio3\"}}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioSum\": \"_portfolioSum\"}}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioSum2\": \"_portfolioSum2\"}}\n\nTest summation with 1 child\n\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioSum\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"msgId\":\"mSum\" }\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mSum\", \"to\":\"sum1\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName1\", \"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"msgId\":\"mP1\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mP1\", \"to\":\"p1\"}\n{\"command\":\"tests.check\", \"path\": \"p1.[symbol=AMJ]\",  \"conditions\": {\"marketClose\": {\"$eq\": \"$var.sum1.[symbol=AMJ].marketClose\"}}, \"description\": \"Check that positon  summation with one children equal children\"}\n{\"command\":\"tests.getVar\", \"path\": \"p1.[symbol=AMJ].marketClose\"}\n{\"command\":\"tests.getVar\", \"path\":\"sum1.[symbol=AMJ].marketClose\"}\n\n\nTest summation with 2 child\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioSum2\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"msgId\":\"mSum2\" }\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mSum2\", \"to\":\"sum\"}\n{\"command\":\"tests.check\", \"path\": \"sum.[symbol=AMJ]\",  \"conditions\": {\"volume\": {\"$eq\": 1100}}, \"description\": \"Check that position  summation with 2 children AMJ volume eq sum childrens volumes\"}\n{\"command\":\"tests.check\", \"path\": \"sum.[symbol=FDIS]\", \"conditions\": {\"volume\": {\"$eq\": 200}}, \"description\": \"Check that position  summation with 2 children FDIS correct\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "6620c8d3686c9279a80a1ed8"
  },
  "label": "tests_portfolios.add_comments",
  "value": "#Preparing. remove portfolio. First command is clearing , so we remove portfolioand all trades connected with it. _id can be id or portfolio name \n{\"command\":\"portfolios.remove\", \"_id\":\"_testErrorInputPortfolio\"}\n\n#Tests portfolios.add  we create portfolio with only name and save result in variable resoponse. Our editor support 'variables' which can be created with help parameter \"_as\" \n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\"}2 next tests also similar this\nTest commands are start with tests.  main command is check . in this case we check tht response return error as far we not set all required commands, \n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check error present as far absent required field currency, baseInstrument\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\", \"currency\":\"ADF\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check error present as far absent required field\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\", \"currency\":\"ADF\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check error present as far currency is wrong\"}\n\nIn next command we send correct add portfolio request with all required fields (in this moment)\n\n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_testErrorInputPortfolio\"}, \"_as\":\"result\"}\nThen check that returned correct result\nAbot variables, acceess to it can be done with parameter path\n  \"path\": \"result\" - get variable result\n  \"path\": \"result.0\" get first array item from variable response\n\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}}, \"description\": \"Check that porfolio.list return array\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"length\": {\"$eq\": 1}},  \"description\": \"Check that porfolio.list return one item \"}\n{\"command\":\"tests.check\", \"path\": \"result.0\", \"conditions\": {\"name\": {\"$eq\": \"_testErrorInputPortfolio\"}},  \"description\": \"Check that returned porfolio with requested name\"}\n\nNext test check that we cannot add portfolio with already existing name as far wwe can use insead portfolio id his name in all places where we request portfolio with _id.\n{\"command\":\"portfolios.add\",\"name\":\"_testErrorInputPortfolio\",\"_as\":\"response\", \"currency\":\"EUR\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check error present when we try input not unique prtfolio name\"}\n\nafter test sequence we clear all what be created during this test\n#clear \n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_testErrorInputPortfolio\"}, \"_as\":\"result\"}\n{\"command\":\"command.setVar\", \"v\": {\"pid\":$var.result.0._id}}\n{\"command\":\"portfolios.remove\", \"_id\":\"_testErrorInputPortfolio\"}\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_testErrorInputPortfolio\"}, \"_as\":\"result\"}\nAlso heck that clearing is work\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true},\"length\": {\"$eq\": 0}}, \"description\": \"Check that porfolio.list return empty array\"}\nSecond method access to variable is use $var\nso $var.pid mean that we get variable pid from variables scope. \n{\"command\":\"portfolios.trades\", \"_id\": \"$var.pid\", \"_as\":\"result\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": true}}, \"description\":\"Check that all trades are removed\"}\n\ncheck command has some small description\n\nso I can run this commands?\nYes, but save for your now additional text if possible",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "6620ce14686c9279a80a1efb"
  },
  "label": "tests_portfolios.history_comments",
  "value": "0Tests with portfolios.history  name \"_testPortfolioHistory\"\nas usually we ckear before test\n#1 Remove if exists\n{\"command\":\"portfolios.remove\", \"_id\":\"_testPortfolioHistory\"}\n#2 Create new portfolio\n\ncreate portfolio and do  several checks, only be sure that we get portfolio for next steps\n{\"command\":\"portfolios.add\",\"name\":\"_testPortfolioHistory\",\"currency\":\"USD\",\"baseInstrument\":\"SPY\"}\n#3 Get our portfolio to variable with name =result \n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_testPortfolioHistory\"}, \"_as\":\"result\"}\n#4 Check that variable result is array and it length=1\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}, \"length\": {\"$eq\": 1}}, \"description\": \"Check that porfolio.list return array with one item\"}\n#5 copy portfolio._id to variable pid \nit is example how we remember value $var.result.0._id in variable pid for simplifity so we get from varianle result first array item(we know that will be returned arrray and bet fiel\n_id which contain real _id. with which was created portfolio, before we executed portfolios.list which return response and we remember it in variable  , \"_as\":\"result\"\n{\"command\": \"tests.setVar\", \"v\":{\"pid\": \"$var.result.0._id\" }}\n#6 \nPut cash\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-08T08:00:00\"}\n#7\nget history \n{\"command\":\"portfolios.history\",\"_id\":\"$var.pid\", \"till\":\"2024-01-09\", \"_as\":\"history\"}\n#8\ncheck that our history in this moment contain only one item - our cash\n{\"command\":\"tests.check\", \"path\": \"history.days.0\", \"conditions\": {\"cash\": {\"$eq\": 100000}},  \"description\": \"Check cash added correctly\"}\n#9\n\nadd trades , curently it is ported from PS for 989 portfolio\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503978\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"73.6900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"575\",\"fee\":\"21.185875\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503982\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"59\",\"fee\":\"2.177395\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-12T00:00:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503985\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"6\",\"fee\":\"0.221430\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-15T00:00:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503986\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"72.9400\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"147\",\"fee\":\"5.361090\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-17T00:00:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503990\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"74.8300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"127\",\"fee\":\"4.751705\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-19T00:00:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503991\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"74.9800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"163\",\"fee\":\"6.110870\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-22T00:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503994\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"71\",\"fee\":\"2.704745\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-24T00:00:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503998\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"78.3300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"24\",\"fee\":\"0.939960\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-29T00:00:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503979\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"296\",\"fee\":\"3.781400\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503980\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"450\",\"fee\":\"5.800500\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-12T00:00:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503984\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.7800\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"25\",\"fee\":\"0.322250\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-15T00:00:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503987\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25.4500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"286\",\"fee\":\"3.639350\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-17T00:00:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503997\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.5600\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"7\",\"fee\":\"0.092960\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-26T00:00:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503999\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"26.7100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"60\",\"fee\":\"0.801300\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-29T00:00:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503977\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.8200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"642\",\"fee\":\"24.980220\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503981\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"94\",\"fee\":\"3.615710\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-12T00:00:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503983\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"14\",\"fee\":\"0.538510\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-15T00:00:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503988\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.1000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"45\",\"fee\":\"1.712250\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-17T00:00:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503989\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"77.3200\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"118\",\"fee\":\"4.561880\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-19T00:00:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503992\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"77.2300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"185\",\"fee\":\"7.143775\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-22T00:00:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503993\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.7300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"102\",\"fee\":\"3.913230\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-24T00:00:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503996\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"552\",\"fee\":\"21.127801\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-26T00:00:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503995\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"75.2000\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"564\",\"fee\":\"21.206400\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-26T00:00:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"504000\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"76.0900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"18\",\"fee\":\"0.684810\",\"symbol\":\"IYC\",\"name\":\"iShares U.S. Consumer Services ETF\",\"tradeTime\":\"2024-01-29T00:00:24\"}\nthen read all trades for this portfolio ...why a tradeID\ntradeId i not used , was added during porting\nhmm.. but this is normally a unique id created by DB, yes but they have _id\nfor this moment they can be added as well\nok so tradeId is some field which can be used as filter as well.ok maybe good to use for external ID like Interactive brokers\nyes. by default all mongo key have name _id so i follow this, but we can have tradeId as well\nthen we read all porfolio trades and check that we not get error in response\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.pid\",  \"_as\": \"response\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"error\": {\"$has\": false}, \"length\": {\"$eq\":25}}, \"description\":\"check that all trades are added\"}\n#10  Compare with PSportfolioId=989 result\nexecute history command  and then want compare with original PS result\n{\"command\":\"portfolios.history\",\"_id\":\"_testPortfolioHistory\",\"sample\":\"day\",\"till\": \"2024-02-04\",\"_as\":\"history1\"}\nin this check we use \"path\":\"history1.days.[date=2024-01-24]\" which mean that we get in variable history1 field days and found in this array item which has date =2024-01-24\nthen we compare with value 101010 it is value from PS . for this moment we use $sub which calculate abs(a-b) <1, it allow compare with accuraty <1. \nas far decmal can be a bit different. so in this check we compare 2 fields cash with 8 and nav with 101010 which we get from PS result\nso I can run this test?yyes\n{ \"command\":\"tests.check\",\"path\":\"history1.days.[date=2024-01-24]\",\"conditions\":{\"cash\": {\"$sub\": 8},\"nav\": {\"$sub\": 101010} }, \"description\":\"compare 2024-01-24 nav, cash with PS\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "6620d2b8686c9279a80a1fd8"
  },
  "label": "tests_portfolios.positions_comments",
  "value": "#Use portfolio with name '_positionsPortfolio' for tests. For creation can be used command with name 'tests_989' which create some test portfolio\nit positions test\n#Store portfolio name in variable portfolioName\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_positionsPortfolio\"}}\n#Subscribe to  portfolios.positions  used requestTypes = 0 -snapshot, 1 subscribe, 2 unsubscribe, 3 emulate\nwe can set msgId manually as far later we can use it for emulate and unsubscribe \n \"_as\":\"positionsStart\" 0- we remember output. it is property with data in response  in variable positionsStart\n$var.portfolioName - use variable with name but _id will be lookuped by name.\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"1\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"positionsId\"}\n#Check that server accept our subscription, so in response present msag:'subscribed'\n{\"command\":\"tests.check\", \"path\":\"positionsStart\" , \"conditions\": {\"msg\":{\"$eq\":\"subscribed\"}}, \"description\":\"Subscription done\"}\n#Store eventName which used server for SSE communication with  our quote sources (IEXProxy server)\nWe need to know this eventName as far we want emulate event from quote sources (IEXProxy server).\n{\"command\": \"tests.setVar\", \"v\":{\"eventName\": \"$var.positionsStart.eventName\"}}\n#Some delay \n{\"command\":\"tests.delay\", \"delay\":3000}\n#Emulate quote data change with our eventName  , emulated changes changes property. Used property names im changes for symbols identical to property names like use IEX proxy.\nSo server treat command as some event from IEXProxy\nfor tests we need have controlled change some parameteras far quote data can absent in this moment or be unknown, really we emulate in server event like server return from iexproxy quotes \nso exists different in field names iexproxy quotes has own fieldname so we need set as they looks in iexproxy .osko we emulate changes for symbol XLC and field close,\nin PS2 iex close -> marketClose\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"3\", \"eventName\": \"$var.eventName\", \"changes\": [{\"symbol\":\"XLC\",\"close\":82} ]}\n# Wait and store emulated event in variable position1\nimportant command we need wait response  and store it in variable . curently we must return change this parameters and recalc weights for all portfolio\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId\", \"to\":\"position1\"}\n# Emulate next changes for XLC, AMJ symbols\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"3\", \"eventName\": \"$var.eventName\",\"changes\": [{\"symbol\":\"XLC\",\"close\":82.62}, { \"symbol\":\"AMJ\",\"close\":2} ]}\n# Wait and store emulated event in variable position2\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId\", \"to\":\"position2\"}\n#Unsubscribe. we must set parameter \"subscribeId\"= msgId  with which we subscribe. Allowed use symbolic  id. By defaylt use numbers, \n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"2\",\"subscribeId\":\"positionsId\"}\n\nwhen we emulated several changes we check that we recieve it. What is a weight?\nweight calculated according price/rate change  so volume*rate*price/sumall\ntest too simple and check our price change also compare direction weight change, curently we set too small price  for AMJ =2 and this great visible in weight change\nsouppose that test will be more , but it creation is not simple, as far editor is not show multiple errors in sintx, one from visual error present is gray color inside command. \nI show noe on screen. i remove \" this visible as gray color inside command parameters, when remove , this invisible, perhaps in future editor will be with autocomplete command and paramet=ers ad error checks\n#Some tests\n{\"command\":\"tests.check\",\"path\":\"position1.[symbol=XLC]\",\"conditions\":{\"marketClose\":{\"$eq\": 82}}, \"description\":\"check that emulated value for XLC correct\"}\n{\"command\":\"tests.check\",\"path\":\"position2.[symbol=XLC]\",\"conditions\":{\"marketClose\":{\"$eq\": 82.62}}, \"description\":\"check that emulated value XLC correct\"}\n{\"command\":\"tests.check\",\"path\":\"position2.[symbol=AMJ]\",\"conditions\":{\"marketClose\":{\"$eq\": 2}}, \"description\":\"check that emulated value AMJ correct\"}\n{\"command\":\"tests.check\",\"path\":\"position1.[symbol=AMJ]\",\"conditions\":{\"weight\":{\"$gt\": \"$var.position2.[symbol=AMJ].weight\"}}, \"description\":\"check that AMJ weights changed in correct direction\"}\n#Some print\n{\"command\": \"tests.getVar\",\"path\":\"position1.[symbol=XLC].weight\"}\n{\"command\": \"tests.getVar\",\"path\":\"position2.[symbol=XLC].weight\"}\n{\"command\": \"tests.getVar\",\"path\":\"position2.[symbol=AMJ].marketClose\"}\nso start?\n\nyes",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "6622825242a4996afbe367bd"
  },
  "label": "ScandiGlobalDEMO_create",
  "value": "{\"command\":\"portfolios.remove\", \"_id\":\"ScandiGlobalDEMO\"}\n{\"command\":\"portfolios.add\",\"_id\": \"65f52f98ab7128acd188b333\",\"name\":\"ScandiGlobalDEMO\",\"description\":\"PS1009\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\nInsert Cash\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"amount\":\"100000\",\"currency\":\"EUR\", \"tradeTime\" :\"2024-02-10T07:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506388\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"538.2900\",\"currency\":\"USD\",\"rate\":\"0.9443\",\"volume\":\"6\",\"fee\":\"3.229740\",\"symbol\":\"LLY\",\"name\":\"Eli Lilly and Company\",\"tradeTime\":\"2023-10-02T00:02:48\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506390\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"616.6400\",\"currency\":\"USD\",\"rate\":\"0.9498\",\"volume\":\"11\",\"fee\":\"5.921190\",\"symbol\":\"LLY\",\"name\":\"Eli Lilly and Company\",\"tradeTime\":\"2023-10-16T00:02:50\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506336\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"425.0800\",\"currency\":\"USD\",\"rate\":\"0.9327\",\"volume\":\"17\",\"fee\":\"7.226360\",\"symbol\":\"LLY\",\"name\":\"Eli Lilly and Company\",\"tradeTime\":\"2023-05-29T00:01:56\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506293\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1263.5000\",\"currency\":\"SEK\",\"rate\":\"0.0911\",\"volume\":\"71\",\"fee\":\"89.708500\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2022-10-17T00:01:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506271\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1329.0000\",\"currency\":\"SEK\",\"rate\":\"0.0965\",\"volume\":\"33\",\"fee\":\"43.857000\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2022-08-08T00:00:51\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506275\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1326.0000\",\"currency\":\"SEK\",\"rate\":\"0.0931\",\"volume\":\"71\",\"fee\":\"94.146000\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2022-09-05T00:00:55\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506227\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1305.5000\",\"currency\":\"SEK\",\"rate\":\"0.0967\",\"volume\":\"33\",\"fee\":\"43.081500\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2022-05-02T00:00:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506303\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1395.0000\",\"currency\":\"SEK\",\"rate\":\"0.0920\",\"volume\":\"126\",\"fee\":\"175.770000\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2022-11-28T00:01:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506316\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1428.5000\",\"currency\":\"SEK\",\"rate\":\"0.0893\",\"volume\":\"1\",\"fee\":\"1.395000\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2022-12-26T00:01:36\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506326\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1485.0000\",\"currency\":\"SEK\",\"rate\":\"0.0892\",\"volume\":\"41\",\"fee\":\"60.885000\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2023-01-09T00:01:46\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506327\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1397.5000\",\"currency\":\"SEK\",\"rate\":\"0.0898\",\"volume\":\"84\",\"fee\":\"124.740000\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2023-01-23T00:01:47\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506223\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"282.1200\",\"currency\":\"USD\",\"rate\":\"0.9491\",\"volume\":\"38\",\"fee\":\"10.720560\",\"symbol\":\"AON\",\"name\":\"Aon plc\",\"tradeTime\":\"2022-05-02T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506243\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"277.8200\",\"currency\":\"USD\",\"rate\":\"0.9598\",\"volume\":\"38\",\"fee\":\"10.557160\",\"symbol\":\"AON\",\"name\":\"Aon plc\",\"tradeTime\":\"2022-05-16T00:00:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506262\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.1400\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"154\",\"fee\":\"15.421560\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2022-07-11T00:00:42\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506226\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.4700\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"46\",\"fee\":\"4.621620\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2022-05-02T00:00:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506267\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"98.0500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"154\",\"fee\":\"15.099700\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2022-07-25T00:00:47\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506270\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"96.8500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"46\",\"fee\":\"4.455100\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2022-08-08T00:00:50\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506350\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"97.8400\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"89\",\"fee\":\"8.707760\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2023-06-26T00:02:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506399\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"82.1300\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"89\",\"fee\":\"7.309570\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2023-10-30T00:02:59\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506235\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"136.0200\",\"currency\":\"USD\",\"rate\":\"0.9491\",\"volume\":\"14\",\"fee\":\"1.904280\",\"symbol\":\"KMB\",\"name\":\"Kimberly-Clark Corporation\",\"tradeTime\":\"2022-05-02T00:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506260\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"133.5900\",\"currency\":\"USD\",\"rate\":\"0.9453\",\"volume\":\"14\",\"fee\":\"1.870260\",\"symbol\":\"KMB\",\"name\":\"Kimberly-Clark Corporation\",\"tradeTime\":\"2022-06-27T00:00:40\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506396\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"243.0000\",\"currency\":\"NOK\",\"rate\":\"0.0848\",\"volume\":\"382\",\"fee\":\"92.826000\",\"symbol\":\"FRO:XOSL\",\"name\":\"FRONTLINE LTD\",\"tradeTime\":\"2023-10-30T00:02:56\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506365\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"151.1000\",\"currency\":\"NOK\",\"rate\":\"0.0891\",\"volume\":\"479\",\"fee\":\"72.300260\",\"symbol\":\"FRO:XOSL\",\"name\":\"FRONTLINE LTD\",\"tradeTime\":\"2023-07-24T00:02:25\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506352\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"150.9400\",\"currency\":\"NOK\",\"rate\":\"0.0848\",\"volume\":\"479\",\"fee\":\"72.300260\",\"symbol\":\"FRO:XOSL\",\"name\":\"FRONTLINE LTD\",\"tradeTime\":\"2023-06-26T00:02:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506347\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"160.8000\",\"currency\":\"NOK\",\"rate\":\"0.0862\",\"volume\":\"1237\",\"fee\":\"198.909600\",\"symbol\":\"FRO:XOSL\",\"name\":\"FRONTLINE LTD\",\"tradeTime\":\"2023-06-12T00:02:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506340\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"164.6400\",\"currency\":\"NOK\",\"rate\":\"0.0839\",\"volume\":\"16\",\"fee\":\"2.634240\",\"symbol\":\"FRO:XOSL\",\"name\":\"FRONTLINE LTD\",\"tradeTime\":\"2023-05-29T00:02:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506300\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"137.1000\",\"currency\":\"NOK\",\"rate\":\"0.0976\",\"volume\":\"717\",\"fee\":\"98.300700\",\"symbol\":\"FRO:XOSL\",\"name\":\"FRONTLINE LTD\",\"tradeTime\":\"2022-11-14T00:01:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506288\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"128.4000\",\"currency\":\"NOK\",\"rate\":\"0.0964\",\"volume\":\"536\",\"fee\":\"68.822400\",\"symbol\":\"FRO:XOSL\",\"name\":\"FRONTLINE LTD\",\"tradeTime\":\"2022-10-17T00:01:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506244\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"56.6000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"45\",\"fee\":\"2.547000\",\"symbol\":\"BN:XPAR\",\"name\":\"DANONE\",\"tradeTime\":\"2022-05-16T00:00:24\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506233\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"57.3000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"45\",\"fee\":\"2.578500\",\"symbol\":\"BN:XPAR\",\"name\":\"DANONE\",\"tradeTime\":\"2022-05-02T00:00:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506253\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"150.1000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"86\",\"fee\":\"14.082500\",\"symbol\":\"DB1:XETR\",\"name\":\"DEUTSCHE BOERSE NA O.N.\",\"tradeTime\":\"2022-06-13T00:00:33\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506257\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"158.9500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"64\",\"fee\":\"10.172800\",\"symbol\":\"DB1:XETR\",\"name\":\"DEUTSCHE BOERSE NA O.N.\",\"tradeTime\":\"2022-06-27T00:00:37\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506228\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"166.4500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"25\",\"fee\":\"4.161250\",\"symbol\":\"DB1:XETR\",\"name\":\"DEUTSCHE BOERSE NA O.N.\",\"tradeTime\":\"2022-05-02T00:00:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506250\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"163.7500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"62\",\"fee\":\"10.152500\",\"symbol\":\"DB1:XETR\",\"name\":\"DEUTSCHE BOERSE NA O.N.\",\"tradeTime\":\"2022-05-30T00:00:30\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506325\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"159.9500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"9\",\"fee\":\"1.439550\",\"symbol\":\"DB1:XETR\",\"name\":\"DEUTSCHE BOERSE NA O.N.\",\"tradeTime\":\"2023-01-09T00:01:45\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506315\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"163.4500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"23\",\"fee\":\"3.999700\",\"symbol\":\"DB1:XETR\",\"name\":\"DEUTSCHE BOERSE NA O.N.\",\"tradeTime\":\"2022-12-26T00:01:35\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506304\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"173.9000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"32\",\"fee\":\"5.564800\",\"symbol\":\"DB1:XETR\",\"name\":\"DEUTSCHE BOERSE NA O.N.\",\"tradeTime\":\"2022-11-28T00:01:24\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506301\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"161.9500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"65\",\"fee\":\"10.526750\",\"symbol\":\"DB1:XETR\",\"name\":\"DEUTSCHE BOERSE NA O.N.\",\"tradeTime\":\"2022-11-14T00:01:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506239\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"306.8000\",\"currency\":\"USD\",\"rate\":\"0.9491\",\"volume\":\"3\",\"fee\":\"0.920400\",\"symbol\":\"MCK\",\"name\":\"McKesson Corporation\",\"tradeTime\":\"2022-05-02T00:00:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506248\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"327.8300\",\"currency\":\"USD\",\"rate\":\"0.9598\",\"volume\":\"3\",\"fee\":\"0.983490\",\"symbol\":\"MCK\",\"name\":\"McKesson Corporation\",\"tradeTime\":\"2022-05-16T00:00:28\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506286\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.1000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"115\",\"fee\":\"11.511500\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2022-10-17T00:01:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506345\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"118.5000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"114\",\"fee\":\"13.509000\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-06-12T00:02:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506351\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"119.7000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"58\",\"fee\":\"6.942600\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-06-26T00:02:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506362\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"116.6000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"58\",\"fee\":\"6.762800\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-07-10T00:02:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506317\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"106.4000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1\",\"fee\":\"0.100100\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2022-12-26T00:01:37\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506415\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"133.2000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"25\",\"fee\":\"3.330000\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-12-11T00:03:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506433\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"140.4500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"156\",\"fee\":\"21.910200\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2024-02-05T00:03:33\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506439\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"136.4500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"9\",\"fee\":\"1.228050\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2024-02-19T00:03:39\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506382\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"121.9500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"106\",\"fee\":\"12.926700\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-10-02T00:02:42\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506408\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"128.9500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"84\",\"fee\":\"10.831800\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-11-27T00:03:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506224\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"79.4600\",\"currency\":\"GBP\",\"rate\":\"1.1934\",\"volume\":\"103\",\"fee\":\"8.184380\",\"symbol\":\"CNA:XLON\",\"name\":\"CENTRICA PLC ORD 6 14/81P\",\"tradeTime\":\"2022-05-02T00:00:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506292\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"72.3000\",\"currency\":\"GBP\",\"rate\":\"1.1635\",\"volume\":\"103\",\"fee\":\"7.446900\",\"symbol\":\"CNA:XLON\",\"name\":\"CENTRICA PLC ORD 6 14/81P\",\"tradeTime\":\"2022-10-17T00:01:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506359\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"121.2500\",\"currency\":\"GBP\",\"rate\":\"1.1704\",\"volume\":\"36\",\"fee\":\"4.365000\",\"symbol\":\"CNA:XLON\",\"name\":\"CENTRICA PLC ORD 6 14/81P\",\"tradeTime\":\"2023-07-10T00:02:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506368\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"139.0500\",\"currency\":\"GBP\",\"rate\":\"1.1586\",\"volume\":\"37\",\"fee\":\"5.144850\",\"symbol\":\"CNA:XLON\",\"name\":\"CENTRICA PLC ORD 6 14/81P\",\"tradeTime\":\"2023-08-07T00:02:28\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506438\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"130.8000\",\"currency\":\"GBP\",\"rate\":\"1.1701\",\"volume\":\"73\",\"fee\":\"9.548400\",\"symbol\":\"CNA:XLON\",\"name\":\"CENTRICA PLC ORD 6 14/81P\",\"tradeTime\":\"2024-02-19T00:03:38\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506255\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"59.4000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"208\",\"fee\":\"12.355200\",\"symbol\":\"BAYN:XETR\",\"name\":\"BAYER AG NA O.N.\",\"tradeTime\":\"2022-06-27T00:00:35\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506264\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"56.1500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"208\",\"fee\":\"11.679200\",\"symbol\":\"BAYN:XETR\",\"name\":\"BAYER AG NA O.N.\",\"tradeTime\":\"2022-07-11T00:00:44\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506245\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"145.0500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"13\",\"fee\":\"1.885650\",\"symbol\":\"HNR1:XETR\",\"name\":\"HANNOVER RUECK SE NA O.N.\",\"tradeTime\":\"2022-05-16T00:00:25\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506234\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"145.8500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"13\",\"fee\":\"1.896050\",\"symbol\":\"HNR1:XETR\",\"name\":\"HANNOVER RUECK SE NA O.N.\",\"tradeTime\":\"2022-05-02T00:00:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506354\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"190.4000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"35\",\"fee\":\"6.664000\",\"symbol\":\"HNR1:XETR\",\"name\":\"HANNOVER RUECK SE NA O.N.\",\"tradeTime\":\"2023-06-26T00:02:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506309\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"186.3500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"35\",\"fee\":\"6.522250\",\"symbol\":\"HNR1:XETR\",\"name\":\"HANNOVER RUECK SE NA O.N.\",\"tradeTime\":\"2022-12-12T00:01:29\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506406\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"219.2000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"41\",\"fee\":\"8.987200\",\"symbol\":\"HNR1:XETR\",\"name\":\"HANNOVER RUECK SE NA O.N.\",\"tradeTime\":\"2023-11-27T00:03:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506357\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"131.9800\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"60\",\"fee\":\"7.918800\",\"symbol\":\"AIR:XETR\",\"name\":\"AIRBUS\",\"tradeTime\":\"2023-07-10T00:02:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506369\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"130.8200\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"60\",\"fee\":\"7.849200\",\"symbol\":\"AIR:XETR\",\"name\":\"AIRBUS\",\"tradeTime\":\"2023-08-07T00:02:29\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506389\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"74.1600\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"2\",\"fee\":\"0.142800\",\"symbol\":\"HEI:XETR\",\"name\":\"HEIDELBERGCEMENT AG O.N.\",\"tradeTime\":\"2023-10-16T00:02:49\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506380\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"71.4000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"72\",\"fee\":\"5.330880\",\"symbol\":\"HEI:XETR\",\"name\":\"HEIDELBERGCEMENT AG O.N.\",\"tradeTime\":\"2023-09-18T00:02:40\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506377\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"74.0400\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"74\",\"fee\":\"5.478960\",\"symbol\":\"HEI:XETR\",\"name\":\"HEIDELBERGCEMENT AG O.N.\",\"tradeTime\":\"2023-09-04T00:02:37\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506360\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"144.3800\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"48\",\"fee\":\"6.930240\",\"symbol\":\"SIE:XETR\",\"name\":\"SIEMENS AG  NA O.N.\",\"tradeTime\":\"2023-07-10T00:02:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506334\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"157.2000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"48\",\"fee\":\"7.545600\",\"symbol\":\"SIE:XETR\",\"name\":\"SIEMENS AG  NA O.N.\",\"tradeTime\":\"2023-05-29T00:01:54\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506298\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"4.8100\",\"currency\":\"AUD\",\"rate\":\"0.6478\",\"volume\":\"5090\",\"fee\":\"24.482900\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2022-11-14T00:01:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506306\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"4.8200\",\"currency\":\"AUD\",\"rate\":\"0.6437\",\"volume\":\"3894\",\"fee\":\"18.769080\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2022-11-28T00:01:26\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506312\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"4.7400\",\"currency\":\"AUD\",\"rate\":\"0.6420\",\"volume\":\"1196\",\"fee\":\"5.669040\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2022-12-12T00:01:32\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506349\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"5.5600\",\"currency\":\"AUD\",\"rate\":\"0.6125\",\"volume\":\"3575\",\"fee\":\"19.877000\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2023-06-26T00:02:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506367\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"6.0000\",\"currency\":\"AUD\",\"rate\":\"0.5975\",\"volume\":\"2427\",\"fee\":\"14.562000\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2023-08-07T00:02:27\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506363\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.7200\",\"currency\":\"AUD\",\"rate\":\"0.6097\",\"volume\":\"2696\",\"fee\":\"15.421120\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2023-07-10T00:02:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506373\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.7900\",\"currency\":\"AUD\",\"rate\":\"0.5886\",\"volume\":\"7\",\"fee\":\"0.042000\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2023-08-21T00:02:33\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506379\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.7600\",\"currency\":\"AUD\",\"rate\":\"0.6037\",\"volume\":\"3299\",\"fee\":\"19.101210\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2023-09-18T00:02:39\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506407\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"5.9400\",\"currency\":\"AUD\",\"rate\":\"0.6016\",\"volume\":\"1777\",\"fee\":\"10.555380\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2023-11-27T00:03:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506429\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.8800\",\"currency\":\"AUD\",\"rate\":\"0.6055\",\"volume\":\"213\",\"fee\":\"1.265220\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2024-01-22T00:03:29\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506432\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"6.1000\",\"currency\":\"AUD\",\"rate\":\"0.6034\",\"volume\":\"1651\",\"fee\":\"10.071100\",\"symbol\":\"IAG:APXL\",\"name\":\"INSUR.AUST FPO\",\"tradeTime\":\"2024-02-05T00:03:32\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506256\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"114.9000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"53\",\"fee\":\"6.089700\",\"symbol\":\"HO:XPAR\",\"name\":\"THALES\",\"tradeTime\":\"2022-06-27T00:00:36\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506246\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"116.0500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"1.160500\",\"symbol\":\"HO:XPAR\",\"name\":\"THALES\",\"tradeTime\":\"2022-05-16T00:00:26\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506237\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"120.8000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"1.208000\",\"symbol\":\"HO:XPAR\",\"name\":\"THALES\",\"tradeTime\":\"2022-05-02T00:00:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506281\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"123.0000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"140\",\"fee\":\"17.220000\",\"symbol\":\"HO:XPAR\",\"name\":\"THALES\",\"tradeTime\":\"2022-09-05T00:01:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506290\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"114.0500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"78\",\"fee\":\"8.895900\",\"symbol\":\"HO:XPAR\",\"name\":\"THALES\",\"tradeTime\":\"2022-10-17T00:01:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506269\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"123.1500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"95\",\"fee\":\"11.699250\",\"symbol\":\"HO:XPAR\",\"name\":\"THALES\",\"tradeTime\":\"2022-08-08T00:00:49\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506311\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"121.5000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"86\",\"fee\":\"10.449000\",\"symbol\":\"HO:XPAR\",\"name\":\"THALES\",\"tradeTime\":\"2022-12-12T00:01:31\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506341\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"31.7900\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"334\",\"fee\":\"10.617860\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-06-12T00:02:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506338\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"31.1800\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"312\",\"fee\":\"9.728160\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-05-29T00:01:58\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506353\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"31.0300\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"334\",\"fee\":\"10.364020\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-06-26T00:02:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506329\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"30.7600\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"312\",\"fee\":\"9.597120\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-05-15T00:01:49\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506411\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"36.4100\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"368\",\"fee\":\"13.398880\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-11-27T00:03:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506427\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"39.7500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"148\",\"fee\":\"5.388680\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2024-01-22T00:03:27\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506434\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"36.6100\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"249\",\"fee\":\"9.115890\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2024-02-19T00:03:34\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506391\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"33.1300\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"297\",\"fee\":\"10.014840\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-10-16T00:02:51\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506383\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"33.7200\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"306\",\"fee\":\"10.318320\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-10-02T00:02:43\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506402\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"33.7800\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"224\",\"fee\":\"7.566720\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-11-13T00:03:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506398\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"33.7000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"283\",\"fee\":\"9.537100\",\"symbol\":\"ACS:BMEX\",\"name\":\"ACS,ACTIVIDADES DE CONSTRUCCION\",\"tradeTime\":\"2023-10-30T00:02:58\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506401\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"86.5700\",\"currency\":\"USD\",\"rate\":\"0.9354\",\"volume\":\"94\",\"fee\":\"8.137580\",\"symbol\":\"ACGL\",\"name\":\"Arch Capital Group Ltd.\",\"tradeTime\":\"2023-11-13T00:03:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506387\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"79.3700\",\"currency\":\"USD\",\"rate\":\"0.9443\",\"volume\":\"57\",\"fee\":\"4.524090\",\"symbol\":\"ACGL\",\"name\":\"Arch Capital Group Ltd.\",\"tradeTime\":\"2023-10-02T00:02:47\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506414\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"79.6100\",\"currency\":\"USD\",\"rate\":\"0.9296\",\"volume\":\"94\",\"fee\":\"7.483340\",\"symbol\":\"ACGL\",\"name\":\"Arch Capital Group Ltd.\",\"tradeTime\":\"2023-12-11T00:03:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506320\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"62.6700\",\"currency\":\"USD\",\"rate\":\"0.9366\",\"volume\":\"124\",\"fee\":\"7.771080\",\"symbol\":\"ACGL\",\"name\":\"Arch Capital Group Ltd.\",\"tradeTime\":\"2023-01-09T00:01:40\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506372\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"74.2400\",\"currency\":\"USD\",\"rate\":\"0.9176\",\"volume\":\"143\",\"fee\":\"10.683530\",\"symbol\":\"ACGL\",\"name\":\"Arch Capital Group Ltd.\",\"tradeTime\":\"2023-08-21T00:02:32\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506356\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"74.7100\",\"currency\":\"USD\",\"rate\":\"0.9116\",\"volume\":\"200\",\"fee\":\"14.942000\",\"symbol\":\"ACGL\",\"name\":\"Arch Capital Group Ltd.\",\"tradeTime\":\"2023-07-10T00:02:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506339\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"71.7800\",\"currency\":\"USD\",\"rate\":\"0.9327\",\"volume\":\"124\",\"fee\":\"8.900720\",\"symbol\":\"ACGL\",\"name\":\"Arch Capital Group Ltd.\",\"tradeTime\":\"2023-05-29T00:01:59\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506230\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"6.9000\",\"currency\":\"AUD\",\"rate\":\"0.6706\",\"volume\":\"751\",\"fee\":\"5.181900\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2022-05-02T00:00:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506259\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.7400\",\"currency\":\"AUD\",\"rate\":\"0.6564\",\"volume\":\"751\",\"fee\":\"4.310740\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2022-06-27T00:00:39\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506358\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"8.4600\",\"currency\":\"AUD\",\"rate\":\"0.6097\",\"volume\":\"1036\",\"fee\":\"8.764560\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-07-10T00:02:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506366\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"8.5900\",\"currency\":\"AUD\",\"rate\":\"0.6045\",\"volume\":\"718\",\"fee\":\"6.074280\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-07-24T00:02:26\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506370\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"8.4500\",\"currency\":\"AUD\",\"rate\":\"0.5975\",\"volume\":\"318\",\"fee\":\"2.687100\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-08-07T00:02:30\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506375\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"8.6300\",\"currency\":\"AUD\",\"rate\":\"0.5977\",\"volume\":\"1578\",\"fee\":\"13.618140\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-09-04T00:02:35\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506440\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"8.6600\",\"currency\":\"AUD\",\"rate\":\"0.6066\",\"volume\":\"3751\",\"fee\":\"32.483660\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2024-02-19T00:03:40\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506385\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"8.8700\",\"currency\":\"AUD\",\"rate\":\"0.6065\",\"volume\":\"1473\",\"fee\":\"13.065510\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-10-02T00:02:45\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506381\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"8.6700\",\"currency\":\"AUD\",\"rate\":\"0.6037\",\"volume\":\"2\",\"fee\":\"0.017260\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-09-18T00:02:41\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506394\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"9.3000\",\"currency\":\"AUD\",\"rate\":\"0.5996\",\"volume\":\"4\",\"fee\":\"0.035480\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-10-16T00:02:54\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506400\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"9.1700\",\"currency\":\"AUD\",\"rate\":\"0.6000\",\"volume\":\"1530\",\"fee\":\"14.030100\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-10-30T00:03:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506418\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"8.4000\",\"currency\":\"AUD\",\"rate\":\"0.6175\",\"volume\":\"1361\",\"fee\":\"11.432400\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2023-12-25T00:03:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506423\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"8.4200\",\"currency\":\"AUD\",\"rate\":\"0.6138\",\"volume\":\"1236\",\"fee\":\"10.407120\",\"symbol\":\"ORG:APXL\",\"name\":\"ORIGIN ENE FPO\",\"tradeTime\":\"2024-01-08T00:03:23\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506254\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.5600\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"21\",\"fee\":\"0.120330\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-06-13T00:00:34\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506258\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.0980\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"573\",\"fee\":\"2.921154\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-06-27T00:00:38\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506229\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"5.7300\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"594\",\"fee\":\"3.403620\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-05-02T00:00:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506282\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.9390\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1400\",\"fee\":\"8.876000\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-09-19T00:01:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506287\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"6.4800\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1191\",\"fee\":\"7.717680\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-10-17T00:01:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506274\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"6.3400\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1\",\"fee\":\"0.005570\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-08-22T00:00:54\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506266\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"5.5700\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1401\",\"fee\":\"7.803570\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-07-25T00:00:46\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506297\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"6.2000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"5\",\"fee\":\"0.032400\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-10-31T00:01:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506302\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.2600\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1186\",\"fee\":\"6.238360\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2022-11-14T00:01:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506413\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"6.6500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1083\",\"fee\":\"7.201950\",\"symbol\":\"XPBRA:BMEX\",\"name\":\"PETROLEO BRASILEIRO,S.A. -PETRO\",\"tradeTime\":\"2023-12-11T00:03:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506231\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"125.8000\",\"currency\":\"CHF\",\"rate\":\"0.9743\",\"volume\":\"24\",\"fee\":\"3.019200\",\"symbol\":\"NESN:XSWX\",\"name\":\"NESTLE N\",\"tradeTime\":\"2022-05-02T00:00:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506252\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"116.9600\",\"currency\":\"CHF\",\"rate\":\"0.9683\",\"volume\":\"83\",\"fee\":\"9.707680\",\"symbol\":\"NESN:XSWX\",\"name\":\"NESTLE N\",\"tradeTime\":\"2022-05-30T00:00:32\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506242\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"123.3200\",\"currency\":\"CHF\",\"rate\":\"0.9577\",\"volume\":\"59\",\"fee\":\"7.275880\",\"symbol\":\"NESN:XSWX\",\"name\":\"NESTLE N\",\"tradeTime\":\"2022-05-16T00:00:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506333\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"37.6700\",\"currency\":\"USD\",\"rate\":\"0.9193\",\"volume\":\"15\",\"fee\":\"0.565050\",\"symbol\":\"JD\",\"name\":\"JD.com Inc. Sponsored ADR Class A\",\"tradeTime\":\"2023-05-15T00:01:53\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506328\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"61.0600\",\"currency\":\"USD\",\"rate\":\"0.9203\",\"volume\":\"63\",\"fee\":\"3.977190\",\"symbol\":\"JD\",\"name\":\"JD.com Inc. Sponsored ADR Class A\",\"tradeTime\":\"2023-01-23T00:01:48\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506322\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"63.1300\",\"currency\":\"USD\",\"rate\":\"0.9366\",\"volume\":\"78\",\"fee\":\"4.924140\",\"symbol\":\"JD\",\"name\":\"JD.com Inc. Sponsored ADR Class A\",\"tradeTime\":\"2023-01-09T00:01:42\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506225\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1702.0000\",\"currency\":\"GBP\",\"rate\":\"1.1934\",\"volume\":\"3\",\"fee\":\"5.106000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2022-05-02T00:00:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506272\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1944.0000\",\"currency\":\"GBP\",\"rate\":\"1.1791\",\"volume\":\"3\",\"fee\":\"5.106000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2022-08-22T00:00:52\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506277\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1844.5000\",\"currency\":\"GBP\",\"rate\":\"1.1568\",\"volume\":\"4\",\"fee\":\"7.378000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2022-09-05T00:00:57\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506294\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1806.5000\",\"currency\":\"GBP\",\"rate\":\"1.1635\",\"volume\":\"4\",\"fee\":\"7.226000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2022-10-17T00:01:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506343\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"2186.0000\",\"currency\":\"GBP\",\"rate\":\"1.1663\",\"volume\":\"7\",\"fee\":\"15.302000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2023-06-12T00:02:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506337\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"2216.0000\",\"currency\":\"GBP\",\"rate\":\"1.1516\",\"volume\":\"2\",\"fee\":\"4.432000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2023-05-29T00:01:57\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506355\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"2171.0000\",\"currency\":\"GBP\",\"rate\":\"1.1671\",\"volume\":\"7\",\"fee\":\"15.197000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2023-06-26T00:02:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506371\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1957.5000\",\"currency\":\"GBP\",\"rate\":\"1.1692\",\"volume\":\"2\",\"fee\":\"4.342000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2023-08-21T00:02:31\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506332\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"2167.0000\",\"currency\":\"GBP\",\"rate\":\"1.1446\",\"volume\":\"6\",\"fee\":\"13.002000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2023-05-15T00:01:52\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506319\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1900.0000\",\"currency\":\"GBP\",\"rate\":\"1.1370\",\"volume\":\"6\",\"fee\":\"11.400000\",\"symbol\":\"CPG:XLON\",\"name\":\"COMPASS GROUP PLC ORD 11 1/20P\",\"tradeTime\":\"2023-01-09T00:01:39\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506342\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"109.0000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"48\",\"fee\":\"5.232000\",\"symbol\":\"BMW:XETR\",\"name\":\"BAY.MOTOREN WERKE AG ST\",\"tradeTime\":\"2023-06-12T00:02:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506364\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"108.6000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"48\",\"fee\":\"5.232000\",\"symbol\":\"BMW:XETR\",\"name\":\"BAY.MOTOREN WERKE AG ST\",\"tradeTime\":\"2023-07-24T00:02:24\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506238\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"159.7500\",\"currency\":\"USD\",\"rate\":\"0.9491\",\"volume\":\"6\",\"fee\":\"0.958500\",\"symbol\":\"CVX\",\"name\":\"Chevron Corporation\",\"tradeTime\":\"2022-05-02T00:00:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506247\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"173.0100\",\"currency\":\"USD\",\"rate\":\"0.9598\",\"volume\":\"6\",\"fee\":\"1.038060\",\"symbol\":\"CVX\",\"name\":\"Chevron Corporation\",\"tradeTime\":\"2022-05-16T00:00:27\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506295\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"48.2300\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"166\",\"fee\":\"8.006180\",\"symbol\":\"EDEN:XPAR\",\"name\":\"EDENRED\",\"tradeTime\":\"2022-10-17T00:01:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506276\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"50.7600\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"166\",\"fee\":\"8.426160\",\"symbol\":\"EDEN:XPAR\",\"name\":\"EDENRED\",\"tradeTime\":\"2022-09-05T00:00:56\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506314\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"50.8600\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"113\",\"fee\":\"5.665820\",\"symbol\":\"EDEN:XPAR\",\"name\":\"EDENRED\",\"tradeTime\":\"2022-12-26T00:01:34\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506299\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"50.1400\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"113\",\"fee\":\"5.665820\",\"symbol\":\"EDEN:XPAR\",\"name\":\"EDENRED\",\"tradeTime\":\"2022-11-14T00:01:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506374\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"267.9000\",\"currency\":\"AUD\",\"rate\":\"0.5977\",\"volume\":\"52\",\"fee\":\"13.930800\",\"symbol\":\"COH:APXL\",\"name\":\"COCHLEAR FPO\",\"tradeTime\":\"2023-09-04T00:02:34\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506421\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"295.1400\",\"currency\":\"AUD\",\"rate\":\"0.6175\",\"volume\":\"40\",\"fee\":\"11.805600\",\"symbol\":\"COH:APXL\",\"name\":\"COCHLEAR FPO\",\"tradeTime\":\"2023-12-25T00:03:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506428\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"298.9600\",\"currency\":\"AUD\",\"rate\":\"0.6055\",\"volume\":\"12\",\"fee\":\"3.541680\",\"symbol\":\"COH:APXL\",\"name\":\"COCHLEAR FPO\",\"tradeTime\":\"2024-01-22T00:03:28\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506291\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"260.0000\",\"currency\":\"SEK\",\"rate\":\"0.0911\",\"volume\":\"532\",\"fee\":\"138.320000\",\"symbol\":\"AXFO:XSTO\",\"name\":\"Axfood AB\",\"tradeTime\":\"2022-10-17T00:01:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506278\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"321.2000\",\"currency\":\"SEK\",\"rate\":\"0.0931\",\"volume\":\"421\",\"fee\":\"135.225200\",\"symbol\":\"AXFO:XSTO\",\"name\":\"Axfood AB\",\"tradeTime\":\"2022-09-05T00:00:58\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506283\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"328.0000\",\"currency\":\"SEK\",\"rate\":\"0.0927\",\"volume\":\"201\",\"fee\":\"64.561200\",\"symbol\":\"AXFO:XSTO\",\"name\":\"Axfood AB\",\"tradeTime\":\"2022-09-19T00:01:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506249\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"297.9000\",\"currency\":\"SEK\",\"rate\":\"0.0953\",\"volume\":\"49\",\"fee\":\"14.597100\",\"symbol\":\"AXFO:XSTO\",\"name\":\"Axfood AB\",\"tradeTime\":\"2022-05-16T00:00:29\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506222\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"294.8000\",\"currency\":\"SEK\",\"rate\":\"0.0967\",\"volume\":\"361\",\"fee\":\"106.422800\",\"symbol\":\"AXFO:XSTO\",\"name\":\"Axfood AB\",\"tradeTime\":\"2022-05-02T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506261\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"36.8100\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"528\",\"fee\":\"19.435680\",\"symbol\":\"RWE:XETR\",\"name\":\"RWE AG ST O.N.\",\"tradeTime\":\"2022-06-27T00:00:41\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506221\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"38.8500\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"611\",\"fee\":\"23.737350\",\"symbol\":\"RWE:XETR\",\"name\":\"RWE AG ST O.N.\",\"tradeTime\":\"2022-05-02T00:00:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506265\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"36.4900\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"83\",\"fee\":\"3.028670\",\"symbol\":\"RWE:XETR\",\"name\":\"RWE AG ST O.N.\",\"tradeTime\":\"2022-07-11T00:00:45\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506409\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"275.7000\",\"currency\":\"NOK\",\"rate\":\"0.0854\",\"volume\":\"375\",\"fee\":\"103.387505\",\"symbol\":\"SCHA:XOSL\",\"name\":\"SCHIBSTED ASA\",\"tradeTime\":\"2023-11-27T00:03:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506392\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"237.6000\",\"currency\":\"NOK\",\"rate\":\"0.0870\",\"volume\":\"1\",\"fee\":\"0.220700\",\"symbol\":\"SCHA:XOSL\",\"name\":\"SCHIBSTED ASA\",\"tradeTime\":\"2023-10-16T00:02:52\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506376\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"220.7000\",\"currency\":\"NOK\",\"rate\":\"0.0868\",\"volume\":\"376\",\"fee\":\"82.983200\",\"symbol\":\"SCHA:XOSL\",\"name\":\"SCHIBSTED ASA\",\"tradeTime\":\"2023-09-04T00:02:36\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506361\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"4.2830\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1700\",\"fee\":\"7.281100\",\"symbol\":\"BAMI:XMIL\",\"name\":\"BANCO BPM\",\"tradeTime\":\"2023-07-10T00:02:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506321\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"3.6200\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1700\",\"fee\":\"6.154000\",\"symbol\":\"BAMI:XMIL\",\"name\":\"BANCO BPM\",\"tradeTime\":\"2023-01-09T00:01:41\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506417\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"4.7700\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1294\",\"fee\":\"6.172380\",\"symbol\":\"BAMI:XMIL\",\"name\":\"BANCO BPM\",\"tradeTime\":\"2023-12-25T00:03:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506425\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.1200\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1294\",\"fee\":\"6.625280\",\"symbol\":\"BAMI:XMIL\",\"name\":\"BANCO BPM\",\"tradeTime\":\"2024-01-08T00:03:25\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506436\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"4.9200\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1149\",\"fee\":\"5.653080\",\"symbol\":\"BAMI:XMIL\",\"name\":\"BANCO BPM\",\"tradeTime\":\"2024-02-19T00:03:36\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506403\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"5.3200\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1335\",\"fee\":\"7.102200\",\"symbol\":\"BAMI:XMIL\",\"name\":\"BANCO BPM\",\"tradeTime\":\"2023-11-13T00:03:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506397\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"4.7200\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1335\",\"fee\":\"6.301200\",\"symbol\":\"BAMI:XMIL\",\"name\":\"BANCO BPM\",\"tradeTime\":\"2023-10-30T00:02:57\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506241\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"753.6000\",\"currency\":\"GBP\",\"rate\":\"1.1766\",\"volume\":\"7\",\"fee\":\"5.275200\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2022-05-16T00:00:21\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506232\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"740.0000\",\"currency\":\"GBP\",\"rate\":\"1.1934\",\"volume\":\"3\",\"fee\":\"2.220000\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2022-05-02T00:00:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506280\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"787.4000\",\"currency\":\"GBP\",\"rate\":\"1.1568\",\"volume\":\"10\",\"fee\":\"7.874000\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2022-09-05T00:01:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506285\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"790.4000\",\"currency\":\"GBP\",\"rate\":\"1.1635\",\"volume\":\"15\",\"fee\":\"11.856000\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2022-10-17T00:01:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506348\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"948.8000\",\"currency\":\"GBP\",\"rate\":\"1.1663\",\"volume\":\"5\",\"fee\":\"4.744000\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2023-06-12T00:02:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506310\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"831.0000\",\"currency\":\"GBP\",\"rate\":\"1.1587\",\"volume\":\"5\",\"fee\":\"4.155000\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2022-12-12T00:01:30\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506323\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"835.2000\",\"currency\":\"GBP\",\"rate\":\"1.1370\",\"volume\":\"9\",\"fee\":\"7.516800\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2023-01-09T00:01:43\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506307\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"811.6000\",\"currency\":\"GBP\",\"rate\":\"1.1615\",\"volume\":\"12\",\"fee\":\"9.739200\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2022-11-28T00:01:27\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506424\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1145.0000\",\"currency\":\"GBP\",\"rate\":\"1.1623\",\"volume\":\"7\",\"fee\":\"8.015000\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2024-01-08T00:03:24\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506386\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1009.0000\",\"currency\":\"GBP\",\"rate\":\"1.1538\",\"volume\":\"12\",\"fee\":\"12.108000\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2023-10-02T00:02:46\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506395\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1106.5000\",\"currency\":\"GBP\",\"rate\":\"1.1464\",\"volume\":\"7\",\"fee\":\"7.745500\",\"symbol\":\"BA:XLON\",\"name\":\"BAE SYSTEMS PLC ORD 2.5P\",\"tradeTime\":\"2023-10-30T00:02:55\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506435\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"12.0000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"552\",\"fee\":\"6.624000\",\"symbol\":\"DBK:XETR\",\"name\":\"DEUTSCHE BANK AG NA O.N.\",\"tradeTime\":\"2024-02-19T00:03:35\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506251\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"13.3100\",\"currency\":\"USD\",\"rate\":\"0.9275\",\"volume\":\"779\",\"fee\":\"10.368490\",\"symbol\":\"AMCR\",\"name\":\"Amcor PLC\",\"tradeTime\":\"2022-05-30T00:00:31\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506240\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"12.9400\",\"currency\":\"USD\",\"rate\":\"0.9598\",\"volume\":\"779\",\"fee\":\"10.080260\",\"symbol\":\"AMCR\",\"name\":\"Amcor PLC\",\"tradeTime\":\"2022-05-16T00:00:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506416\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"53.1000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"203\",\"fee\":\"10.779300\",\"symbol\":\"1COV:XETR\",\"name\":\"COVESTRO AG  O.N.\",\"tradeTime\":\"2023-12-25T00:03:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506330\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"145.1000\",\"currency\":\"GBP\",\"rate\":\"1.1446\",\"volume\":\"39\",\"fee\":\"5.658900\",\"symbol\":\"RR:XLON\",\"name\":\"ROLLS-ROYCE HOLDINGS PLC ORD SH\",\"tradeTime\":\"2023-05-15T00:01:50\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506430\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"317.4000\",\"currency\":\"GBP\",\"rate\":\"1.1697\",\"volume\":\"22\",\"fee\":\"6.982800\",\"symbol\":\"RR:XLON\",\"name\":\"ROLLS-ROYCE HOLDINGS PLC ORD SH\",\"tradeTime\":\"2024-02-05T00:03:30\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506420\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"302.4000\",\"currency\":\"GBP\",\"rate\":\"1.1497\",\"volume\":\"32\",\"fee\":\"9.676800\",\"symbol\":\"RR:XLON\",\"name\":\"ROLLS-ROYCE HOLDINGS PLC ORD SH\",\"tradeTime\":\"2023-12-25T00:03:20\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506422\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"303.3000\",\"currency\":\"GBP\",\"rate\":\"1.1623\",\"volume\":\"22\",\"fee\":\"6.672600\",\"symbol\":\"RR:XLON\",\"name\":\"ROLLS-ROYCE HOLDINGS PLC ORD SH\",\"tradeTime\":\"2024-01-08T00:03:22\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506426\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"308.9000\",\"currency\":\"GBP\",\"rate\":\"1.1659\",\"volume\":\"22\",\"fee\":\"6.672600\",\"symbol\":\"RR:XLON\",\"name\":\"ROLLS-ROYCE HOLDINGS PLC ORD SH\",\"tradeTime\":\"2024-01-22T00:03:26\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506405\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"240.2000\",\"currency\":\"GBP\",\"rate\":\"1.1441\",\"volume\":\"7\",\"fee\":\"1.681400\",\"symbol\":\"RR:XLON\",\"name\":\"ROLLS-ROYCE HOLDINGS PLC ORD SH\",\"tradeTime\":\"2023-11-13T00:03:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506289\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"375.4000\",\"currency\":\"SEK\",\"rate\":\"0.0911\",\"volume\":\"295\",\"fee\":\"110.743000\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2022-10-17T00:01:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506279\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"361.9000\",\"currency\":\"SEK\",\"rate\":\"0.0931\",\"volume\":\"189\",\"fee\":\"68.399100\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2022-09-05T00:00:59\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506263\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"399.0000\",\"currency\":\"SEK\",\"rate\":\"0.0934\",\"volume\":\"175\",\"fee\":\"69.825000\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2022-07-11T00:00:43\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506273\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"371.8000\",\"currency\":\"SEK\",\"rate\":\"0.0943\",\"volume\":\"213\",\"fee\":\"84.987000\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2022-08-22T00:00:53\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506236\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"417.0000\",\"currency\":\"SEK\",\"rate\":\"0.0967\",\"volume\":\"39\",\"fee\":\"16.263000\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2022-05-02T00:00:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506296\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"390.2000\",\"currency\":\"SEK\",\"rate\":\"0.0921\",\"volume\":\"385\",\"fee\":\"144.529000\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2022-10-31T00:01:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506313\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"406.4000\",\"currency\":\"SEK\",\"rate\":\"0.0893\",\"volume\":\"100\",\"fee\":\"39.020000\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2022-12-26T00:01:33\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506335\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"596.6000\",\"currency\":\"SEK\",\"rate\":\"0.0862\",\"volume\":\"141\",\"fee\":\"84.120600\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2023-05-29T00:01:55\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506344\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"586.8000\",\"currency\":\"SEK\",\"rate\":\"0.0862\",\"volume\":\"142\",\"fee\":\"83.325600\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2023-06-12T00:02:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506378\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"583.6000\",\"currency\":\"SEK\",\"rate\":\"0.0839\",\"volume\":\"116\",\"fee\":\"67.697600\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2023-09-04T00:02:38\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506410\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"539.2000\",\"currency\":\"SEK\",\"rate\":\"0.0875\",\"volume\":\"167\",\"fee\":\"90.046402\",\"symbol\":\"SAAB-B:XSTO\",\"name\":\"SAAB AB ser. B\",\"tradeTime\":\"2023-11-27T00:03:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506284\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"18.9900\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"1\",\"fee\":\"0.018770\",\"symbol\":\"DTE:XETR\",\"name\":\"DT.TELEKOM AG NA\",\"tradeTime\":\"2022-09-19T00:01:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506268\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"18.7700\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"690\",\"fee\":\"12.951300\",\"symbol\":\"DTE:XETR\",\"name\":\"DT.TELEKOM AG NA\",\"tradeTime\":\"2022-08-08T00:00:48\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506324\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"19.8560\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"877\",\"fee\":\"17.413713\",\"symbol\":\"DTE:XETR\",\"name\":\"DT.TELEKOM AG NA\",\"tradeTime\":\"2023-01-09T00:01:44\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506318\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"18.8700\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"7\",\"fee\":\"0.133910\",\"symbol\":\"DTE:XETR\",\"name\":\"DT.TELEKOM AG NA\",\"tradeTime\":\"2022-12-26T00:01:38\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506308\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"19.1300\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"884\",\"fee\":\"16.910920\",\"symbol\":\"DTE:XETR\",\"name\":\"DT.TELEKOM AG NA\",\"tradeTime\":\"2022-12-12T00:01:28\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506305\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"19.6940\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"689\",\"fee\":\"13.569166\",\"symbol\":\"DTE:XETR\",\"name\":\"DT.TELEKOM AG NA\",\"tradeTime\":\"2022-11-28T00:01:25\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506431\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1.4900\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"5016\",\"fee\":\"7.473840\",\"symbol\":\"EDNR:XMIL\",\"name\":\"EDISON R\",\"tradeTime\":\"2024-02-05T00:03:31\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506384\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"216.0000\",\"currency\":\"NOK\",\"rate\":\"0.0884\",\"volume\":\"334\",\"fee\":\"72.144000\",\"symbol\":\"SCHB:XOSL\",\"name\":\"SCHIBSTED ASA\",\"tradeTime\":\"2023-10-02T00:02:44\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506404\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"227.6000\",\"currency\":\"NOK\",\"rate\":\"0.0841\",\"volume\":\"333\",\"fee\":\"75.790802\",\"symbol\":\"SCHB:XOSL\",\"name\":\"SCHIBSTED ASA\",\"tradeTime\":\"2023-11-13T00:03:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506393\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"217.4000\",\"currency\":\"NOK\",\"rate\":\"0.0870\",\"volume\":\"1\",\"fee\":\"0.216000\",\"symbol\":\"SCHB:XOSL\",\"name\":\"SCHIBSTED ASA\",\"tradeTime\":\"2023-10-16T00:02:53\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506419\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"21000.0000\",\"currency\":\"JPY\",\"rate\":\"0.0064\",\"volume\":\"41\",\"fee\":\"861.000000\",\"symbol\":\"6702:XJPX\",\"name\":\"FUJITSU\",\"tradeTime\":\"2023-12-25T00:03:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506412\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"21720.0000\",\"currency\":\"JPY\",\"rate\":\"0.0063\",\"volume\":\"41\",\"fee\":\"890.520000\",\"symbol\":\"6702:XJPX\",\"name\":\"FUJITSU\",\"tradeTime\":\"2023-12-11T00:03:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506437\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.1500\",\"currency\":\"CHF\",\"rate\":\"1.0525\",\"volume\":\"54\",\"fee\":\"5.408100\",\"symbol\":\"SREN:XSWX\",\"name\":\"SWISS RE N\",\"tradeTime\":\"2024-02-19T00:03:37\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506331\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"66.0700\",\"currency\":\"USD\",\"rate\":\"0.9193\",\"volume\":\"81\",\"fee\":\"5.351670\",\"symbol\":\"PDD\",\"name\":\"Pinduoduo Inc.\",\"tradeTime\":\"2023-05-15T00:01:51\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506346\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"76.0900\",\"currency\":\"USD\",\"rate\":\"0.9270\",\"volume\":\"81\",\"fee\":\"6.163290\",\"symbol\":\"PDD\",\"name\":\"Pinduoduo Inc.\",\"tradeTime\":\"2023-06-12T00:02:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"tradeId\":\"506220\",\"tradeType\":\"31\",\"state\":\"1\",\"side\":\"P\",\"price\":\"100000.0000\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"0\",\"fee\":\"0.000000\",\"symbol\":\"\",\"name\":\"\",\"tradeTime\":\"2022-05-01T00:00:00\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0,
  "access": "",
  "description": "",
  "updatedAt": {
    "$date": "2024-06-21T11:04:33.751Z"
  }
},
{
  "_id": {
    "$oid": "6627cd0907e53285d81e865a"
  },
  "label": "Add Trade (Tester, vertical)",
  "value": "{\"command\":\"trades.add\",\n\"portfolioId\":\"65f52f98ab7128acd188b333\",\n\"tradeId\":\"506388\",\n\"tradeType\":\"1\",\n\"state\":\"1\",\n\"side\":\"S\",\n\"price\":\"538.2900\",\n\"currency\":\"USD\",\n\"rate\":\"0.9443\",\n\"volume\":\"6\",\n\"fee\":\"3.229740\",\n\"symbol\":\"LLY\",\n\"name\":\"Eli Lilly and Company\",\n\"tradeTime\":\"2023-10-02T00:02:48\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "__v": 0
},
{
  "_id": {
    "$oid": "66395457b73b1be1faab8b89"
  },
  "label": "New command",
  "value": "{\"command\":\"tests.setVar\", \"v\":{\"portfolioUSD\": \"_portfolioUSD\", \"portfolioEUR\": \"_portfolioEUR\", \"portfolioDKK\": \"_portfolioDKK\" }}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioSumUSD\":\"_portfolioSumUSD\", \"portfolioSumEUR\": \"_portfolioSumEUR\" }}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioUSD\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioEUR\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioDKK\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSumUSD\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSumEUR\"}\n\nportfolioName1 : [{50000},{SAN:XPAR, 1000@25}]\nportfolioName2 : [{50000},{AMJ, 100@25}, {FDIS, 200@80}]\nportfolioName3 : [{10000},{XLC, 10@80}]\nportfolioSum = portfolioName1\nportfolioSum2 = portfolioName1+ portfolioName2\nportfolioSum2sub = portfolioSum+ portfolioName3\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioUSD\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioEUR\", \"currency\":\"EUR\", \"baseInstrument\":\"URTH\"}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioDKK\", \"currency\":\"DKK\", \"baseInstrument\":\"URTH\"}\n\n\nTest summation with 1 child with another currency\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioEUR\",\"amount\":\"50000\",\"currency\":\"EUR\", \"tradeTime\" :\"2023-06-25T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"80\",\"fee\":\"8.707760\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2023-06-26T00:02:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"118.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"13.509000\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-06-12T00:02:05\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioEUR\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"msgId\":\"mSum\" }\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mSum\", \"to\":\"eur\"}\n{\"command\":\"tests.check\", \"path\": \"eur.[symbol=SAN:XPAR]\",  \"conditions\": {\"volume\": {\"$eq\": 80}}, \"description\": \"Check that child portfolio has correct position volume\"}\n{\"command\":\"tests.check\", \"path\": \"eur.[symbol=BEI:XETR]\",  \"conditions\": {\"volume\": {\"$eq\": 10}}, \"description\": \"Check that child portfolio has correct position volume\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioSumUSD\", \"currency\":\"USD\",\"portfolioType\":\"summation\", \"portfolioIds\":[\"$var.portfolioEUR\"],  \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioSumUSD\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"msgId\":\"mSum2\" }\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mSum2\", \"to\":\"sum\"}\n{\"command\":\"tests.check\", \"path\": \"sum.[symbol=SAN:XPAR]\",  \"conditions\": {\"volume\": {\"$eq\": \"$var.eur.[symbol=SAN:XPAR].volume\"}}, \"description\": \"Check that position summation with one children equal it children\"}\n{\"command\":\"tests.check\", \"path\": \"sum\",  \"conditions\": {\"length\": {\"$eq\": \"$var.eur.length\"}}, \"description\": \"Check that positon  summation with one children equal children by length\"}\n\n{\"command\":\"tests.check\", \"conditions\":{\"sum.[symbol=SAN:XPAR].fee\": {\"$eq\": \"calc($var.eur.[symbol=SAN:XPAR].fee*$var.sum.[symbol=SAN:XPAR].rate)\"}}, \"description\": \"Check fee was recalced to summation portfolio curency\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-06T22:06:15.663Z"
  },
  "updatedAt": {
    "$date": "2024-05-06T22:06:15.663Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "663954b3b73b1be1faab8b8c"
  },
  "label": "tests_history_summation",
  "value": "#historical summary test\n\n#clear\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioUSD\": \"_portfolioUSD\", \"portfolioEUR\": \"_portfolioEUR\", \"portfolioDKK\": \"_portfolioDKK\" }}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioSumUSD\":\"_portfolioSumUSD\", \"portfolioSumEUR\": \"_portfolioSumEUR\" }}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioUSD\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioEUR\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSumUSD\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSumEUR\"}\n\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioUSD\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioEUR\", \"currency\":\"EUR\", \"baseInstrument\":\"URTH\"}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioDKK\", \"currency\":\"DKK\", \"baseInstrument\":\"URTH\"}\n\n\n#Test simple portfolio EUR\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioEUR\",\"amount\":\"50000\",\"currency\":\"EUR\", \"tradeTime\" :\"2023-06-25T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"80\",\"fee\":\"8.00\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2023-06-26T00:02:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"118.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"13.50\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-06-28T00:02:05\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.portfolioEUR\"}\n\n{\"command\":\"prices.historical\", \"symbols\":\"BEI:XETR,SAN:XPAR\", \"date\":\"2023-07-01\", \"_as\":\"prices0701\"}\n{\"command\":\"portfolios.history\",\"_id\":\"$var.portfolioEUR\",\"sample\":\"day\",\"till\": \"2023-07-01\",\"_as\":\"history1\"}\n{\"command\":\"tests.check\",\"path\":\"history1.days.[date=2023-07-01]\",\"conditions\":{\"invested\": {\"$eq\": \"calc($var.prices0701.BEI:XETR*10+$var.prices0701.SAN:XPAR*80)\"}}, \"description\":\"compare 2024-07-01 invested\"}\n\n#Add portfolio with name $var.portfolioEUR a schild to  portfolio with name $var.portfolioSumUSD .\nTest that portfolio was recalced to parent portfolio currency correctly\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioSumUSD\", \"currency\":\"USD\",\"portfolioType\":\"summation\", \"portfolioIds\":[\"$var.portfolioEUR\"],  \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.portfolioSumUSD\"}\n\n{\"command\":\"prices.historical\", \"symbols\":\"BEI:XETR,SAN:XPAR,EURUSD:FX\", \"date\":\"2023-07-01\", \"_as\":\"prices0701\"}\n{\"command\":\"portfolios.history\",\"_id\":\"$var.portfolioSumUSD\",\"sample\":\"day\",\"till\": \"2023-07-01\",\"_as\":\"history2\", \"detail\":0}\n{\"command\":\"tests.check\",\"path\":\"history2.days.[date=2023-07-01]\",\"conditions\":{\"invested\": {\"$eq\": \"calc($var.prices0701.EURUSD:FX*$var.prices0701.BEI:XETR*10+$var.prices0701.EURUSD:FX*$var.prices0701.SAN:XPAR*80,2)\"}}, \"description\":\"compare 2024-07-01 invested\"}\n\n#Add trade with currency USD as parent currency.to child portfolio with currency EUR. \nFor parent portfolio it is mean that invested will be increased on trade.volume*trade.price = 228.6, for day  2023-06-29. \n{\"command\":\"trades.add\",\"portfolioId\":\"_portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"22.86\",\"currency\":\"USD\",\"rate\":\"0.9161\",\"volume\":\"10\",\"fee\":\"8.50\",\"symbol\":\"AMJ\",\"name\":\"AMJ\",\"tradeTime\":\"2023-06-29T00:02:05\",\"_as\":\"newTrade\"}\n{\"command\":\"portfolios.history\",\"_id\":\"_portfolioSumUSD\",\"sample\":\"day\",\"till\":\"2023-07-01\",\"_as\":\"history3\",\"detail\":1}  \n\nCheck this for 2023-06-29 as invested-investedWithoutTrades= 228.6 \n{\"command\":\"tests.setVar\",\"v\":{\"trade0629Invested\": \"calc($var.newTrade.volume*$var.newTrade.price)\"}}\n{\"command\":\"tests.setVar\",\"v\":{\"trade0629InvestedWithFee\": \"calc($var.trade0629Invested+$var.newTrade.fee)\"}}\n{\"command\":\"tests.setVar\",\"v\":{\"day0629\": \"$var.history3.days.[date=2023-06-29]\"}}\n{\"command\":\"tests.check\",\"conditions\":{\"$var.trade0629Invested\": {\"$eq\": \"calc($var.day0629.invested-$var.day0629.investedWithoutTrades,2)\"}}, \"description\":\"check 2023-06-29 invested chabged according trade 2023-06-29\"}\n\nCheck that cash changed as invested (USD)+fee(USD) for our trade \n{\"command\":\"tests.setVar\",\"v\":{\"day0628\": \"$var.history3.days.[date=2023-06-28]\"}}\n{\"command\":\"tests.check\",\"conditions\":{\"$var.trade0629InvestedWithFee\": {\"$eq\": \"calc($var.day0628.cash-$var.day0629.cash,1)\"}}, \"description\":\"check cash change on add trade 2023-06-29\"}\n\n#Add trade to child with DKK\n{\"command\":\"trades.add\",\"portfolioId\":\"_portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1532.00\",\"currency\":\"SEK\",\"rate\":\"0.0842\",\"volume\":\"70\",\"fee\":\"80.50\",\"symbol\":\"AZN:XSTO\",\"name\":\"AstraZeneca PLC\",\"tradeTime\":\"2023-06-30T00:01:13\", \"_as\":\"newTradeDKK\"}\n{\"command\":\"portfolios.history\",\"_id\":\"_portfolioSumUSD\",\"sample\":\"day\",\"till\":\"2023-07-01\",\"_as\":\"history4\",\"detail\":1}  \n\n{\"command\":\"prices.historical\", \"symbols\":\"SEKEUR:FX,SEKUSD:FX,EURUSD:FX\", \"date\":\"2023-06-30\", \"_as\":\"prices0630\"}\nProblem !!!! SEKEUR*EURUSD != SEKUSD\nUse rate from convertation trade rate(SEKEUR) =  0.0842   to SEKUSD as  0.0842 * 1.0866(EURUSD:FX)= 0,09149172. Another variant ude directly SEKUSD=0.092\n{\"command\":\"tests.setVar\",\"v\":{\"trade0630Invested\": \"calc($var.newTradeDKK.volume*$var.newTradeDKK.price*0.09149172,1)\"}}\n{\"command\":\"tests.setVar\",\"v\":{\"day0630\": \"$var.history4.days.[date=2023-06-30]\"}}\n{\"command\":\"tests.check\",\"conditions\":{\"$var.trade0630Invested\": {\"$eq\": \"calc($var.day0630.invested-$var.day0630.investedWithoutTrades,1)\"}}, \"description\":\"check 2023-06-30 invested changed according trade 2023-06-30  and summary portfolio\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-06T22:07:48.001Z"
  },
  "updatedAt": {
    "$date": "2024-05-06T22:07:48.001Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "663954efb73b1be1faab8beb"
  },
  "label": "New command",
  "value": "{\"command\":\"tests.setVar\", \"v\":{\"portfolioUSD\": \"_portfolioUSD\", \"portfolioEUR\": \"_portfolioEUR\", \"portfolioDKK\": \"_portfolioDKK\" }}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioSumUSD\":\"_portfolioSumUSD\", \"portfolioSumEUR\": \"_portfolioSumEUR\" }}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioUSD\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioEUR\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioDKK\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSumUSD\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSumEUR\"}\n\nportfolioName1 : [{50000},{SAN:XPAR, 1000@25}]\nportfolioName2 : [{50000},{AMJ, 100@25}, {FDIS, 200@80}]\nportfolioName3 : [{10000},{XLC, 10@80}]\nportfolioSum = portfolioName1\nportfolioSum2 = portfolioName1+ portfolioName2\nportfolioSum2sub = portfolioSum+ portfolioName3\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioUSD\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioEUR\", \"currency\":\"EUR\", \"baseInstrument\":\"URTH\"}\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioDKK\", \"currency\":\"DKK\", \"baseInstrument\":\"URTH\"}\n\n\nTest summation with 1 child with another currency\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioEUR\",\"amount\":\"50000\",\"currency\":\"EUR\", \"tradeTime\" :\"2023-06-25T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"80\",\"fee\":\"8.707760\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2023-06-26T00:02:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"118.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"13.509000\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-06-12T00:02:05\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioEUR\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"msgId\":\"mSum\" }\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mSum\", \"to\":\"eur\"}\n{\"command\":\"tests.check\", \"path\": \"eur.[symbol=SAN:XPAR]\",  \"conditions\": {\"volume\": {\"$eq\": 80}}, \"description\": \"Check that child portfolio has correct position volume\"}\n{\"command\":\"tests.check\", \"path\": \"eur.[symbol=BEI:XETR]\",  \"conditions\": {\"volume\": {\"$eq\": 10}}, \"description\": \"Check that child portfolio has correct position volume\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioSumUSD\", \"currency\":\"USD\",\"portfolioType\":\"summation\", \"portfolioIds\":[\"$var.portfolioEUR\"],  \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioSumUSD\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"msgId\":\"mSum2\" }\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mSum2\", \"to\":\"sum\"}\n{\"command\":\"tests.check\", \"path\": \"sum.[symbol=SAN:XPAR]\",  \"conditions\": {\"volume\": {\"$eq\": \"$var.eur.[symbol=SAN:XPAR].volume\"}}, \"description\": \"Check that position summation with one children equal it children\"}\n{\"command\":\"tests.check\", \"path\": \"sum\",  \"conditions\": {\"length\": {\"$eq\": \"$var.eur.length\"}}, \"description\": \"Check that positon  summation with one children equal children by length\"}\n\n{\"command\":\"tests.check\", \"conditions\":{\"sum.[symbol=SAN:XPAR].fee\": {\"$eq\": \"calc($var.eur.[symbol=SAN:XPAR].fee*$var.sum.[symbol=SAN:XPAR].rate)\"}}, \"description\": \"Check fee was recalced to summation portfolio curency\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-06T22:08:47.474Z"
  },
  "updatedAt": {
    "$date": "2024-05-06T22:08:47.474Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "663956c0d59b1351badbf6ec"
  },
  "label": "DKK_2018",
  "value": "{\"command\":\"portfolios.add\",\"name\":\"DKK_2018\", \"_id\":\"20182f98ab7128acd1882018\", \"currency\":\"DKK\",\"baseInstrument\":\"SPY\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506535\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"159.1200\",\"currency\":\"USD\",\"rate\":\"6.8719\",\"volume\":\"10\",\"fee\":\"0.795600\",\"symbol\":\"AMZN\",\"name\":\"Amazon.com Inc.\",\"tradeTime\":\"2024-01-26T00:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506537\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"43.6500\",\"currency\":\"USD\",\"rate\":\"6.8719\",\"volume\":\"44\",\"fee\":\"0.960300\",\"symbol\":\"INTC\",\"name\":\"Intel Corporation\",\"tradeTime\":\"2024-01-26T00:00:17\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506533\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"49.5500\",\"currency\":\"USD\",\"rate\":\"6.8518\",\"volume\":\"16\",\"fee\":\"0.396400\",\"symbol\":\"INTC\",\"name\":\"Intel Corporation\",\"tradeTime\":\"2024-01-25T00:00:13\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506524\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"47.2500\",\"currency\":\"USD\",\"rate\":\"6.8217\",\"volume\":\"28\",\"fee\":\"0.661500\",\"symbol\":\"INTC\",\"name\":\"Intel Corporation\",\"tradeTime\":\"2024-01-10T00:00:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506538\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"624.6500\",\"currency\":\"USD\",\"rate\":\"6.8745\",\"volume\":\"1\",\"fee\":\"0.312325\",\"symbol\":\"NVDA\",\"name\":\"NVIDIA Corporation\",\"tradeTime\":\"2024-01-29T00:00:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506522\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"543.4100\",\"currency\":\"USD\",\"rate\":\"6.8217\",\"volume\":\"4\",\"fee\":\"1.086820\",\"symbol\":\"NVDA\",\"name\":\"NVIDIA Corporation\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506530\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"571.0700\",\"currency\":\"USD\",\"rate\":\"6.8512\",\"volume\":\"1\",\"fee\":\"0.285535\",\"symbol\":\"NVDA\",\"name\":\"NVIDIA Corporation\",\"tradeTime\":\"2024-01-18T00:00:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506525\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"541.5400\",\"currency\":\"USD\",\"rate\":\"6.8010\",\"volume\":\"2\",\"fee\":\"0.541540\",\"symbol\":\"NVDA\",\"name\":\"NVIDIA Corporation\",\"tradeTime\":\"2024-01-11T00:00:05\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506523\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"190.6000\",\"currency\":\"DKK\",\"rate\":\"1.0000\",\"volume\":\"96\",\"fee\":\"9.148800\",\"symbol\":\"DANSKE:XCSE\",\"name\":\"Danske Bank A/S\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506527\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"188.3500\",\"currency\":\"DKK\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"0.941750\",\"symbol\":\"DANSKE:XCSE\",\"name\":\"Danske Bank A/S\",\"tradeTime\":\"2024-01-11T00:00:07\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506528\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"189.5500\",\"currency\":\"DKK\",\"rate\":\"1.0000\",\"volume\":\"14\",\"fee\":\"1.326850\",\"symbol\":\"DANSKE:XCSE\",\"name\":\"Danske Bank A/S\",\"tradeTime\":\"2024-01-15T00:00:08\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506531\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"188.5500\",\"currency\":\"DKK\",\"rate\":\"1.0000\",\"volume\":\"26\",\"fee\":\"2.451150\",\"symbol\":\"DANSKE:XCSE\",\"name\":\"Danske Bank A/S\",\"tradeTime\":\"2024-01-22T00:00:11\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506532\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"188.5000\",\"currency\":\"DKK\",\"rate\":\"1.0000\",\"volume\":\"16\",\"fee\":\"1.508000\",\"symbol\":\"DANSKE:XCSE\",\"name\":\"Danske Bank A/S\",\"tradeTime\":\"2024-01-24T00:00:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506534\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"190.2500\",\"currency\":\"DKK\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"0.951250\",\"symbol\":\"DANSKE:XCSE\",\"name\":\"Danske Bank A/S\",\"tradeTime\":\"2024-01-25T00:00:14\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506526\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"60.5100\",\"currency\":\"EUR\",\"rate\":\"7.4719\",\"volume\":\"13\",\"fee\":\"0.393315\",\"symbol\":\"BN:XPAR\",\"name\":\"DANONE\",\"tradeTime\":\"2024-01-11T00:00:06\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506529\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"61.7800\",\"currency\":\"EUR\",\"rate\":\"7.4592\",\"volume\":\"5\",\"fee\":\"0.154450\",\"symbol\":\"BN:XPAR\",\"name\":\"DANONE\",\"tradeTime\":\"2024-01-16T00:00:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506521\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"61.0600\",\"currency\":\"EUR\",\"rate\":\"7.4603\",\"volume\":\"121\",\"fee\":\"3.694130\",\"symbol\":\"BN:XPAR\",\"name\":\"DANONE\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506536\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"61.2900\",\"currency\":\"EUR\",\"rate\":\"7.4540\",\"volume\":\"17\",\"fee\":\"0.520965\",\"symbol\":\"BN:XPAR\",\"name\":\"DANONE\",\"tradeTime\":\"2024-01-26T00:00:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"20182f98ab7128acd1882018\",\"tradeId\":\"506520\",\"tradeType\":\"31\",\"state\":\"1\",\"side\":\"P\",\"price\":\"100000.0000\",\"currency\":\"DKK\",\"rate\":\"1.0000\",\"volume\":\"0\",\"fee\":\"0.000000\",\"symbol\":\"\",\"name\":\"\",\"tradeTime\":\"2024-01-09T00:00:00\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-06T22:16:32.174Z"
  },
  "updatedAt": {
    "$date": "2024-05-06T22:16:32.174Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6639e77343a1743a5a0b7b2e"
  },
  "label": "tests_trades.currency",
  "value": "{\"command\":\"tests.setVar\", \"v\":{\"portfolioUSD\": \"_portfolioUSD\", \"portfolioEUR\": \"_portfolioEUR\", \"portfolioDKK\": \"_portfolioDKK\" }}\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioSumUSD\":\"_portfolioSumUSD\", \"portfolioSumEUR\": \"_portfolioSumEUR\" }}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioUSD\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioEUR\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioDKK\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSumUSD\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioSumEUR\"}\n\nportfolioName1 : [{50000},{SAN:XPAR, 1000@25}]\nportfolioName2 : [{50000},{AMJ, 100@25}, {FDIS, 200@80}]\nportfolioName3 : [{10000},{XLC, 10@80}]\nportfolioSum = portfolioName1\nportfolioSum2 = portfolioName1+ portfolioName2\nportfolioSum2sub = portfolioSum+ portfolioName3\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioEUR\", \"currency\":\"EUR\", \"baseInstrument\":\"SPY\"}\n\n\nTest summation with 1 child with another currency. portfolioSumUSD = [portfolioEUR]\nTarget of test check that rates and fee was recalced to currency parent portfolio\nParent portfolio currency is USD, child portfolio currency is EUR , so \n child trade with \"price\":\"100.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\", \"fee\":\"8.707760\" in parent (siummation) will looks as rate * rateEURUSD_2023-06-26 and fee similar\n\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioEUR\",\"amount\":\"50000\",\"currency\":\"EUR\", \"tradeTime\" :\"2023-06-25T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"80\",\"fee\":\"8.7078\",\"symbol\":\"SAN:XPAR\",\"name\":\"SANOFI\",\"tradeTime\":\"2023-06-26T00:02:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioEUR\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"118.00\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"13.5090\",\"symbol\":\"BEI:XETR\",\"name\":\"BEIERSDORF AG O.N.\",\"tradeTime\":\"2023-06-12T00:02:05\"}\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioSumUSD\", \"currency\":\"USD\",\"portfolioType\":\"summation\", \"portfolioIds\":[\"$var.portfolioEUR\"],  \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.portfolioSumUSD\", \"_as\":\"trades\"}\n{\"command\":\"prices.historical\", \"symbols\":\"EURUSD\", \"date\":\"2023-06-26\",\"_as\":\"EURUSD0626\", \"precision\":4}\n{\"command\":\"prices.historical\", \"symbols\":\"EURUSD\", \"date\":\"2023-06-25\",\"_as\":\"EURUSD0625\", \"precision\":4}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeType=31]\",  \"conditions\": {\"rate\": {\"$eq\": \"$var.EURUSD0625.EURUSD\"}}, \"description\": \"Check that summary rate was recalc for 2023-06-25\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeTime=2023-06-26T00:02:10]\",  \"conditions\": {\"rate\": {\"$eq\": \"$var.EURUSD0626.EURUSD\"}}, \"description\": \"Check that summary rate was recalc for 2023-06-26\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeTime=2023-06-25T08:00:00]\",  \"conditions\": {\"rate\": {\"$eq\": \"$var.EURUSD0625.EURUSD\"}}, \"description\": \"Check that summary rate was recalc for 2023-06-25\"}\n                                                                                                           9,4976= 8.7078*1.0907= fee(forEUR)*rate(EURUSD)\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeTime=2023-06-26T00:02:10]\",  \"conditions\": {\"fee\": {\"$eq\": 8.7078}}, \"description\": \"Check that summary fee original for 2023-06-26\"}\n\nTest summation with 1 summation child with another currency. portfolioSumEUR = [portfolioSumUSD=[portfolioEUR]]\nTarget of test check that rates and fee was not changed for top summation portfolio as far child portfolio and top summation has one currency\n\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioSumEUR\", \"currency\":\"EUR\",\"portfolioType\":\"summation\", \"portfolioIds\":[\"$var.portfolioSumUSD\"],  \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.portfolioSumEUR\", \"_as\":\"trades\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeType=31]\",  \"conditions\": {\"rate\": {\"$eq\": 1.0000}}, \"description\": \"Check that summary rate was recalc for 2023-06-25 for sumEUR->sumUSD->EUR\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeTime=2023-06-26T00:02:10]\",  \"conditions\": {\"rate\": {\"$eq\": 1.0000}}, \"description\": \"Check that summary rate was recalc for 2023-06-26 for sumEUR->sumUSD->EUR\"}\n\nTest summation sum2USD => [portfolioSumUSD] where  = portfolioSumUSD=[portfolioEUR]]\nTarget of test check that rates and fee was changed one time as fat both parent have one currency\n\n{\"command\":\"portfolios.add\",\"name\":\"sum2USD\", \"currency\":\"USD\",\"portfolioType\":\"summation\", \"portfolioIds\":[\"$var.portfolioSumUSD\"],  \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"sum2USD\",\"_as\":\"trades\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeType=31]\",  \"conditions\": {\"rate\": {\"$eq\": \"$var.EURUSD0625.EURUSD\"}}, \"description\": \"Check that summary rate was recalc for 2023-06-25\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeTime=2023-06-26T00:02:10]\",  \"conditions\": {\"rate\": {\"$eq\": \"$var.EURUSD0626.EURUSD\"}}, \"description\": \"Check that summary rate was recalc for 2023-06-26\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeTime=2023-06-25T08:00:00]\",  \"conditions\": {\"rate\": {\"$eq\": \"$var.EURUSD0625.EURUSD\"}}, \"description\": \"Check that summary rate was recalc for 2023-06-25\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-07T08:33:55.598Z"
  },
  "updatedAt": {
    "$date": "2024-05-07T08:33:55.598Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "663aace943a1743a5a0b7be1"
  },
  "label": "hedging1",
  "value": "#portfolio base currency is USD, \n{\"command\":\"portfolios.remove\", \"_id\":\"_hedging1\"}\n{\"command\":\"portfolios.add\",\"name\":\"_hedging1\", \"currency\":\"USD\",\"baseInstrument\":\"SPY\", \"_as\":\"add\"}\n{\"command\": \"tests.setVar\", \"v\":{\"pid\": \"$var.add._id\" }}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\", \"currency\":\"USD\",\"amount\":\"100000\",\"tradeTime\" :\"2024-05-05T08:00:00\"}\n\n#add trade in DKK Buy\n{\"command\":\"trades.add\",\"portfolioId\":\"_hedging1\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"196.7\",\"currency\":\"DKK\",\"rate\":\"0.1444\",\"volume\":\"100\",\"fee\":\"98.35\",\"symbol\":\"DANSKE:XCSE\",\"name\":\"DANSKE:XCSE\",\"tradeTime\":\"2024-05-06T00:00:15\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"_hedging1\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\",  \"msgId\":\"reqPositions\", \"_as\":\"positionsStart\"}\n\n{\"command\":\"tests.check\", \"path\":\"positionsStart\" , \"conditions\": {\"msg\":{\"$eq\":\"snapshot\"}}, \"description\":\"Snapshot done\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"reqPositions\", \"to\":\"positions\"}\n{\"command\":\"tests.setVar\", \"v\": { \"danske\":\"$var.positions.[symbol=DANSKE:XCSE]\", \"total\": \"$var.positions.[symbol=TOTAL_DKK]\"}}\n#check that trade invested = total invested for DKK and USD\n{\"command\":\"tests.check\", \"conditions\": {\"calc($var.danske.investedFull+$var.total.investedFull)\": {\"$eq\": 0}},\"precision\":\"4\", \"description\": \"Check that invested, investedSymbol is one for trade and total\"}\n{\"command\":\"tests.check\", \"path\": \"positions.[symbol=TOTAL_DKK]\",  \"conditions\": {\"fee\": {\"$eq\": \"$var.danske.fee\"}, \"feeSymbol\": {\"$eq\": \"$var.danske.feeSymbol\"}},\"precision\":\"4\", \"description\": \"Check that fee, feeSymbol is one for trade and total\"}\n\n# SELL some USD (base currency) for compensatoion our DKK trade. \nDKK:\n \"total\": -2854.54974, - in portfolio currency invest+fee (USD)\n \"totalSymbol\": -19768.35 - in trade currency invest+fee (DKK)\nwe need get from portfolio base curency   2854.54974 USD, so reduce \ncreate trade for this sell USDDKK:FX   volume=2854.54974  USDDKK = 6.9252 , fee= 2854.54974 * 6.9252 * 0.005 = 98.84\n{\"command\":\"trades.add\",\"portfolioId\":\"_hedging1\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"6.9252\",\"currency\":\"DKK\",\"rate\":\"0.1444\",\"volume\":\"2854.54974\",\"fee\":\"98.84\",\"symbol\":\"USDDKK:FX\",\"tradeTime\":\"2024-05-06T01:00:15\"}\ntrade for currency during calculation convert to 2 trades: SELL USDDKK and BUY DKKUSD \n   side: 'S', symbol: 'USDDKK:FX', volume: 2854.54974,  price: 6.9252, currency: 'DKK', fee: 0, rate: 0.1444, -allow set DKK to 0\n   side: 'B', symbol: 'DKKUSD:FX',volume: 19768.327859448, price: 0.14440016172818113, currency: 'USD', fee: 14.272511985213423, rate:1 -reduce USD on 2868,82225 = volume*price\n    expected USD  balance = 100000-2868.82225=97131,17775\n{\"command\":\"portfolios.positions\",\"_id\":\"_hedging1\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\",  \"msgId\":\"reqPositions2\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"reqPositions2\", \"to\":\"positionsHending\"}\n{\"command\":\"tests.check\", \"path\": \"positionsHending.[symbol=TOTAL_DKK]\",  \"conditions\": {\"total\": {\"$sub\": \"0\"}}, \"description\": \"Check that TOTAL_DKK is now ~ 0 (check abs(total) <1\"}\n{\"command\":\"tests.check\", \"path\": \"positionsHending.[symbol=TOTAL_USD]\",  \"conditions\": {\"total\": {\"$sub\": 97131.17775}}, \"description\": \"Check that TOTAL_USD change on expected value\"}",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-07T22:36:25.232Z"
  },
  "updatedAt": {
    "$date": "2024-05-08T22:19:44.597Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "663c81a4fe26926fa0e30c8a"
  },
  "label": "FX2",
  "value": "#See Google Doc for IB result of this\n#https://docs.google.com/document/d/1sZBq3Oh703x7dAuCep6TE3BM2_G_oxPB5n-y3cx1cWM/edit?usp=sharing\n#\n#FX trades both in base currency and not - 3 trades in each direction.\n#Should net out to 0 in totals approx.\n\n\n#portfolio base currency is USD, \n{\"command\":\"portfolios.remove\", \"_id\":\"FX\"}\n{\"command\":\"portfolios.add\",\"name\":\"FX\", \"currency\":\"USD\",\"baseInstrument\":\"SPY\", \"_as\":\"add\"}\n{\"command\": \"tests.setVar\", \"v\":{\"pid\": \"$var.add._id\" }}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\", \"currency\":\"USD\",\"amount\":\"100000\",\"tradeTime\" :\"2024-05-05T08:00:00\"}\nAdd buy trades\n{\"command\":\"trades.add\",\"portfolioId\":\"FX\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"USD\",\"rate\":\"1.07478\",\"volume\":\"20000\",\"fee\":\"2\",\"symbol\":\"EURUSD:FX\",\"tradeTime\":\"2024-05-06T01:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"FX\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"USD\",\"rate\":\"1.2493\",\"volume\":\"20000\",\"fee\":\"2\",\"symbol\":\"GBPUSD:FX\",\"tradeTime\":\"2024-05-06T01:00:16\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"FX\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"0.6358\",\"currency\":\"SEK\",\"rate\":\"1.57265\",\"volume\":\"150000\",\"fee\":\"21.83\",\"symbol\":\"DKKSEK:FX\",\"tradeTime\":\"2024-05-06T01:00:17\"}\nAdd sell trades to get back to zero FX positions\n{\"command\":\"trades.add\",\"portfolioId\":\"FX\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1\",\"currency\":\"USD\",\"rate\":\"1.07468\",\"volume\":\"20000\",\"fee\":\"2\",\"symbol\":\"EURUSD:FX\",\"tradeTime\":\"2024-05-06T01:00:18\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"FX\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1\",\"currency\":\"USD\",\"rate\":\"1.24927\",\"volume\":\"20000\",\"fee\":\"2\",\"symbol\":\"GBPUSD:FX\",\"tradeTime\":\"2024-05-06T01:00:19\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"FX\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"0.6358\",\"currency\":\"SEK\",\"rate\":\"1.57206\",\"volume\":\"150000\",\"fee\":\"21.83\",\"symbol\":\"DKKSEK:FX\",\"tradeTime\":\"2024-05-06T01:00:20\"}\n\n{\"command\":\"portfolios.positions\",\"_id\":\"FX\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\", \"msgId\":\"reqPositions\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"reqPositions\", \"to\":\"result\"}\nCurrency totals should be approx. 0\nIB has:\nSEK cash: -90\nUSD cash: -99,985",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-09T07:56:20.800Z"
  },
  "updatedAt": {
    "$date": "2024-05-09T07:56:20.800Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "66413468cce8bb0dc2ecfe8e"
  },
  "label": "New command",
  "value": "TEST FO POSITIONS closed = no | only | all\n#Use portfolio with name '_positionsPortfolio' for tests. For creation can be used command with name 'tests_989' which create some test portfolio\n#Store portfolio name in variable portfolioName\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_positionsPortfolio\"}}\n#check portfolio exists\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_positionsPortfolio\"}, \"_as\":\"result\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}}, \"description\": \"Check that '_positionsPortfolio' exists. or create with command tests_989 \"}\n\n#Subscribe to  portfolios.positions with cdifferent closes parameter \n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"msgAll\",\"closed\":\"all\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"msgAll\", \"to\":\"positionsAll\"}\n{\"command\":\"tests.check\", \"path\": \"positionsAll\",  \"conditions\": {\"[symbol=XLC]\": {\"$exists\": true}, \"[symbol=AMJ]\": {\"$exists\": true},\"[symbol=IYC]\": {\"$exists\": true},\"[symbol=FDIS]\": {\"$exists\": true}}, \n  \"description\": \"Check that positions with closed=all has all portfolio symbols\"}\n\n\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"msgNo\",\"closed\":\"no\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"msgNo\", \"to\":\"positionsNo\"}\n{\"command\":\"tests.check\", \"path\": \"positionsNo\",  \"conditions\": {\"[symbol=XLC]\": {\"$exists\": true}, \"[symbol=AMJ]\": {\"$exists\": true},\"[symbol=IYC]\": {\"$exists\": true},\"[symbol=FDIS]\": {\"$exists\": false}}, \n  \"description\": \"Check that positions with closed=no has all portfolio symbols without closed FDIS\"}\n\n\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"msgOnly\",\"closed\":\"only\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"msgOnly\", \"to\":\"positionsOnly\"}\n{\"command\":\"tests.check\", \"path\": \"positionsOnly\",  \"conditions\": {\"[symbol=XLC]\": {\"$exists\": true}, \"[symbol=AMJ]\": {\"$exists\": true},\"[symbol=IYC]\": {\"$exists\": true},\"[symbol=FDIS]\": {\"$exists\": false}}, \n  \"description\": \"Check that positions with closed=only has only closed FDIS\"}\n\n{\"command\":\"tests.check\",  \"conditions\": {\"$var.positinisAll[symbol=TOTAL].realized\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL].realized\"}, \"$var.positinisOnly[symbol=TOTAL].realized\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL].realized\"}}, \n  \"description\": \"Check that realized is one for all  closed values\"}\n{\"command\":\"tests.check\",  \"conditions\": {\"$var.positinisAll[symbol=TOTAL].realized\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL].realized\"}, \"$var.positinisOnly[symbol=TOTAL].realized\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL].realized\"}}, \n  \"description\": \"Check that TOTAL.realized is one for all  closed values\"}\n{\"command\":\"tests.check\",  \"conditions\": {\"$var.positinisAll[symbol=TOTAL_USD].investedFull\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL_USD].investedFull\"}, \"$var.positinisOnly[symbol=TOTAL_USD].investedFull\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL_USD].investedFull\"}}, \n  \"description\": \"Check that TOTAL_USD.investedFull is one for all  closed values\"}",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-12T21:28:08.325Z"
  },
  "updatedAt": {
    "$date": "2024-05-12T21:28:08.325Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6641c7d9ea7261de7a275f5c"
  },
  "label": "tests_positions.closed",
  "value": "TEST FOR porfolios.positions parameter closed = no | only | all\n#Use portfolio with name '_positionsPortfolio' for tests. For creation can be used command with name 'tests_989' which create some test portfolio\n#Store portfolio name in variable portfolioName\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_positionsPortfolio\"}}\n#check portfolio exists\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"_positionsPortfolio\"}, \"_as\":\"result\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}}, \"description\": \"Check that '_positionsPortfolio' exists. or create with command tests_989 \"}\n\n#Subscribe to  portfolios.positions with cdifferent closes parameter \n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"msgAll\",\"closed\":\"all\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"msgAll\", \"to\":\"positionsAll\"}\n{\"command\":\"tests.check\", \"path\": \"positionsAll\",  \"conditions\": {\"[symbol=XLC]\": {\"$exists\": true}, \"[symbol=AMJ]\": {\"$exists\": true},\"[symbol=IYC]\": {\"$exists\": true},\"[symbol=FDIS]\": {\"$exists\": true}}, \n  \"description\": \"Check that positions with closed=all has all portfolio symbols\"}\n\n\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"msgNo\",\"closed\":\"no\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"msgNo\", \"to\":\"positionsNo\"}\n{\"command\":\"tests.check\", \"path\": \"positionsNo\",  \"conditions\": {\"[symbol=XLC]\": {\"$exists\": true}, \"[symbol=AMJ]\": {\"$exists\": true},\"[symbol=IYC]\": {\"$exists\": true},\"[symbol=FDIS]\": {\"$exists\": false}}, \n  \"description\": \"Check that positions with closed=no has all portfolio symbols without closed FDIS\"}\n\n\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.portfolioName\",\"requestType\":\"0\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"msgOnly\",\"closed\":\"only\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"msgOnly\", \"to\":\"positionsOnly\"}\n{\"command\":\"tests.check\", \"path\": \"positionsOnly\",  \"conditions\": {\"[symbol=XLC]\": {\"$exists\": true}, \"[symbol=AMJ]\": {\"$exists\": true},\"[symbol=IYC]\": {\"$exists\": true},\"[symbol=FDIS]\": {\"$exists\": false}}, \n  \"description\": \"Check that positions with closed=only has only closed FDIS\"}\n{\"command\":\"tests.check\",  \"conditions\": {\"$var.positinisAll[symbol=TOTAL].realized\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL].realized\"}, \"$var.positinisOnly[symbol=TOTAL].realized\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL].realized\"}}, \n  \"description\": \"Check that TOTAL.realized is one for all  closed values\"}\n{\"command\":\"tests.check\",  \"conditions\": {\"$var.positinisAll[symbol=TOTAL_USD].investedFull\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL_USD].investedFull\"}, \"$var.positinisOnly[symbol=TOTAL_USD].investedFull\": {\"$eq\": \"$var.positinisNo[symbol=TOTAL_USD].investedFull\"}}, \n  \"description\": \"Check that TOTAL_USD.investedFull is one for all  closed values\"}",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-13T07:57:13.391Z"
  },
  "updatedAt": {
    "$date": "2024-05-13T08:00:24.250Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "66428736ea7261de7a2760fa"
  },
  "label": "FX5",
  "value": "#portfolio base currency is USD, \nwe check posiyions summary with 2 steps , on first we Buy GBPUSD, on second Sell GBPUSD\n{\"command\":\"portfolios.remove\", \"_id\":\"FX5\"}\n{\"command\":\"portfolios.add\",\"name\":\"FX5\", \"currency\":\"USD\",\"baseInstrument\":\"SPY\", \"_as\":\"add\"}\n{\"command\": \"tests.setVar\", \"v\":{\"pid\": \"$var.add._id\" }}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\", \"currency\":\"USD\",\"amount\":\"100000\",\"tradeTime\" :\"2024-05-05T08:00:00\"}\nAdd buy  GBPUSD\nBuy GBPUSD, looks as two separate trades:\n    Sell USD and buy GBP:\n        Sell USD valueUSD  \n        Buy GBP (valueUSD *USDGBP) \nSo really from     \n{\"command\":\"trades.add\",\"portfolioId\":\"FX5\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1.259208\",\"currency\":\"USD\",\"rate\":\"1.0\",\"volume\":\"10000\",\"fee\":\"62.96\",\"symbol\":\"GBPUSD:FX\",\"tradeTime\":\"2024-05-06T01:00:16\"}\nwill be generated 2 hidden trades during ccalculation position.\nwe sell USD = price* volume = 1.259208*10000 = 12592.08 USD and buy GPB = 100000GBP GBP , fee move to  GBP = 62.96*0.7942 = 50\nfor our trade hidenly will be applied:   \"side\":\"S\",\"price\":\"1.259208\",\"currency\":\"USD\",\"rate\":\"1.0\",   \"volume\":\"10000\",\"fee\":\"0\",\"symbol\":\"GBPUSD:FX\"\n                       putCash \"price\": \"100000,\"currency\":\"GBP\",rate\": \"1.259208\",volume=0 ,\n{\"command\":\"portfolios.positions\",\"_id\":\"FX5\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\",\"msgId\":\"reqPositions1\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"reqPositions1\", \"to\":\"positions1\"}\n{\"command\":\"tests.check\", \"path\": \"positions1.[symbol=TOTAL_GBP]\",  \"conditions\": {\"total\": {\"$sub\": 9950.0}}, \"description\": \"Check Buy GBPUSD  that TOTAL_GBP=10000-50=9950\"}\n{\"command\":\"tests.check\", \"path\": \"positions1.[symbol=TOTAL_USD]\",  \"conditions\": {\"total\": {\"$sub\": 87407.92}}, \"description\": \"Check Buy GBPUSD  that TOTAL_USD change on alue 100000-12592.8=87407.92\"}\n\n{\"command\":\"trades.add\",\"portfolioId\":\"FX5\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1.259208\",\"currency\":\"USD\",\"rate\":\"1.0\",\"volume\":\"10000\",\"fee\":\"62.96\",\"symbol\":\"GBPUSD:FX\",\"tradeTime\":\"2024-05-06T02:00:16\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"FX5\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\",\"msgId\":\"reqPositions2\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"reqPositions2\", \"to\":\"positions2\"}\n{\"command\":\"tests.check\", \"path\": \"positions2.[symbol=TOTAL_GBP]\",  \"conditions\": {\"total\": {\"$sub\": -100}}, \"description\": \"Check Buy,Sell GBPUSD that TOTAL_GBP=2fee=-100\"}\n{\"command\":\"tests.check\", \"path\": \"positions2.[symbol=TOTAL_USD]\",  \"conditions\": {\"total\": {\"$sub\": 100000}}, \"description\": \"Check Buy,Sell GBPUSD that TOTAL_USD is back 100000\"}",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-13T21:33:42.096Z"
  },
  "updatedAt": {
    "$date": "2024-05-13T21:33:42.096Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "66447760a6dc72f34df8be9c"
  },
  "label": "IB",
  "value": "Remove old portfolio and create new\n\n{\"command\":\"trades.removeAll\",\"portfolioId\":\"6635de9335df6e1b693f83e3\"}\n{\"command\":\"portfolios.remove\", \"_id\":\"6635de9335df6e1b693f83e3\"}\n{\"command\":\"portfolios.add\",\"_id\": \"6635de9335df6e1b693f83e3\",\"name\":\"Global\",\"description\":\"Robofunds Global\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\n\nInitially inserted money from Investor in DKK\n\nInsert money\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"amount\":\"100037.57\",\"currency\":\"EUR\", \"tradeTime\" :\"2024-04-09T08:00:00\"} Vibeke Holst\n\nAdd interest rate earned as per May 1,2024\n\nAdd Trades\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"594.8\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"3\",\"fee\":\"3\",\"symbol\":\"ASM:XAMS\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"22.94\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"50\",\"fee\":\"3\",\"symbol\":\"BEI:XETR\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"122.25\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"70\",\"fee\":\"3\",\"symbol\":\"UCB:APAW\",\"tradeTime\":\"2024-05-03T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"145.05\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"50\",\"fee\":\"3.62\",\"symbol\":\"WKL:XAMS\",\"tradeTime\":\"2024-05-06T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"127.00\",\"currency\":\"GBP\",\"rate\":\"0.8557\",\"volume\":\"12\",\"fee\":\"10.74\",\"symbol\":\"CNA:XLON\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"172.395\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"10\",\"fee\":\"1\",\"symbol\":\"AAPL\",\"tradeTime\":\"2024-05-06T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"314.47\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"20\",\"fee\":\"1\",\"symbol\":\"AMGN\",\"tradeTime\":\"2024-05-06T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"184.685\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"30\",\"fee\":\"1\",\"symbol\":\"CBOE\",\"tradeTime\":\"2024-05-01T11:53:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"106.03\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"20\",\"fee\":\"1\",\"symbol\":\"CHD\",\"tradeTime\":\"2024-05-06T00:08:04\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"306.71\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"5\",\"fee\":\"1\",\"symbol\":\"CRWD\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"15.42\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"300\",\"fee\":\"1.5\",\"symbol\":\"CXW\",\"tradeTime\":\"2024-05-06T00:08:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"774.83\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"10\",\"fee\":\"1\",\"symbol\":\"LLY\",\"tradeTime\":\"2024-05-06T00:08:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"529.89\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"5\",\"fee\":\"1\",\"symbol\":\"MCK\",\"tradeTime\":\"2024-05-02T00:08:01\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"561.3\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"6\",\"fee\":\"1\",\"symbol\":\"NFLX\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"75.08\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"60\",\"fee\":\"1\",\"symbol\":\"NRG\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"18.16\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"93\",\"fee\":\"1\",\"symbol\":\"NTIC\",\"tradeTime\":\"2024-05-06T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"851.95\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"10\",\"fee\":\"1\",\"symbol\":\"NVDA\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"874.18\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"10\",\"fee\":\"1\",\"symbol\":\"NVDA\",\"tradeTime\":\"2024-05-03T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"294.365\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"5\",\"fee\":\"1\",\"symbol\":\"PANW\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"210.15\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"30\",\"fee\":\"3\",\"symbol\":\"PGR\",\"tradeTime\":\"2024-05-06T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"175.08\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"6\",\"fee\":\"1\",\"symbol\":\"PKG\",\"tradeTime\":\"2024-05-02T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"74.12\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"100\",\"fee\":\"1\",\"symbol\":\"SFM\",\"tradeTime\":\"2024-05-06T00:08:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"182\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"30\",\"fee\":\"1\",\"symbol\":\"TSLA\",\"tradeTime\":\"2024-05-03T00:08:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"7.4\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"volume\":\"500\",\"fee\":\"-2.5\",\"symbol\":\"UEC\",\"tradeTime\":\"2024-05-07T00:11:53\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1.6315\",\"currency\":\"AUD\",\"rate\":\"0.9289\",\"volume\":\"200\",\"fee\":\"6\",\"symbol\":\"CPU:APXL\",\"tradeTime\":\"2024-05-10T07:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"23.85\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"100\",\"fee\":\"3\",\"symbol\":\"IIA:APAW\",\"tradeTime\":\"2024-05-10T10:46\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"22.58\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"100\",\"fee\":\"3\",\"symbol\":\"UTDI:XETR\",\"tradeTime\":\"2024-05-10T10:45\"}\nInitial hedge trades\n\nInsert additional money from investor\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"amount\":\"100282\",\"currency\":\"EUR\", \"tradeTime\" :\"2024-05-14T09:06:52\"} Martin Kjr Hansen\n\nExchange money from investor to EUR\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"1.259208\",\"currency\":\"EUR\",\"rate\":\"1.0\",\"volume\":\"100282\",\"fee\":\"14.96\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-05-06T09:06:52\"}\n\nAdditional trades after new investment\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"621.2\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"3\",\"fee\":\"3\",\"symbol\":\"ASM:XAMS\",\"tradeTime\":\"2024-05-14T00:09:12\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"22.94\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"50\",\"fee\":\"3\",\"symbol\":\"BEI:XETR\",\"tradeTime\":\"2024-05-14T09:21:10\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"138.35\",\"currency\":\"GBP\",\"rate\":\"0.8595\",\"volume\":\"12\",\"fee\":\"11.30\",\"symbol\":\"CNA:XLON\",\"tradeTime\":\"2024-05-14T09:46:37\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"22.58\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"100\",\"fee\":\"3\",\"symbol\":\"UTDI:XETR\",\"tradeTime\":\"2024-05-14T09:59:49\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"145.90\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"50\",\"fee\":\"3.65\",\"symbol\":\"WKL:XAMS\",\"tradeTime\":\"2024-05-14T10:02:41\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"23.90\",\"currency\":\"EUR\",\"rate\":\"1\",\"volume\":\"100\",\"fee\":\"3\",\"symbol\":\"IIA:APAW\",\"tradeTime\":\"2024-05-14T10:12:00\"}\n{\"command\":\"trades.add\",\"symbol\":\"CBOE\",\"side\":\"B\",\"volume\":\"100\",\"price\":\"181.84\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:59:20\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"CXW\",\"side\":\"B\",\"volume\":\"700\",\"price\":\"15.34\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:55:23\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"UNH\",\"side\":\"B\",\"volume\":\"25\",\"price\":\"511.29\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:54:38\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"FRO\",\"side\":\"B\",\"volume\":\"100\",\"price\":\"26.47\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:54:08\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"UEC\",\"side\":\"B\",\"volume\":\"700\",\"price\":\"7.09\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:53:00\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"UEC\",\"side\":\"B\",\"volume\":\"500\",\"price\":\"7.08\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:35:00\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"NRG\",\"side\":\"B\",\"volume\":\"100\",\"price\":\"82.01\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:52:53\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"SFM\",\"side\":\"B\",\"volume\":\"30\",\"price\":\"75.98\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:49:57\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"PGR\",\"side\":\"B\",\"volume\":\"30\",\"price\":\"212.99\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:49:03\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"SFM\",\"side\":\"B\",\"volume\":\"100\",\"price\":\"75.74\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:42:11\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"AMGN\",\"side\":\"B\",\"volume\":\"20\",\"price\":\"308.715\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:41:53\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"MCK\",\"side\":\"B\",\"volume\":\"5\",\"price\":\"556.6\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:41:41\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"PKG\",\"side\":\"B\",\"volume\":\"6\",\"price\":\"182.15\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:41:28\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"PGR\",\"side\":\"B\",\"volume\":\"30\",\"price\":\"212.68\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:40:38\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"CRWD\",\"side\":\"B\",\"volume\":\"5\",\"price\":\"322.83\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:38:34\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"AAPL\",\"side\":\"B\",\"volume\":\"10\",\"price\":\"187.84\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:37:19\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"CXV\",\"side\":\"B\",\"volume\":\"200\",\"price\":\"15.33\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:37:00\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"UEC\",\"side\":\"B\",\"volume\":\"500\",\"price\":\"7.08\",\"fee\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:35:00\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\"}\n{\"command\":\"trades.add\",\"symbol\":\"CXW\",\"side\":\"B\",\"volume\":\"100\",\"price\":\"15.33\",\"fee\":\"1\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T15:35:00\"}\n{\"command\":\"trades.add\",\"symbol\":\"TSLA\",\"side\":\"B\",\"volume\":\"30\",\"price\":\"176.778\",\"fee\":\"1\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"currency\":\"USD\",\"rate\":\"0.9289\",\"tradeTime\":\"2024-05-14T14:25:00\"}\n{\"command\":\"trades.add\",\"symbol\":\"UCB:APAW\",\"side\":\"S\",\"volume\":\"70\",\"price\":\"120.35\",\"fee\":\"3\",\"portfolioId\":\"6635de9335df6e1b693f83e3\",\"tradeType\":\"1\",\"state\":\"1\",\"currency\":\"EUR\",\"rate\":\"1\",\"tradeTime\":\"2024-05-14T14:25:00\"}\nAdd Forex Trades\n\nShow portfolio\n{\"command\":\"portfolios.positions\",\"_id\":\"6635de9335df6e1b693f83e3\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\"}\n\nNAV history\n{\"command\":\"portfolios.history\",\"_id\":\"6635de9335df6e1b693f83e3\",\"from\":\"\",\"till\":\"\",\"sample\":\"\",\"detail\":0,\"precision\":2}\n\nNotes: \nHF6 is missing in the PS and MongoDBV. Use the norwegian frontline instead:\nBOUGHT 250 HF6 FWB2 @GETTEX2 @ 22.94 (UXXX49258) as of 2024-05-03 09:18:53.\nSOLD 250 HF6 FWB2 @GETTEX2 @ 23.06 (UXXX49258) as of 2024-05-06 11:05:53.",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "createdAt": {
    "$date": "2024-05-15T08:50:40.528Z"
  },
  "updatedAt": {
    "$date": "2024-05-15T08:50:40.528Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "664531ddcfed54806460f427"
  },
  "label": "private_admin",
  "value": "Set portfolio name in varable\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_testFractionalPortfolio\"}}\n\nPreparing. remove portfolio\n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioName\"}\n\nPreparing. adde portfolio and check creation\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioName\",\"_as\":\"response\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"$var.portfolioName\"}, \"_as\":\"result\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"*\": {\"$isArray\": true}}, \"description\": \"Check that porfolio.list return array\"}\n{\"command\":\"tests.check\", \"path\": \"result\", \"conditions\": {\"length\": {\"$eq\": 1}},  \"description\": \"Check that porfolio.list return one item \"}\n{\"command\":\"tests.check\", \"path\": \"result.0\", \"conditions\": {\"name\": {\"$eq\": \"$var.portfolioName\"}},  \"description\": \"Check that returned porfolio with requested name\"}\n\nPut cash and trades\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.portfolioName\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-09T08:00:00\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"70\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"10.5\",\"fee\":\"21.00\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"100.1\",\"fee\":\"3.05\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"78\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"500\",\"fee\":\"25\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-10T00:00:01\"}\n{\"command\":\"portfolios.trades\",\"_id\":\"$var.portfolioName\", \"_as\":\"trades1\"}\n{\"command\":\"tests.check\", \"path\": \"trades1\", \"conditions\": {\"length\": {\"$eq\": 4}},  \"description\": \"Check number of trades addedd till on '2024-01-10'\"}\n\nget history\n{\"command\":\"portfolios.history\",\"_id\":\"$var.portfolioName\",\"till\": \"2024-01-30\", \"detail\":1, \"_as\":\"history\"}\n{\"command\":\"tests.setVar\", \"v\":{\"cash10\":\"$var.history.days.[date=2024-01-10].cash\"}}\n\n{\"command\":\"tests.check\", \"path\":\"history.days.[date=2024-01-30]\", \"conditions\": {\"cash\": {\"$eq\":\"$var.cash10\"}}, \"description\":\"Check that cash is not changes after last trading date\"}\n\nadd sell orders with buy price as result we hav initial balance - 2*fee\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"70\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"10.5\",\"fee\":\"21.00\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-12T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"25\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"100.1\",\"fee\":\"3.05\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-12T00:00:03\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.portfolioName\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"78\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"500\",\"fee\":\"25\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-12T00:00:01\"}\n{\"command\":\"portfolios.history\",\"_id\":\"$var.portfolioName\",\"till\": \"2024-01-30\", \"detail\":1, \"_as\":\"history2\"}\n{\"command\": \"tests.setVar\", \"v\": { \"fee2\": 98.10}}\n{\"command\": \"tests.setVar\", \"v\": { \"nav\": 99901.90}}\n{\"command\":\"tests.check\", \"path\":\"history2.days.[date=2024-01-12]\", \"conditions\": {\"nav\": {\"$eq\":\"$var.nav\"}}, \"description\":\"Check that nav less then initial balance on 2*fee as far we buy/sell one price\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "private",
  "createdAt": {
    "$date": "2024-05-15T22:06:21.506Z"
  },
  "updatedAt": {
    "$date": "2024-05-15T22:11:44.605Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "664532afcfed54806460f43d"
  },
  "label": "third_private",
  "value": "Set portfolio name in varable\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_testFractionalPortfolio\"}}",
  "description": "",
  "ownerId": "6645325ecfed54806460f437",
  "commandType": "user",
  "access": "private",
  "createdAt": {
    "$date": "2024-05-15T22:09:51.199Z"
  },
  "updatedAt": {
    "$date": "2024-05-15T22:09:51.199Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "664532cdcfed54806460f440"
  },
  "label": "third_public",
  "value": "Set portfolio name in varable PUBLIC\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_testFractionalPortfolio\"}}",
  "description": "",
  "ownerId": "6645325ecfed54806460f437",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-05-15T22:10:21.586Z"
  },
  "updatedAt": {
    "$date": "2024-05-15T22:10:21.586Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6650a4b7a8362b176bc048dc"
  },
  "label": "tests_access",
  "value": "#Preparing. portfolio for access tests\n{\"command\":\"portfolios.remove\", \"_id\":\"_testAccessPortfolio\"}\n{\"command\":\"portfolios.add\",\"name\":\"_testAccessPortfolio\",\"_as\":\"response\", \"currency\":\"USD\", \"baseInstrument\":\"SPY\"}\n{\"command\":\"tests.check\",\"path\":\"response\",\"conditions\":{\"_id\": {\"$exists\": true}, \"accountId\":{\"$exists\": true}}, \"description\":\"check that portfolio was added  and generated -id, accountId for it\"}\nremember new portfolio _id and acountId\n{\"command\":\"tests.setVar\", \"v\":{\"pid\":\"$var.response._id\", \"accountId\": \"$var.response.accountId\" }}\n#check that we can use putCash, trades with name and accountId\n{\"command\":\"tests.text\", \"text\": \"Check that we can use portfolios,trades, portfolios.putCash with _id = name or accountId\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testAccessPortfolio\",\"amount\":\"1000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-03-02T08:00:00\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"_testAccessPortfolio\",  \"_as\": \"response1\"}\n{\"command\":\"tests.check\",\"path\":\"response1\",\"conditions\":{\"length\": {\"$eq\": 1}}, \"description\":\"check that portfolios.putCash and portfolios.trades can use name in _id\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.accountId\",\"amount\":\"2000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-03-02T08:00:00\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.accountId\",  \"_as\": \"response2\"}\n{\"command\":\"tests.check\",\"path\":\"response2\",\"conditions\":{\"length\": {\"$eq\": 2}}, \"description\":\"check that portfolios.putCash and portfolios.trades can use accountIde in _id\"}\n\n#check that we can use trades.add portfolioId= name or accountId\n\n{\"command\":\"tests.text\", \"text\": \"Check that we can use trades.add with portfolioId = name or accountId\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.accountId\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.00\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"0\",\"symbol\":\"INTC\",\"name\":\"INTC\",\"tradeTime\":\"2024-05-12T00:02:05\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.accountId\",  \"_as\": \"response3\"}\n{\"command\":\"tests.check\",\"path\":\"response3\",\"conditions\":{\"length\": {\"$eq\": 3}}, \"description\":\"check that trades.add can use portfolio.accountId in portfolioId\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"_testAccessPortfolio\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"100.00\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"10\",\"fee\":\"0\",\"symbol\":\"IBM\",\"name\":\"IBM\",\"tradeTime\":\"2024-05-12T00:02:05\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"$var.accountId\",  \"_as\": \"response3\"}\n{\"command\":\"tests.check\",\"path\":\"response3\",\"conditions\":{\"length\": {\"$eq\": 4}}, \"description\":\"check that trades.add can use portfolio.name in portfolioId\"}\n\n#check that we can use portfolio.positions with _id= name or accountId\n{\"command\":\"tests.text\", \"text\": \"Check that we can use portfolio.positions with _id = name\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"_testAccessPortfolio\",\"requestType\":\"1\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart\", \"msgId\":\"positionsId\"}\n#Check that server accept our subscription, so in response present msag:'subscribed'\n{\"command\":\"tests.check\", \"path\":\"positionsStart\" , \"conditions\": {\"msg\":{\"$eq\":\"subscribed\"}}, \"description\":\"Subscription done for portfolios.positions with use name in _id\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId\", \"to\":\"d1\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"_testAccessPortfolio\",\"requestType\":\"2\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsEnd\", \"subscribeId\":\"positionsId\"}\n{\"command\":\"tests.check\", \"path\":\"positionsEnd\" , \"conditions\": {\"msg\":{\"$include\":\"unsubscribed from portfolio\"}}, \"description\":\"UnSubscription done for portfolios.positions with use name in _id\"}\n\n{\"command\":\"tests.text\", \"text\": \"Check that we can use portfolio.positions with _id = accountId\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.accountId\",\"requestType\":\"1\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsStart2\", \"msgId\":\"positionsId2\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"positionsId2\", \"to\":\"d2\"}\n#Check that server accept our subscription, so in response present msag:'subscribed'\n{\"command\":\"tests.check\", \"path\":\"positionsStart2\" , \"conditions\": {\"msg\":{\"$eq\":\"subscribed\"}}, \"description\":\"Subscription done for portfolios.positions with use accountId in _id\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"$var.accountId\",\"requestType\":\"2\", \"marketPrice\":\"4\",\"basePrice\":\"4\", \"_as\":\"positionsEnd2\", \"subscribeId\":\"positionsId2\"}\n{\"command\":\"tests.check\", \"path\":\"positionsEnd2\" , \"conditions\": {\"msg\":{\"$include\":\"unsubscribed from portfolio\"}}, \"description\":\"UnSubscription done for portfolios.positions with use accountId in _id\"}\n\n#Check that portfolio.historical work'\n{\"command\":\"tests.text\", \"text\": \"Check portfolios.history access\"}\n{\"command\":\"portfolios.history\",\"_id\":\"_testAccessPortfolio\", \"till\":\"2024-05-24\", \"_as\":\"h1\"}\n{\"command\":\"tests.check\", \"path\":\"h1.days\" , \"conditions\": {\"length\":{\"$eq\":14}}, \"description\":\"Historical work with  name in _id\"}\n{\"command\":\"portfolios.history\",\"_id\":\"$var.accountId\", \"till\":\"2024-05-24\", \"_as\":\"h2\"}\n{\"command\":\"tests.check\", \"path\":\"h2.days\" , \"conditions\": {\"length\":{\"$eq\":14}}, \"description\":\"Historical work with  accountId in _id\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-05-24T14:31:19.722Z"
  },
  "updatedAt": {
    "$date": "2024-05-24T14:57:48.430Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6675798c6085da4c17d102f9"
  },
  "label": "Scandi Global",
  "value": "{\"command\":\"portfolios.remove\", \"_id\":\"ScandiGlobalDEMO\"}\n{\"command\":\"portfolios.add\",\"_id\": \"65f52f98ab7128acd188b333\",\"name\":\"ScandiGlobalDEMO\",\"description\":\"PS1009\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\nInsert Cash\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"amount\":\"100000\",\"currency\":\"EUR\", \"tradeTime\" :\"2024-02-10T07:00:00\"}\nTRADES\n\n[\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"26.93\",\n        \"currency\": \"AUD\",\n        \"rate\": \"1\",\n        \"volume\": \"200\",\n        \"fee\": \"6\",\n        \"symbol\": \"CPU\",\n        \"tradeTime\": \"2024-05-09T23:16:12\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"186.00\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"30\",\n        \"fee\": \"3\",\n        \"symbol\": \"AENA:BMEX\",\n        \"tradeTime\": \"2024-06-19T07:57:25\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"594.80\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"3\",\n        \"fee\": \"3\",\n        \"symbol\": \"ASM:XAMS\",\n        \"tradeTime\": \"2024-05-03T08:56:19\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"621.20\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"3\",\n        \"fee\": \"3\",\n        \"symbol\": \"ASM:XAMS\",\n        \"tradeTime\": \"2024-05-14T03:12:05\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"661.20\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"6\",\n        \"fee\": \"3\",\n        \"symbol\": \"ASM:XAMS\",\n        \"tradeTime\": \"2024-05-22T03:51:20\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"649.60\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"6\",\n        \"fee\": \"3\",\n        \"symbol\": \"ASM:XAMS\",\n        \"tradeTime\": \"2024-05-31T03:09:03\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"684.80\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"6\",\n        \"fee\": \"3\",\n        \"symbol\": \"ASM:XAMS\",\n        \"tradeTime\": \"2024-06-10T05:05:20\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"140.90\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"50\",\n        \"fee\": \"3.5225\",\n        \"symbol\": \"BEI:XETR\",\n        \"tradeTime\": \"2024-04-29T03:27:03\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"147.25\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"50\",\n        \"fee\": \"3.68125\",\n        \"symbol\": \"BEI:XETR\",\n        \"tradeTime\": \"2024-05-14T03:21:10\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"142.80\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"7.14\",\n        \"symbol\": \"BEI:XETR\",\n        \"tradeTime\": \"2024-05-15T06:01:22\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"22.94\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"250\",\n        \"fee\": \"3\",\n        \"symbol\": \"HF6.F\",\n        \"tradeTime\": \"2024-05-03T03:18:51\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"23.06\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"250\",\n        \"fee\": \"3\",\n        \"symbol\": \"HF6.F\",\n        \"tradeTime\": \"2024-05-06T05:05:51\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"84.40\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"40\",\n        \"fee\": \"3\",\n        \"symbol\": \"HLE:XETR\",\n        \"tradeTime\": \"2024-06-19T08:00:45\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"23.85\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"3\",\n        \"symbol\": \"IIA:APAW\",\n        \"tradeTime\": \"2024-05-10T04:45:50\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"23.90\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"3\",\n        \"symbol\": \"IIA:APAW\",\n        \"tradeTime\": \"2024-05-14T04:12:33\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"23.60\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"200\",\n        \"fee\": \"3\",\n        \"symbol\": \"IIA:APAW\",\n        \"tradeTime\": \"2024-05-22T03:57:04\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"488.20\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"10\",\n        \"fee\": \"3\",\n        \"symbol\": \"RHM:XETR\",\n        \"tradeTime\": \"2024-06-19T07:59:33\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"122.25\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"70\",\n        \"fee\": \"4.27875\",\n        \"symbol\": \"UCB:APAW\",\n        \"tradeTime\": \"2024-05-03T03:27:08\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"121.95\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"70\",\n        \"fee\": \"4.26825\",\n        \"symbol\": \"UCB:APAW\",\n        \"tradeTime\": \"2024-05-14T03:10:56\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"120.35\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"70\",\n        \"fee\": \"4.21225\",\n        \"symbol\": \"UCB:APAW\",\n        \"tradeTime\": \"2024-05-14T08:25:11\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"22.58\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"3\",\n        \"symbol\": \"UTDI:XETR\",\n        \"tradeTime\": \"2024-05-10T04:45:27\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"24.40\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"3\",\n        \"symbol\": \"UTDI:XETR\",\n        \"tradeTime\": \"2024-05-14T03:59:49\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"22.60\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"200\",\n        \"fee\": \"3\",\n        \"symbol\": \"UTDI:XETR\",\n        \"tradeTime\": \"2024-05-22T04:08:16\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"145.05\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"50\",\n        \"fee\": \"3.62625\",\n        \"symbol\": \"WKL:XAMS\",\n        \"tradeTime\": \"2024-05-06T08:03:40\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"145.90\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"50\",\n        \"fee\": \"3.6475\",\n        \"symbol\": \"WKL:XAMS\",\n        \"tradeTime\": \"2024-05-14T04:02:41\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"149.15\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"7.4575\",\n        \"symbol\": \"WKL:XAMS\",\n        \"tradeTime\": \"2024-06-10T05:08:57\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"152.60\",\n        \"currency\": \"EUR\",\n        \"rate\": \"1\",\n        \"volume\": \"50\",\n        \"fee\": \"3.815\",\n        \"symbol\": \"WKL:XAMS\",\n        \"tradeTime\": \"2024-06-19T07:58:06\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"1.2905\",\n        \"currency\": \"GBP\",\n        \"rate\": \"1\",\n        \"volume\": \"1200\",\n        \"fee\": \"10.743\",\n        \"symbol\": \"CNA:XLON\",\n        \"tradeTime\": \"2024-05-02T05:38:18\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"1.3835\",\n        \"currency\": \"GBP\",\n        \"rate\": \"1\",\n        \"volume\": \"1200\",\n        \"fee\": \"11.301\",\n        \"symbol\": \"CNA:XLON\",\n        \"tradeTime\": \"2024-05-14T03:46:37\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"1.330501667\",\n        \"currency\": \"GBP\",\n        \"rate\": \"1\",\n        \"volume\": \"2400\",\n        \"fee\": \"3\",\n        \"symbol\": \"CNA:XLON\",\n        \"tradeTime\": \"2024-06-10T05:06:43\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"4.718\",\n        \"currency\": \"GBP\",\n        \"rate\": \"1\",\n        \"volume\": \"200\",\n        \"fee\": \"7.718\",\n        \"symbol\": \"RR:XLON\",\n        \"tradeTime\": \"2024-06-19T07:50:36\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"599.80\",\n        \"currency\": \"SEK\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"49\",\n        \"symbol\": \"ABB:XSTO\",\n        \"tradeTime\": \"2024-06-19T08:02:00\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"172.395\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"10\",\n        \"fee\": \"1\",\n        \"symbol\": \"AAPL\",\n        \"tradeTime\": \"2024-05-02T13:16:53\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"187.84\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"10\",\n        \"fee\": \"1\",\n        \"symbol\": \"AAPL\",\n        \"tradeTime\": \"2024-05-14T09:37:17\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"213.27\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1.6094906\",\n        \"symbol\": \"AAPL\",\n        \"tradeTime\": \"2024-06-13T12:08:48\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"213.105\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1\",\n        \"symbol\": \"AAPL\",\n        \"tradeTime\": \"2024-06-13T12:09:06\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"213.09\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"20\",\n        \"fee\": \"1.12179804\",\n        \"symbol\": \"AAPL\",\n        \"tradeTime\": \"2024-06-13T12:09:27\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"250.05\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"25\",\n        \"fee\": \"1\",\n        \"symbol\": \"AMAT\",\n        \"tradeTime\": \"2024-06-20T04:28:38\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"314.47\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"20\",\n        \"fee\": \"1\",\n        \"symbol\": \"AMGN\",\n        \"tradeTime\": \"2024-05-03T10:03:18\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"308.715\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"20\",\n        \"fee\": \"1\",\n        \"symbol\": \"AMGN\",\n        \"tradeTime\": \"2024-05-14T09:41:51\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"296.005\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"20\",\n        \"fee\": \"1.16789878\",\n        \"symbol\": \"AMGN\",\n        \"tradeTime\": \"2024-05-29T10:13:41\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"297.67\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"20\",\n        \"fee\": \"1.16882452\",\n        \"symbol\": \"AMGN\",\n        \"tradeTime\": \"2024-06-13T12:10:14\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"184.685\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"30\",\n        \"fee\": \"1\",\n        \"symbol\": \"CBOE\",\n        \"tradeTime\": \"2024-05-07T11:53:33\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"181.84\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1\",\n        \"symbol\": \"CBOE\",\n        \"tradeTime\": \"2024-05-14T09:59:18\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"175.9730769\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"130\",\n        \"fee\": \"1.6575467\",\n        \"symbol\": \"CBOE\",\n        \"tradeTime\": \"2024-05-30T10:24:32\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"222.41\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"25\",\n        \"fee\": \"1\",\n        \"symbol\": \"CEG\",\n        \"tradeTime\": \"2024-06-20T04:24:54\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"106.03\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"20\",\n        \"fee\": \"1\",\n        \"symbol\": \"CHD\",\n        \"tradeTime\": \"2024-05-06T09:44:31\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"104.275\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"20\",\n        \"fee\": \"1.0612969\",\n        \"symbol\": \"CHD\",\n        \"tradeTime\": \"2024-05-28T10:57:45\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"872.00\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"8\",\n        \"fee\": \"1\",\n        \"symbol\": \"COST\",\n        \"tradeTime\": \"2024-06-20T08:58:03\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"306.71\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"5\",\n        \"fee\": \"1\",\n        \"symbol\": \"CRWD\",\n        \"tradeTime\": \"2024-05-02T13:07:48\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"322.83\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"5\",\n        \"fee\": \"1\",\n        \"symbol\": \"CRWD\",\n        \"tradeTime\": \"2024-05-14T09:38:32\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"327.7805\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"10\",\n        \"fee\": \"1.092782979\",\n        \"symbol\": \"CRWD\",\n        \"tradeTime\": \"2024-05-30T11:00:29\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"15.42\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"300\",\n        \"fee\": \"1.5\",\n        \"symbol\": \"CXW\",\n        \"tradeTime\": \"2024-05-06T09:47:59\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"15.33\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"300\",\n        \"fee\": \"1.5\",\n        \"symbol\": \"CXW\",\n        \"tradeTime\": \"2024-05-14T09:35:32\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"15.34\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"700\",\n        \"fee\": \"3.5\",\n        \"symbol\": \"CXW\",\n        \"tradeTime\": \"2024-05-14T09:55:21\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"154.20\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"35\",\n        \"fee\": \"1\",\n        \"symbol\": \"DELL\",\n        \"tradeTime\": \"2024-06-20T04:35:49\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"26.47\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1\",\n        \"symbol\": \"FRO\",\n        \"tradeTime\": \"2024-05-14T09:54:06\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"28.7595\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1\",\n        \"symbol\": \"FRO\",\n        \"tradeTime\": \"2024-05-21T10:34:40\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"774.83\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"10\",\n        \"fee\": \"1\",\n        \"symbol\": \"LLY\",\n        \"tradeTime\": \"2024-05-02T05:32:02\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"873.52\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"10\",\n        \"fee\": \"1.24449856\",\n        \"symbol\": \"LLY\",\n        \"tradeTime\": \"2024-06-13T12:11:46\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"529.89\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"5\",\n        \"fee\": \"1\",\n        \"symbol\": \"MCK\",\n        \"tradeTime\": \"2024-05-02T13:03:54\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"556.60\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"5\",\n        \"fee\": \"1\",\n        \"symbol\": \"MCK\",\n        \"tradeTime\": \"2024-05-14T09:41:39\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"586.25\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"35\",\n        \"fee\": \"1\",\n        \"symbol\": \"MCK\",\n        \"tradeTime\": \"2024-06-13T12:12:39\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"157.26\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"40\",\n        \"fee\": \"1\",\n        \"symbol\": \"MU\",\n        \"tradeTime\": \"2024-06-20T05:04:22\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"561.30\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"6\",\n        \"fee\": \"1\",\n        \"symbol\": \"NFLX\",\n        \"tradeTime\": \"2024-05-02T13:02:00\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"650.41\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"6\",\n        \"fee\": \"1.109484388\",\n        \"symbol\": \"NFLX\",\n        \"tradeTime\": \"2024-06-13T12:14:44\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"75.08\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"60\",\n        \"fee\": \"1\",\n        \"symbol\": \"NRG\",\n        \"tradeTime\": \"2024-05-02T13:00:45\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"82.10\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1\",\n        \"symbol\": \"NRG\",\n        \"tradeTime\": \"2024-05-14T09:52:51\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"18.16\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1\",\n        \"symbol\": \"NTIC\",\n        \"tradeTime\": \"2024-05-06T09:41:30\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"17.13\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1.0642214\",\n        \"symbol\": \"NTIC\",\n        \"tradeTime\": \"2024-06-13T12:14:01\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"851.95\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"10\",\n        \"fee\": \"1\",\n        \"symbol\": \"NVDA\",\n        \"tradeTime\": \"2024-05-02T13:14:27\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"874.18\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"10\",\n        \"fee\": \"1.0715944\",\n        \"symbol\": \"NVDA\",\n        \"tradeTime\": \"2024-05-03T10:26:14\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"1243.40\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"20\",\n        \"fee\": \"1\",\n        \"symbol\": \"NVDA\",\n        \"tradeTime\": \"2024-06-06T07:07:01\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"128.77\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"200\",\n        \"fee\": \"1.7491612\",\n        \"symbol\": \"NVDA\",\n        \"tradeTime\": \"2024-06-13T12:14:36\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"136.40\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"5\",\n        \"fee\": \"1\",\n        \"symbol\": \"NVDA\",\n        \"tradeTime\": \"2024-06-20T10:19:53\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"294.365\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"5\",\n        \"fee\": \"1\",\n        \"symbol\": \"PANW\",\n        \"tradeTime\": \"2024-05-02T13:07:39\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"309.53\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"25\",\n        \"fee\": \"1\",\n        \"symbol\": \"PANW\",\n        \"tradeTime\": \"2024-05-21T10:28:06\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"212.68\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"30\",\n        \"fee\": \"1\",\n        \"symbol\": \"PGR\",\n        \"tradeTime\": \"2024-05-14T09:40:36\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"212.99\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"30\",\n        \"fee\": \"1\",\n        \"symbol\": \"PGR\",\n        \"tradeTime\": \"2024-05-14T09:49:01\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"175.08\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"6\",\n        \"fee\": \"1\",\n        \"symbol\": \"PKG\",\n        \"tradeTime\": \"2024-05-02T13:08:01\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"182.15\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"6\",\n        \"fee\": \"1\",\n        \"symbol\": \"PKG\",\n        \"tradeTime\": \"2024-05-14T09:41:26\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"184.26\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"12\",\n        \"fee\": \"1.063461136\",\n        \"symbol\": \"PKG\",\n        \"tradeTime\": \"2024-06-13T12:15:43\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"229.69\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"25\",\n        \"fee\": \"1\",\n        \"symbol\": \"QCOM\",\n        \"tradeTime\": \"2024-06-20T04:26:15\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"74.12\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1\",\n        \"symbol\": \"SFM\",\n        \"tradeTime\": \"2024-05-06T09:43:19\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"75.73\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"100\",\n        \"fee\": \"1\",\n        \"symbol\": \"SFM\",\n        \"tradeTime\": \"2024-05-14T09:42:09\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"75.98\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"30\",\n        \"fee\": \"1\",\n        \"symbol\": \"SFM\",\n        \"tradeTime\": \"2024-05-14T09:49:55\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"S\",\n        \"price\": \"75.295\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"50\",\n        \"fee\": \"1.11296005\",\n        \"symbol\": \"SFM\",\n        \"tradeTime\": \"2024-06-13T12:16:15\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"949.00\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"5\",\n        \"fee\": \"1\",\n        \"symbol\": \"SMCI\",\n        \"tradeTime\": \"2024-06-20T04:21:16\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"182.00\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"30\",\n        \"fee\": \"1\",\n        \"symbol\": \"TSLA\",\n        \"tradeTime\": \"2024-05-03T09:30:00\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"176.778\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"30\",\n        \"fee\": \"1\",\n        \"symbol\": \"TSLA\",\n        \"tradeTime\": \"2024-05-14T09:33:57\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"7.40\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"500\",\n        \"fee\": \"2.5\",\n        \"symbol\": \"UEC\",\n        \"tradeTime\": \"2024-05-07T11:53:02\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"7.08\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"500\",\n        \"fee\": \"2.5\",\n        \"symbol\": \"UEC\",\n        \"tradeTime\": \"2024-05-14T09:36:05\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"7.09\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"700\",\n        \"fee\": \"3.5\",\n        \"symbol\": \"UEC\",\n        \"tradeTime\": \"2024-05-14T09:52:58\"\n    },\n    {\n        \"command\": \"trades.add\",\n        \"portfolioId\": \"ScandiGlobalDEMO\",\n        \"tradeType\": \"1\",\n        \"state\": \"1\",\n        \"side\": \"B\",\n        \"price\": \"511.29\",\n        \"currency\": \"USD\",\n        \"rate\": \"1\",\n        \"volume\": \"25\",\n        \"fee\": \"1\",\n        \"symbol\": \"UNH\",\n        \"tradeTime\": \"2024-05-14T09:54:36\"\n    }\n]",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-21T13:01:00.276Z"
  },
  "updatedAt": {
    "$date": "2024-06-21T13:01:00.276Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6677eb1e00cfab3394ad320c"
  },
  "label": "Missing Trades Robo",
  "value": "{\"command\":\"portfolios.putCash\",\n\"portfolioId\":\"65f52f98ab7128acd188b333\",\n\"amount\":\"748125.00\",\n\"currency\":\"DKK\",\n\"rate\":\"7.4598\",\n\"tradeTime\" :\"2024-05-14T07:00:00\"}\n\n{\"command\":\"portfolios.putCash\",\n\"portfolioId\":\"65f52f98ab7128acd188b333\",\n\"amount\":\"746107.01\",\n\"currency\":\"DKK\",\n\"rate\":\"7.4579\",\n\"tradeTime\" :\"2024-04-09T07:00:00\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-23T09:30:06.558Z"
  },
  "updatedAt": {
    "$date": "2024-06-23T09:47:08.229Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "667ac33f6ef40333e22ee4e9"
  },
  "label": "test_fund0",
  "value": "#Create test fund  portfolio fund\n#set portfolio name\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_fund0\"}}\n#1 Remove if exists - clear portfolio and it trades  by name \n{\"command\":\"portfolios.remove\", \"_id\":\"$var.portfolioName\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioName\",\"currency\":\"USD\",\"baseInstrument\":\"SPY\", \"portfolioType\":\"fund\"}\n#3 Get our portfolio to variable with name = result \n{\"command\":\"portfolios.list\", \"filter\": {\"name\":\"$var.portfolioName\"}, \"_as\":\"result\"}\n#5 copy portfolio._id to variable pid \n{\"command\": \"tests.setVar\", \"v\":{\"pid\": \"$var.result.0._id\" }}\n#6 \n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-09T08:00:00\"}\n#7 add trades\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503978\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"73.6900\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"575\",\"fee\":\"21.185875\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503979\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"25.5500\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"296\",\"fee\":\"3.781400\",\"symbol\":\"AMJ\",\"name\":\"J.P. Morgan Alerian MLP Index ETN\",\"tradeTime\":\"2024-01-10T00:00:03\"}\n\n#8 calculate history and get navShare for  2024-01-13 and then use it as for putCash#2\n{\"command\":\"portfolios.history\",\"_id\":\"_fund0\",\"from\":\"2024-01-09\",\"till\":\"2024-01-13\",\"sample\":\"1\",\"detail\":0,\"precision\":2, \"_as\":\"history\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\",\"amount\":\"$var.history.days.4.navShare\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-13T08:00:00\"}\n#9\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503985\",\"tradeType\":\"1\",\"side\":\"S\",\"price\":\"73.8100\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"6\",\"fee\":\"0.221430\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-15T00:00:09\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeId\":\"503983\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"76.9300\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"14\",\"fee\":\"0.538510\",\"symbol\":\"FDIS\",\"name\":\"Fidelity MSCI Consumer Discretionary Index ETF\",\"tradeTime\":\"2024-01-15T00:00:07\"}\n\n#10 calculate history and get navShare for  2024-01-17 and then use it as for putCash#3\n{\"command\":\"portfolios.history\",\"_id\":\"_fund0\",\"from\":\"2024-01-09\",\"till\":\"2024-01-17\",\"sample\":\"1\",\"detail\":0,\"precision\":2, \"_as\":\"history\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\",\"amount\":\"$var.history.days.8.navShare\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-17T08:00:00\"}\n\n\n{\"command\":\"portfolios.history\",\"_id\":\"_fund0\",\"from\":\"2024-01-09\",\"till\":\"2024-01-27\",\"sample\":\"1\",\"detail\":0,\"precision\":2, \"_as\":\"history\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-25T13:16:47.603Z"
  },
  "updatedAt": {
    "$date": "2024-07-06T12:50:16.208Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "667c00066ef40333e22ef00f"
  },
  "label": "RoboFX",
  "value": "{\"command\":\"portfolios.add\",\"name\":\"Robo1\",\"description\":\"\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"SPY\"}\n\nAdd fields:\nType           Which type of portfolio (normal, summation, counterparty, fund)\nShare          Own, public, shared\nAccountnumber  External account number for the user\nTaxPrinciple   FIFO or Average pricing\nYieldcurve     Which yieldcurve to use. For later interest calculation batch jobs\nFxOffset       %  offset to add when converting a currency\nFundFee        % Yearly fee for the fund\nEntryfee       % Entry fee\nExitfee        % Exit fee\nHighwater      % Highwater fee\n\nSome of these fields are reserved for future use",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-26T11:48:22.041Z"
  },
  "updatedAt": {
    "$date": "2024-06-26T11:48:22.041Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "667c5e69239613afd883bb19"
  },
  "label": "Robo Completion",
  "value": "{\"command\":\"portfolios.remove\", \"_id\":\"65f52f98ab7128acd188b333\"}\n{\"command\":\"portfolios.add\",\"_id\": \"65f52f98ab7128acd188b333\",\"name\":\"DKKTest\",\"description\":\"\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\nInsert Cash\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"amount\":\"746107.01\",\"currency\":\"DKK\",\"rate\":\"7.4579\" \"tradeTime\" :\"2024-04-09T07:00:00\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"amount\":\"748125.00\",\"currency\":\"DKK\",\"rate\":\"7.4598\" \"tradeTime\" :\"2024-05-14T07:00:00\"}\n\n{\"command\":\"portfolios.positions\",\"_id\":\"65f52f98ab7128acd188b333\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-26T18:31:05.623Z"
  },
  "updatedAt": {
    "$date": "2024-06-26T18:35:16.397Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "667d09e320f4996b846fc612"
  },
  "label": "_testfxbuysell",
  "value": "#Create test fund  portfolio fund\n#set portfolio name\n{\"command\":\"tests.setVar\", \"v\":{\"pid\": \"_testfxbuysell\"}}\n#1 Remove if exists - clear portfolio and it trades  by name \n{\"command\":\"portfolios.remove\", \"_id\":\"$var.pid\"}\n#2 Create new portfolio and get it id\n{\"command\":\"portfolios.add\",\"name\":\"$var.pid\",\"currency\":\"USD\",\"baseInstrument\":\"SPY\", \"_as\":\"portfel\"}\n{\"command\": \"tests.setVar\", \"v\":{\"pid\": \"$var.portfel._id\" }}\n#3 \n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-05-01T08:00:00\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"$var.pid\",\"amount\":\"50000\",\"currency\":\"EUR\", \"tradeTime\" :\"2024-05-01T08:00:00\"}\n#4\nAdd buy fx trades\n{\"command\":\"trades.add\",\"portfolioId\":\"$var.pid\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"USD\",\"rate\":\"1.07478\",\"volume\":\"20000\",\"fee\":\"2\",\"symbol\":\"EURUSD:FX\",\"tradeTime\":\"2024-05-06T01:00:15\"}\n{\"command\":\"portfolios.positions\", \"_id\":\"$var.pid\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\",\"closed\":\"all\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-27T06:42:43.417Z"
  },
  "updatedAt": {
    "$date": "2024-06-27T06:42:43.417Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "668122b620f2fc11f705f9b8"
  },
  "label": "Sunday",
  "value": "{\"command\":\"portfolios.add\",\"name\":\"Sunday\",\"description\":\"\",\"currency\":\"USD\",\"userId\":\"\",\"baseInstrument\":\"SPY\",\"portfolioType\":\"\",\"accountId\":\"\",\"access\":\"\"}\n\n# {\"command\":\"portfolios.remove\", \"_id\":\"Sunday\"}\n# {\"command\":\"portfolios.add\",\"_id\": \"6681227f20f2fc11f705f9ac\",\"name\":\"Sunday\",\"description\":\"Sunday tester\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\n# Insert Cash",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-30T09:17:42.479Z"
  },
  "updatedAt": {
    "$date": "2024-06-30T09:17:42.479Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "66812a7120f2fc11f705fd02"
  },
  "label": "Currency Hedge",
  "value": "# {\"command\":\"portfolios.remove\", \"_id\":\"Sunday\"}\n# {\"command\":\"portfolios.add\",\"_id\": \"6681227f20f2fc11f705f9ac\",\"name\":\"Sunday\",\"description\":\"Sunday tester\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"6681227f20f2fc11f705f9ac\",\"tradeId\":\"\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"91.6900\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"100\",\"fee\":\"4\",\"symbol\":\"SAN:XPAR\",\"tradeTime\":\"2024-05-20T00:00:50\"}\nAdd money\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"6681227f20f2fc11f705f9ac\",\"amount\":\"746107.01\",\"currency\":\"DKK\", \"rate\":\"0.1341\",\"tradeTime\" :\"2024-04-01T07:00:00\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"6681227f20f2fc11f705f9ac\",\"amount\":\"748125.00\",\"currency\":\"DKK\", \"rate\":\"0.1341\",\"tradeTime\" :\"2024-05-14T07:00:00\"}\n\nTake the currency risk away, This is DKK: 1,494,232.01. POrtfolio is EUR, so I do not want risk in FX\n\nCurrency Hedge:\n{\"command\":\"trades.add\",\"portfolioId\":\"Sunday\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"EUR\",\"rate\":\"7.4593692\",\"volume\":\"100020\",\"fee\":\"2\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-04-09T12:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"Sunday\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"EUR\",\"rate\":\"7.4593692\",\"volume\":\"100282\",\"fee\":\"2.01\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-05-14T13:00:15\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-30T09:50:41.571Z"
  },
  "updatedAt": {
    "$date": "2024-06-30T09:50:41.571Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "66812b1820f2fc11f705fd0b"
  },
  "label": "Robofunds Investors and FXHedge",
  "value": "Add money from investors\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"667f92043798dfbc58202023\",\"amount\":\"746107.01\",\"currency\":\"DKK\", \"rate\":\"0.1341\",\"tradeTime\" :\"2024-04-01T07:00:00\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"667f92043798dfbc58202023\",\"amount\":\"748125.00\",\"currency\":\"DKK\", \"rate\":\"0.1341\",\"tradeTime\" :\"2024-05-14T07:00:00\"}\n\nTake the currency risk away, This is DKK: 1,494,232.01. POrtfolio is EUR, so I do not want risk in FX\n\nCurrency Hedge:\n{\"command\":\"trades.add\",\"portfolioId\":\"Roboglobal\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"EUR\",\"rate\":\"7.4593692\",\"volume\":\"100020\",\"fee\":\"2\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-04-09T12:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"Roboglobal\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"EUR\",\"rate\":\"7.4593692\",\"volume\":\"100282\",\"fee\":\"2.01\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-05-14T13:00:15\"}\n\n\nAdd money\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"6681227f20f2fc11f705f9ac\",\"amount\":\"746107.01\",\"currency\":\"DKK\", \"rate\":\"0.1341\",\"tradeTime\" :\"2024-04-01T07:00:00\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"6681227f20f2fc11f705f9ac\",\"amount\":\"748125.00\",\"currency\":\"DKK\", \"rate\":\"0.1341\",\"tradeTime\" :\"2024-05-14T07:00:00\"}\n\nTake the currency risk away, This is DKK: 1,494,232.01. POrtfolio is EUR, so I do not want risk in FX\n\nCurrency Hedge:\n{\"command\":\"trades.add\",\"portfolioId\":\"Sunday\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"EUR\",\"rate\":\"7.4593692\",\"volume\":\"100020\",\"fee\":\"2\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-04-09T12:00:15\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"Sunday\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"EUR\",\"rate\":\"7.4593692\",\"volume\":\"100282\",\"fee\":\"2.01\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-05-14T13:00:15\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-30T09:53:28.494Z"
  },
  "updatedAt": {
    "$date": "2024-06-30T09:54:53.448Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "66818d1208dccd3d9682b799"
  },
  "label": "SundayFX",
  "value": "{\"command\":\"portfolios.remove\", \"_id\":\"SundayFX\"}\n{\"command\":\"portfolios.add\",\"_id\": \"66818b2f37e192aec97f79fc\",\"name\":\"SundayFX\",\"description\":\"Sunday tester\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\n\n# Insert some money in DKK - this should make Portfolio Cash show approx 750.000 DKK and EUR 0\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"66818b2f37e192aec97f79fc\",\"amount\":\"750000.00\",\"currency\":\"DKK\", \"rate\":\"0.1341\",\"tradeTime\" :\"2024-04-01T07:00:00\"}\n# Buy a stock to force grid visible (Fraction to  100000 EUR)\n{\"command\":\"trades.add\",\"portfolioId\":\"66818b2f37e192aec97f79fc\",\"tradeId\":\"\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"89.86\",\"currency\":\"EUR\",\"rate\":\"1.0000\",\"volume\":\"111.2842198\",\"fee\":\"\",\"symbol\":\"SAN:XPAR\",\"tradeTime\":\"2024-05-20T00:00:50\"}\n\nCASH looks correct so far\nDKK 750.000\nEUR  -10000\n\nNow I want to exchange money to EUR (My base currency)\n\n# Sell some DKK and buy some EUR\nSyntax will not be accepted:\n{\"command\":\"trades.add\",\"portfolioId\":\"66818b2f37e192aec97f79fc\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"7.4578\",\"volume\":\"100000\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-05-10T13:00:15\"}\n\nSyntax accepted, but will confuse all people:\n{\"command\":\"trades.add\",\"portfolioId\":\"66818b2f37e192aec97f79fc\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"1\",\"currency\":\"EUR\",\"rate\":\"7.4593692\",\"volume\":\"100000\",\"fee\":\"0\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-05-10T13:00:15\"}\n\nA currency trade is like every other trade, so only symbol,Buy/sell, price, volume shuold be entered. (it is implictit in the symbology that this is about EUR/DKK) so cash can be deduced from this.\n\nResult of this trade should be for CASH\nDKK: 0\nEUR: 90.000\n\nSell stock for 10000 CASH should be:\nEUR 100.000\n\nTime to buy SEKNOK (but I need to understand present syntax of trades.add before)\nBut this should make 2 new CASH rows.\nSEK positive\nNOK negative\nEUR unchanged",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-06-30T16:51:30.832Z"
  },
  "updatedAt": {
    "$date": "2024-06-30T17:44:41.263Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6685049b4cca9010dd9f1981"
  },
  "label": "Test_Portfolio_Cash_Operations",
  "value": "------------------------------------------\nTest putCash with different tradeType\n------------------------------------------\n{\"command\":\"tests.text\", \"text\":\"Test putCash with different tradeType\"}\n#1 Remove if exists\n{\"command\":\"portfolios.remove\", \"_id\":\"_testCashPortfolio\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"_testCashPortfolio\",\"description\":\"port\",\"currency\":\"USD\",\"baseInstrument\":\"SPY\"}\n\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\", \"tradeId\":\"t1\", \"amount\":\"200000\",\"currency\":\"DKK\",\"rate\":\"1\",\"description\":\"put cash\"}\n\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\",\"tradeId\":\"t2\",\"amount\":\"200000\",\"currency\":\"USD\",\"rate\":\"1\",\"tradeType\":\"dividends\", \"description\":\"put dividends\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\",\"tradeId\":\"t3\",\"amount\":\"-100000\",\"currency\":\"DKK\",\"rate\":\"1\",\"tradeType\":\"correction\",\"description\":\"put correction\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\",\"tradeId\":\"t4\",\"amount\":\"100000\",\"currency\":\"USD\",\"rate\":\"1\",\"tradeType\":\"investment\",\"description\":\"put investment\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"_testCashPortfolio\", \"_as\":\"trades\"}\n\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeId=t1]\", \"conditions\": {\"tradeType\": {\"$eq\": \"31\"}, \"description\": {\"$eq\":\"put cash\"}},  \n  \"description\": \"Check put tradeType=cash\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeId=t2]\", \"conditions\": {\"tradeType\": {\"$eq\": \"20\"}, \"description\": {\"$eq\":\"put dividends\"}},  \n  \"description\": \"Check put tradeType=dividends\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeId=t3]\", \"conditions\": {\"tradeType\": {\"$eq\": \"22\"}, \"description\": {\"$eq\":\"put correction\"}},  \n  \"description\": \"Check put tradeType=correction\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeId=t4]\", \"conditions\": {\"tradeType\": {\"$eq\": \"21\"}, \"description\": {\"$eq\":\"put investment\"}},  \n  \"description\": \"Check put tradeType=investment\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"_testCashPortfolio\", \"requestType\":\"0\", \"msgId\":\"mPos\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mPos\", \"to\":\"positions\"}\n{\"command\":\"tests.check\",  \"path\": \"positions.[symbol=CASH_USD]\",   \"conditions\": {\"total\": {\"$eq\": 300000}},  \n  \"description\": \"Check cash position USD\" }\n{\"command\":\"tests.check\",  \"path\": \"positions.[symbol=CASH_DKK]\",   \"conditions\": {\"total\": {\"$eq\": 100000}},  \n  \"description\": \"Check cash position DKK\" }\n------------------------------------------------\nTest putCash with fee, rate  and description\n------------------------------------------------\n{\"command\":\"tests.text\", \"text\":\"Test putCash with fee, rate  and description\"}\n#1 Remove if exists\n{\"command\":\"portfolios.remove\", \"_id\":\"_testCashPortfolio\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"_testCashPortfolio\",\"description\":\"port\",\"currency\":\"USD\",\"userId\":\"\",\"baseInstrument\":\"SPY\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\",\"amount\":\"1000\",\"currency\":\"USD\", \"fee\":\"20.5\", \"tradeTime\" :\"2024-03-01T08:00:00\", \"description\":\"description USD\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\",\"amount\":\"1000\",\"currency\":\"EUR\", \"fee\":\"10\", \"rate\":\"1.2\", \"tradeTime\" :\"2024-03-01T08:00:00\", \"description\":\"description EUR\"}\n{\"command\":\"portfolios.trades\", \"_id\":\"_testCashPortfolio\", \"_as\":\"trades\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[currency=USD]\", \"conditions\": {\"fee\": {\"$eq\": \"20.5\"}, \"description\": {\"$eq\":\"description USD\"}},  \n  \"description\": \"Check input fee, description\"}\n{\"command\":\"portfolios.positions\",\"_id\":\"_testCashPortfolio\", \"requestType\":\"0\", \"msgId\":\"mPos0\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mPos0\", \"to\":\"positions\"}\n{\"command\":\"tests.check\",  \"path\": \"positions.[symbol=CASH_EUR]\",   \"conditions\": {\"total\": {\"$eq\": 1200}},  \n  \"description\": \"Check cash EUR=1200\" }\n{\"command\":\"tests.check\",  \"path\": \"positions.[symbol=CASH_USD]\",   \"conditions\": {\"total\": {\"$eq\": 967.5}},  \n  \"description\": \"Check cash base currency(USD) include all fee = 1000 - 20 - 12.5 = 967.5\" }\n\n--------------------------------------\nTest putCash with retrieve rate from historical data\n-cash operations with portfolio, we put 2 cash 1000USD + 1000EUR and must get cash, nav = 1000+1000*1.085517 =  2085.517,\n-then we put cash -1000 DKK and get cash, nav =  1939.878\n------------------------------------------------\n{\"command\":\"tests.text\", \"text\":\"Test putCash with retrieve rate from historical data\"}\n#1 Remove if exists\n{\"command\":\"portfolios.remove\", \"_id\":\"_testCashPortfolio\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"_testCashPortfolio\",\"description\":\"\",\"currency\":\"USD\",\"userId\":\"\",\"baseInstrument\":\"SPY\"}\n#3 Put cash, we use portfolio.name in portfolioId \n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\",\"amount\":\"1000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-03-01T08:00:00\"}\n#4 Put cash in not portfolio currency\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\",\"amount\":\"1000\",\"currency\":\"EUR\", \"tradeTime\" :\"2024-03-05T08:00:00\",\"_as\":\"cashEUR\"}\n#5 Get  EURUSD:FX  for date:\"2024-03-05 and save as price variable\n{\"command\":\"prices.historical\", \"symbols\": \"EURUSD:FX\", \"date\":\"2024-03-05\", \"_as\":\"price\"}\n#6  Check that used EURUSD rate for current date 2024-03-05 is equal historical data\n{\"command\":\"tests.check\", \"path\": \"cashEUR\", \"conditions\": {\"rate\": {\"$eq\": \"$var.price.EURUSD:FX\"}},  \n  \"description\": \"Check that used EURUSD rate for current date 2024-03-05 is equal historical data\"}\n#7 PUT -2000 USD\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio\",\"amount\":\"-1000\",\"currency\":\"DKK\", \"tradeTime\" :\"2024-03-06T08:00:00\", \"_as\":\"cashDKK\"}\n#8 Get  DKKUSD:FX  for date:\"2024-03-06 and save as price variable\n{\"command\":\"prices.historical\", \"symbols\": \"DKKUSD:FX\", \"date\":\"2024-03-06\", \"_as\":\"price\"}\n#9  Check that used DKKUSD rate for current date 2024-03-06 is equal historical data\n{\"command\":\"tests.check\", \"path\": \"cashDKK\", \"conditions\": {\"rate\": {\"$eq\": \"$var.price.DKKUSD:FX\"}},  \n  \"description\": \"Check that used DKKUSD rate for current date 2024-03-06 is equal historical data\"}\n\n#10 get history\n{\"command\":\"portfolios.history\",\"_id\":\"_testCashPortfolio\",\"detail\":0, \"till\":\"2024-03-07\",  \"_as\":\"history\"}\n\n#11 check\n{\"command\":\"tests.check\", \"path\": \"history.days.1\", \"conditions\": {\"cash\": {\"$eq\": 2085.52}},  \n  \"description\": \"Check that we have cash in USD for 2024-03-05= 2085.52 = 1000USD+1000EUR rateEUR=1.085517 \"}\n\n#12 check\n{\"command\":\"tests.check\", \"path\": \"history.days.2\", \"conditions\": {\"cash\": {\"$eq\": 1939.88}},  \n  \"description\": \"Check that we have cash in USD for date 2024-03-06  = 1939.88 = 1000USD+1000EUR-1000DKK rateDKK=0.145639\" }\n\n#13 get positions\n{\"command\":\"portfolios.positions\",\"_id\":\"_testCashPortfolio\", \"requestType\":\"0\", \"msgId\":\"mPos\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mPos\", \"to\":\"positions\"}\n#14 check\n{\"command\":\"tests.check\",  \"path\": \"positions.[symbol=CASH_USD]\",   \"conditions\": {\"total\": {\"$eq\": 1000}},  \n  \"description\": \"Check positions cash USD =1000\" }\n\n#15 check\n{\"command\":\"tests.check\", \"path\":\"positions.[symbol=CASH_DKK]\" \"conditions\": {\"total\": {\"$eq\": -145.64}},  \n  \"description\": \"Check positions cash DKK = -1000DKK = -145.64 USD\" }",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-03T07:58:19.709Z"
  },
  "updatedAt": {
    "$date": "2024-07-03T07:58:19.709Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "668b00cff7707d99ac5688aa"
  },
  "label": "Test_put*",
  "value": "{\"command\":\"tests.text\", \"text\":\"Test required parameters amount, currency  in putCash, putInvestment\"}\n#1 Remove if exists\n{\"command\":\"portfolios.remove\", \"_id\":\"_testCashPortfolio2\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"_testCashPortfolio2\",\"description\":\"port\",\"currency\":\"USD\",\"baseInstrument\":\"SPY\"}\n\n#3 Check errors in parameters\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"err1\",\"amount\":\"10000\",\"description\":\"put investment without currency\", \"_as\":\"errorRequest\"}\n{\"command\":\"tests.check\", \"path\": \"errorRequest\", \"conditions\": {\"error\": {\"$exists\": \"true\"}}, \"description\": \"putInvestment, Detect absent parameter 'currency'\"}\n\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"err1\",\"amount\":\"10000\",\"description\":\"put cash without currency\", \"_as\":\"errorRequest\"}\n{\"command\":\"tests.check\", \"path\": \"errorRequest\", \"conditions\": {\"error\": {\"$exists\": \"true\"}}, \"description\": \"putCash, Detect absent parameter 'currency'\"}\n\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"err1\",\"currency\":\"DKK\",\"description\":\"put investment without amount\", \"_as\":\"errorRequest\"}\n{\"command\":\"tests.check\", \"path\": \"errorRequest\", \"conditions\": {\"error\": {\"$exists\": \"true\"}}, \"description\": \"putInvestment, Detect absent parameter 'amount'\"}\n\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"err1\",\"currency\":\"DKK\",\"description\":\"put cash without amount\", \"_as\":\"errorRequest\"}\n{\"command\":\"tests.check\", \"path\": \"errorRequest\", \"conditions\": {\"error\": {\"$exists\": \"true\"}}, \"description\": \"putCash, Detect absent parameter 'amount'\"}\n\n#3 Check errors in parameters putDividends\n{\"command\":\"tests.text\", \"text\":\"Test required parameters amount, symbol  in putDividends\"}\n{\"command\":\"portfolios.putDividends\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"err1\", \"symbol\":\"INTC\", \"description\":\"put dividends without amount, \"_as\":\"errorRequest\"}\n{\"command\":\"tests.check\", \"path\": \"errorRequest\", \"conditions\": {\"error\": {\"$exists\": \"true\"}}, \"description\": \"putDividends, Detect absent parameter 'amount'\"}\n\n{\"command\":\"portfolios.putDividends\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"err1\",\"amount\":\"10000\",\"description\":\"put cash\", \"_as\":\"errorRequest\"}\n{\"command\":\"tests.check\", \"path\": \"errorRequest\", \"conditions\": {\"error\": {\"$exists\": \"true\"}}, \"description\": \"putDividends, Detect absent parameter 'symbol'\"}\n\n\n#3 Correct parameters\n{\"command\":\"tests.text\", \"text\":\"Test put* operations\"}\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"_testCashPortfolio2\", \"tradeId\":\"t1\", \"tradeType\":\"investment\",  \"amount\":\"220000\",\"currency\":\"DKK\",\"rate\":\"1\",\"description\":\"put investment DKK in USD via putCash\"}\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"t2\",\"amount\":\"10000\", \"currency\":\"EUR\",\"description\":\"put investment EUR in EUR, rate will be recieved\"}\n\n\n#3Checks\n{\"command\":\"portfolios.trades\", \"_id\":\"_testCashPortfolio2\", \"_as\":\"trades\"}\n\n\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeId=t1]\", \"conditions\": {\"tradeType\": {\"$eq\": \"21\"}, \"description\": {\"$eq\":\"put investment DKK in USD via putCash\"}},  \n  \"description\": \"put investment via putCash tradeType=investment\"}\n{\"command\":\"tests.check\", \"path\": \"trades.[tradeId=t2]\", \"conditions\": {\"tradeType\": {\"$eq\": \"21\"}, \"description\": {\"$eq\":\"put investment EUR in EUR, rate will be recieved\"}},  \n  \"description\": \"Check putInvestment\"}\"\n\n\n{\"command\":\"portfolios.positions\",\"_id\":\"_testCashPortfolio2\", \"requestType\":\"0\", \"msgId\":\"mPos\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mPos\", \"to\":\"positions\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-07T20:55:43.539Z"
  },
  "updatedAt": {
    "$date": "2024-07-07T20:55:43.539Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "668b00fff7707d99ac5688cf"
  },
  "label": "Test_putDividends",
  "value": "{\"command\":\"tests.text\", \"text\":\"Test putDividends\"}\n#1 Remove if exists\n{\"command\":\"portfolios.remove\", \"_id\":\"_testCashPortfolio2\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"_testCashPortfolio2\",\"description\":\"port\",\"currency\":\"USD\",\"baseInstrument\":\"SPY\"}\n\n{\"command\":\"trades.add\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"503978\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"70.0\",\"currency\":\"USD\",\"rate\":\"1.0000\",\"volume\":\"100\",\"fee\":\"20.0\",\"symbol\":\"XLC\",\"name\":\"Communication Services Select Sector SPDR Fund\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n{\"command\":\"trades.add\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"503979\",\"tradeType\":\"1\",\"side\":\"B\",\"price\":\"14.0\",\"currency\":\"EUR\",\"rate\":\"1.2\",\"volume\":\"100\",\"fee\":\"10.0\",\"symbol\":\"CBK:XETR\",\"name\":\"Commerzbank AG\",\"tradeTime\":\"2024-01-10T00:00:02\"}\n\n{\"command\":\"portfolios.putDividends\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"t3\",\"amount\":\"2.5\",\"symbol\":\"XLC\", \"description\":\"put dividends \", \"tradeTime\":\"2024-01-12T00:00:02\"}\n{\"command\":\"portfolios.putDividends\",\"portfolioId\":\"_testCashPortfolio2\",\"tradeId\":\"t4\",\"amount\":\"1\",\"symbol\":\"CBK:XETR\",\"rate\":\"1.2\",  \"description\":\"put dividends CBK:XETR\", \"tradeTime\":\"2024-01-15T00:00:02\"}\n\n{\"command\":\"portfolios.positions\",\"_id\":\"_testCashPortfolio2\", \"requestType\":\"0\", \"msgId\":\"mPos\"}\n{\"command\":\"tests.waitMsg\", \"msgId\":\"mPos\", \"to\":\"positions\"}\n{\"command\":\"tests.check\", \"path\": \"positions.[symbol=DIVIDENDS_XLC]\", \"conditions\": {\"total\": {\"$eq\": \"250\"}}, \"description\": \"Check dividend value for XLC = 2.5*100\"}\n{\"command\":\"tests.check\", \"path\": \"positions.[symbol=DIVIDENDS_CBK:XETR]\", \"conditions\": {\"total\": {\"$eq\": \"120\"}}, \"description\": \"Check dividend value for CBK:XETR = 1*1.2*100\"}\n{\"command\":\"tests.check\", \"path\": \"positions.[symbol=CASH_USD]\", \"conditions\": {\"total\": {\"$eq\": \"-6770\"}}, \"description\": \"Check dividend was added to USD cash\"}\n{\"command\":\"tests.check\", \"path\": \"positions.[symbol=CASH_EUR]\", \"conditions\": {\"total\": {\"$eq\": \"-1572\"}}, \"description\": \"Check dividend was added to EUR cash\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-07T20:56:31.365Z"
  },
  "updatedAt": {
    "$date": "2024-07-07T20:56:31.365Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "668b67f6fef0fae49035aec0"
  },
  "label": "Insert Cash",
  "value": "{\"command\":\"portfolios.putCash\",\"portfolioId\":\"tst\",\"amount\":\"100000\",\"currency\":\"EUR\",\"rate\":\"1\",\"description\":\"\",\"fee\":\"\",\"userId\":\"\",\"tradeTime\":\"2024-04-08T03:44:42\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-08T04:15:50.882Z"
  },
  "updatedAt": {
    "$date": "2024-07-08T04:15:50.882Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "668ba785901f3a6cb769227a"
  },
  "label": "fund",
  "value": "{\"command\":\"portfolios.remove\", \"_id\":\"fund\"}\n{\"command\":\"portfolios.add\",\"_id\": \"668ba6eb901f3a6cb7692268\",\"name\":\"fund\",\"description\":\"fundtester\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\nInsert Cash\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"amount\":\"100000\",\"currency\":\"EUR\", \"tradeTime\" :\"2024-03-01T07:00:00\"}\n\n\nTRADES",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-08T08:47:01.114Z"
  },
  "updatedAt": {
    "$date": "2024-07-08T08:47:01.114Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "668bac76901f3a6cb7692343"
  },
  "label": "Fund",
  "value": "{\"command\":\"portfolios.remove\", \"_id\":\"fund\"}\n{\"command\":\"portfolios.add\",\"_id\": \"668ba6eb901f3a6cb7692268\",\"name\":\"fund\",\"description\":\"fundtester\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\"}\nInsert Cash\n{\"command\":\"portfolios.putCash\",\"portfolioId\":\"65f52f98ab7128acd188b333\",\"amount\":\"100000\",\"currency\":\"EUR\", \"tradeTime\" :\"2024-03-01T07:00:00\"}\nINVESTOR\n\nTRADES\n\nSPLIT\n\nDIVIDENDS\n\nOPTION TRADING\n\nFUTURES TRADING",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-08T09:08:06.907Z"
  },
  "updatedAt": {
    "$date": "2024-07-08T09:08:06.907Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6694334253b11a86ef2c2fb8"
  },
  "label": "Test_putInvest",
  "value": "#set portfolio name, pid=_id\n{\"command\":\"tests.setVar\", \"v\":{\"portfolioName\": \"_invest\", \"pid\": \"6692e8f5f0ab39ec9c514843\"}}\n#1 Remove if exists - clear portfolio and it trades  by name \n{\"command\":\"portfolios.remove\", \"_id\":\"$var.pid\"}\n#2 Create new portfolio\n{\"command\":\"portfolios.add\",\"name\":\"$var.portfolioName\",\"_id\":\"$var.pid\",  \"currency\":\"USD\",\"baseInstrument\":\"SPY\", \"portfolioType\":\"fund\"}\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"$var.pid\",\"amount\":\"100000\",\"currency\":\"USD\", \"tradeTime\" :\"2024-01-09T08:00:00\"}\n\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"$var.pid\",\"amount\":\"200000\",\"shares\":\"1.5\", \"currency\":\"USD\", \"tradeTime\" :\"2024-01-12T08:00:00\"}\n\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"$var.pid\",\"amount\":\"200000\",\"shares\":\"6.0\", \"currency\":\"USD\", \"tradeTime\" :\"2024-01-15T08:00:00\"}\n\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"$var.pid\",\"amount\":\"50000\",\"shares\":\"1.5\", \"currency\":\"EUR\",\"rate\":\"1.2\",  \"tradeTime\" :\"2024-01-18T08:00:00\"}\n\n{\"command\":\"portfolios.history\",\"_id\":\"$var.pid\",\"from\":\"2024-01-09\",\"till\":\"2024-01-20\",\"sample\":\"1\",\"detail\":0,\"precision\":2, \"_as\":\"history\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-14T20:21:22.238Z"
  },
  "updatedAt": {
    "$date": "2024-07-14T20:21:22.238Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6699eaaa8e3d33cd85d92096"
  },
  "label": "robo import",
  "value": "1.\nImport file from IB (I show only the EURDKK part)\nThis is portfolio \"Robo\"\n\n\"0.13406\",\"CASH\",\"EUR.DKK\",\"20240409;120000\",\"20240409\",\"IDEALFX\",\"92000\",\"7.45937\",\"0\",\"BUY\",\"DKK\",\"\",\"-1.84172\",\"EUR\",\"0\",\"0\"\n\"0.13406\",\"CASH\",\"EUR.DKK\",\"20240409;120453\",\"20240409\",\"IDEALFX\",\"8020\",\"7.45936\",\"0\",\"BUY\",\"DKK\",\"\",\"-0.15886486\",\"EUR\",\"0\",\"0\"\n\"0.13404\",\"CASH\",\"EUR.DKK\",\"20240411;203043\",\"20240412\",\"IDEALFX\",\"2.8022\",\"7.45955\",\"0\",\"BUY\",\"DKK\",\"\",\"0\",\"EUR\",\"0\",\"0\"\n\"0.13406\",\"CASH\",\"EUR.DKK\",\"20240506;080539\",\"20240506\",\"IDEALFX\",\"12\",\"7.459\",\"0\",\"BUY\",\"DKK\",\"\",\"-1.85832\",\"EUR\",\"0\",\"0\"\n\"0.13406\",\"CASH\",\"EUR.DKK\",\"20240508;202846\",\"20240509\",\"IDEALFX\",\"0.0834\",\"7.45825\",\"0\",\"BUY\",\"DKK\",\"\",\"0\",\"EUR\",\"0\",\"0\"\n\"0.13403\",\"CASH\",\"EUR.DKK\",\"20240514;030651\",\"20240514\",\"IDEALFX\",\"100282\",\"7.46031\",\"0\",\"BUY\",\"DKK\",\"\",\"-2.005521052\",\"EUR\",\"0\",\"0\"\n\"0.13402\",\"CASH\",\"EUR.DKK\",\"20240516;202301\",\"20240517\",\"IDEALFX\",\"-1.3146\",\"7.46065\",\"0\",\"SELL\",\"DKK\",\"\",\"0\",\"EUR\",\"0\",\"0\"\n\"0.13407\",\"CASH\",\"EUR.DKK\",\"20240620;063714\",\"20240620\",\"IDEALFX\",\"11\",\"7.4582\",\"0\",\"BUY\",\"DKK\",\"\",\"-1.86144\",\"EUR\",\"0\",\"0\"\n\"0.13405\",\"CASH\",\"EUR.DKK\",\"20240624;204110\",\"20240625\",\"IDEALFX\",\"0.9451\",\"7.45905\",\"0\",\"BUY\",\"DKK\",\"\",\"0\",\"EUR\",\"0\",\"0\"\n2.\nDKK CASH in portfolis says EUR: 200318.33\nSounds correct since FX trades was made in import\n3.\nInsert the investor money (rate is mandatory, so I set to \"1\"\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"robo\",\"amount\":\"746107.01\",\"shares\":\"1\", \"currency\":\"DKK\", \"rate\":\"1\",\"tradeTime\" :\"2024-04-09T00:01:00\"}\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"robo\",\"amount\":\"748125.00\",\"shares\":\"1\", \"currency\":\"DKK\", \"rate\":\"1\",\"tradeTime\" :\"2024-05-14T00:01:00\"}\n\nRate is mandatory, so I set this to \"1\" since no currency exchange takes place (allready been done in import)\n4.\nAfter this put of investor money I would mean that DKK should be approx. 0\nBut DKK CASH in EUR \t1,295,895.69\n\n5.\nMaybe not related but Portfolio.history after the import gives: \"execution failed\"",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-19T04:25:14.375Z"
  },
  "updatedAt": {
    "$date": "2024-07-19T05:12:55.007Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "669a40188e3d33cd85d9295e"
  },
  "label": "tfx",
  "value": "{\"command\":\"portfolios.remove\", \"_id\":\"tfx\"}\n{\"command\":\"portfolios.add\",\"name\":\"tfx\",\"description\":\"\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\",\"portfolioType\":\"\",\"accountId\":\"\",\"access\":\"\"}\n\n\n{command\":\"portfolios.putInvestment\",\"portfolioId\":\"tfx\",\"amount\":\"746107.01\",\"shares\":\"1\", \"currency\":\"DKK\", \"rate\":\"\",\"tradeTime\" :\"2024-04-09T00:01:00\"}\n{command\":\"portfolios.putInvestment\",\"portfolioId\":\"tfx\",\"amount\":\"746107.01\",\"shares\":\"1\", \"currency\":\"DKK\", tradeTime\" :\"2024-04-09T00:01:00\"}\n{command\":\"portfolios.putInvestment\",\"portfolioId\":\"tfx\",\"amount\":\"1000000\",\"shares\":\"1\", \"currency\":\"SEK\", tradeTime\" :\"2024-04-10T00:01:00\"}\n\n\nAbove commands not accepted - so Rate must be present\n################### No command accepted without rate! \n  in first case rate will be recieved from historical data for current day. \n  in second case need add \"  , so fix tradeTime\" to \"tradeTime\"\n\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"tfx\",\"amount\":\"746107.01\",\"shares\":\"1\", \"currency\":\"DKK\", \"rate\":\"0.1339\",\"tradeTime\" :\"2024-04-09T00:01:00\"}\nBut this price is DKKEUR not EURDKK ,so inverse  \nAccording positions I now have:\nCurrency sums:DKK\t746,107.0100 (DKK )  or in EUR:\t99,903.73(EUR)\n\nMeaning I have DKK on portfolio, and I must exchange this to EUR: (so I do not have currency risk\nIn this moment we have CASH_DKK=99,903.73(EUR) CASH_EUR=0\nSo need recieve CASH_DKK~0, and CASH_EUR~99,903. move cash from DKK to USD so we need sell cash DKK  and buy EUR cash for this can buy EURDKK:FX \n\nAbout direction according screenshots IB (it is our test inside IB with fx in file  fx.pdf) buy/sell fx next :\nBuy AAABBB  cash AAA will grow, BBB will down \nSell AAABBB cash AAA down , BBB will grow\nso we need  buy EURDKK:FX;   which cash down for DKK and grow EUR \n\nwhere price EUR to DKK is 7.46826= 1/0.1339,  (for buy 1 EUR need 7.46 DKK) , rate is always relate to portfolio base so it 0.1339\ncalculate volume EUR which need buy . volume = Money_in DKK/DKK_in_1_EUR = 746107.0100/7.46826=99903.72\n\n\n{\"command\":\"trades.add\",\"portfolioId\":\"tfx\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"B\",\"price\":\"7.46826\",\"rate\":\"0.1339\",\"volume\":\"99903.72\",\"fee\":\"\",\"symbol\":\"EURDKK:FX\", \"tradeTime\":\"2024-04-09T02:00:15\"}\n\nCurently parameters price, rate is similar to parameters  csv files which usewd for import:\n\"FXRateToBase\",\"Symbol\",\"TradePrice\",\n\"0.13406\",\"EUR.DKK\",\"7.45937\"\nit is ps2 parameters: rate, symbol, price\n\n\nSee my risk\n\n{\"command\":\"portfolios.positions\",\"_id\":\"tfx\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\",\"closed\":\"all\"}\n\nNow CASH_DKK=0.00724  CASH_EUR= 99903.7214. so we move cash from DKK to EUR",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-19T10:29:44.022Z"
  },
  "updatedAt": {
    "$date": "2024-07-26T07:21:30.400Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "66a350221df66c2631ae0172"
  },
  "label": "tfx1",
  "value": "{\"command\":\"portfolios.remove\", \"_id\":\"tfx1\"}\n{\"command\":\"portfolios.add\",\"name\":\"tfx1\",\"description\":\"\",\"currency\":\"EUR\",\"userId\":\"\",\"baseInstrument\":\"URTH\",\"portfolioType\":\"\",\"accountId\":\"\",\"access\":\"\"}\n\nInsert Investor money\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"tfx1\",\"amount\":\"746107.01\",\"shares\":\"1\", \"currency\":\"DKK\", \"tradeTime\" :\"2024-04-09T00:01:00\"}\n{\"command\":\"portfolios.putInvestment\",\"portfolioId\":\"tfx1\",\"amount\":\"746107.01\",\"shares\":\"1\", \"currency\":\"DKK\", \"tradeTime\" :\"2024-05-10T00:01:00\"}\nExchange the DKK to EUR\n{\"command\":\"trades.add\",\"portfolioId\":\"tfx1\",\"tradeType\":\"1\",\"state\":\"1\",\"side\":\"S\",\"price\":\"0.1340\",\"volume\":\"1400000\",\"symbol\":\"EURDKK:FX\",\"tradeTime\":\"2024-05-11T01:00:16\"}\n\n{\"command\":\"portfolios.positions\",\"_id\":\"tfx1\",\"requestType\":\"0\",\"marketPrice\":\"4\",\"basePrice\":\"4\",\"closed\":\"all\"}\n\nAdd stock trades, dividends",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-07-26T07:28:34.426Z"
  },
  "updatedAt": {
    "$date": "2024-07-29T08:20:58.670Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "66b3348a8c4b87d22e424fa3"
  },
  "label": "Users list, filter",
  "value": "{\n  \"command\": \"users.list\",\n  \"filter\": {\"name\": \"admin\"}\n}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-08-07T08:47:06.344Z"
  },
  "updatedAt": {
    "$date": "2024-08-07T08:47:06.344Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "670588d185b8fcecccc91611"
  },
  "label": "List users (filter)",
  "value": "{\"command\":\"users.list\",\"filter\":{\"email\":\"lars@softcapital.com\"}}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-10-08T19:32:33.095Z"
  },
  "updatedAt": {
    "$date": "2024-10-08T19:32:33.095Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6708e48a6b3707d708f3891f"
  },
  "label": "Signup",
  "value": "{\n   \"command\":\"signup\",\n   \"login\":\"peter\",\n   \"firstname\":\"peter\",\n   \"secondName\":\"peter\",\n   \"accountNumber\":\"1231231231\",\n   \"telephone\":\"26262626\",\n   \"country\":\"peter\",\n   \"password\":\"peterpeter\",\n   \"email\":\"peter@test.com\"\n}",
  "description": "Signup a new user",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-10-11T08:40:42.628Z"
  },
  "updatedAt": {
    "$date": "2024-10-11T08:40:42.628Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6726f0a7c6edf8c1e80e884a"
  },
  "label": "List portfolios (filter)",
  "value": "{\"command\":\"portfolios.list\",\"filter\":{\"userId\":\"65dd09760689c3bd1c0ff45a\"}}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-11-03T03:40:23.612Z"
  },
  "updatedAt": {
    "$date": "2024-11-03T03:40:23.612Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "67332d14935ededb719b686f"
  },
  "label": "List trades (Filter)",
  "value": "{\"command\":\"trades.list\",\"filter\":{\"_id\": \"65f2aeb9a170ef205fcd42ea\"}}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-11-12T10:25:24.712Z"
  },
  "updatedAt": {
    "$date": "2024-11-12T10:25:24.712Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "6735a2861ba5724f336b3efe"
  },
  "label": "portfolio Statistics",
  "value": "{\"command\":\"tools.statistic\",\"history\":\"\",\"portfolio\":\"6732e9df90f66c13eaa3324c\",\"from\":\"\",\"till\":\"\"}",
  "description": "",
  "ownerId": "65dd09760689c3bd1c0ff45a",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2024-11-14T07:11:02.586Z"
  },
  "updatedAt": {
    "$date": "2024-11-14T07:11:02.586Z"
  },
  "__v": 0
},
{
  "_id": {
    "$oid": "67a32d4ed2ce8389263654ed"
  },
  "label": "Positions (No totals)",
  "value": "{\n  \"command\": \"portfolios.positions\",\n  \"_id\": \"67a31b7c59eaf47690d41e62\",\n  \"requestType\": \"0\",\n  \"marketPrice\": \"4\",\n  \"basePrice\": \"4\",\n  \"closed\": \"all\",\n  \"totalsMode\": \"none\"\n}",
  "description": "",
  "ownerId": "6734dc9e48a25853e9f551e2",
  "commandType": "user",
  "access": "",
  "createdAt": {
    "$date": "2025-02-05T09:20:14.668Z"
  },
  "updatedAt": {
    "$date": "2025-02-05T09:20:14.668Z"
  },
  "__v": 0
}]
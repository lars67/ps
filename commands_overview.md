# PS2 Commands Overview

## `currencies.list`

This command retrieves a list of available currencies, allowing you to filter the results.

### Parameters:

*   **`filter`** (Optional)
    *   **Description**: An object used to filter the list of currencies returned. You can specify one or more currency fields and their desired values to narrow down the results.
    *   **Possible Values**: An object with key-value pairs matching currency properties (e.g., `{"symbol": "USD"}`, `{"name": "Euro"}`).

## `portfolios.add`

This command is used to create a new portfolio within the system.

### Parameters:

*   **`_id`** (Optional)
    *   **Description**: A unique identifier for the portfolio. If not provided, the system will automatically generate one.
    *   **Possible Values**: A string representing a unique ID.

*   **`accountId`** (Optional)
    *   **Description**: A unique account identifier associated with the portfolio. This is often automatically generated by the system upon creation.
    *   **Possible Values**: A string identifying the account.

*   **`baseInstrument`** (Required)
    *   **Description**: The benchmark financial instrument used for performance comparison of this portfolio.
    *   **Possible Values**: A string representing a valid financial instrument symbol (e.g., `"SPY"`, `"URTH"`).

*   **`currency`** (Required)
    *   **Description**: The base currency for the portfolio, in which all values and calculations will be reported.
    *   **Possible Values**: A valid currency code (e.g., `"USD"`, `"EUR"`, `"DKK"`).

*   **`name`** (Required)
    *   **Description**: A user-friendly name for the portfolio. This name must be unique.
    *   **Possible Values**: Any unique string.

*   **`portfolioIds`** (Optional)
    *   **Description**: An array of portfolio IDs that this new portfolio will consolidate if it's a "summation" type portfolio. This is used for creating nested or aggregate portfolios.
    *   **Possible Values**: An array of strings, where each string is the ID of an existing portfolio (e.g., `["portfolio_id_1", "portfolio_id_2"]`).

*   **`portfolioType`** (Optional)
    *   **Description**: Specifies the type of portfolio being created, which influences its behavior and how it aggregates data.
    *   **Possible Values**: `"summation"`, `"fund"`, `"counterparty"`, `"normal"` (default if not specified).

*   **`userId`** (Optional)
    *   **Description**: The ID of the user who owns or is associated with this portfolio.
    *   **Possible Values**: A string representing a user ID.

## `portfolios.history`

This command allows you to retrieve the historical performance and data for a specific portfolio over a designated time period. It's useful for tracking how a portfolio's value has changed over time.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: This identifies the specific portfolio you want to get the history for. You can use either the unique system-generated ID of the portfolio or the portfolio's given name.
    *   **Possible Values**: A string representing a portfolio ID or name (e.g., `"your_portfolio_id"` or `"My Growth Portfolio"`).

*   **`from`** (Optional)
    *   **Description**: This parameter specifies the starting date for the historical data you want to retrieve. The system will collect data from this date onwards.
    *   **Format**: `YYYY-MM-DD` (e.g., `"2023-01-01"`)
    *   **Possible Values**: A date string in `YYYY-MM-DD` format.

*   **`precision`** (Optional)
    *   **Description**: This parameter specifies the number of decimal places for numerical values in the output. This is useful for controlling the precision of financial figures.
    *   **Possible Values**: An integer (e.g., `2`, `4`).

*   **`sample`** (Optional)
    *   **Description**: This parameter determines the time interval at which the historical data will be aggregated. For example, if you choose "day", you will get a data point for each day within your specified `from` and `till` range.
    *   **Possible Values**:
        *   `"day"`: Aggregates data on a daily basis.
        *   `"week"`: Aggregates data on a weekly basis.
        *   `"month"`: Aggregates data on a monthly basis.

*   **`till`** (Required)
    *   **Description**: This parameter specifies the end date for the historical data. The system will collect data up to and including this date.
    *   **Format**: `YYYY-MM-DD` (e.g., `"2023-12-31"`)
    *   **Possible Values**: A date string in `YYYY-MM-DD` format.

## `portfolios.list`

This command retrieves a list of portfolios, with optional filtering capabilities.

### Parameters:

*   **`filter`** (Optional)
    *   **Description**: An object used to filter the list of portfolios returned. You can specify one or more portfolio fields and their desired values to narrow down the results.
    *   **Possible Values**: An object with key-value pairs matching portfolio properties (e.g., `{"currency": "USD"}`, `{"name": "My Investment Portfolio"}`).

## `portfolios.detailList`

This command is assumed to retrieve a detailed list of portfolios, with optional filtering capabilities. The exact structure of the "detailed" output is not explicitly defined in the current documentation but is expected to contain more comprehensive information than `portfolios.list`.

### Parameters:

*   **`filter`** (Optional)
    *   **Description**: An object used to filter the list of portfolios returned. You can specify one or more portfolio fields and their desired values to narrow down the results.
    *   **Possible Values**: An object with key-value pairs matching portfolio properties (e.g., `{"currency": "USD"}`, `{"name": "My Detailed Portfolio"}`).

## `portfolios.debug`

This command provides a row-based output with detailed metrics for each day or trade, designed to help identify errors in portfolio calculations.

### Parameters:

*   **`portfolioId`** (Required)
    *   **Description**: The unique identifier (ID or name) of the portfolio to debug.
    *   **Possible Values**: A string representing a portfolio ID or name.

*   **`fee`** (Required)
    *   **Description**: The fee value to be applied in calculations for debugging purposes.
    *   **Possible Values**: A numerical value (e.g., `0.0`, `1.5`).

*   **`granularity`** (Optional)
    *   **Description**: Specifies whether the output should provide a new row for every trade or aggregate data daily.
    *   **Possible Values**: `"day"`, `"trade"`.

### Output Metrics:

*   **`Date`**: The date of the data point.
*   **`Type`**: Categorization of the entry (e.g., "Money", "Trade", "Holding").
*   **`Symbol`**: The financial instrument symbol.
*   **`Volume`**: The quantity or number of units of the financial instrument.
*   **`Original price`**: The price per unit at which the original transaction occurred (e.g., cost basis).
*   **`MarketPrice`**: The current market price per unit of the financial instrument.
*   **`Original FX`**: The foreign exchange rate at the time of the original transaction, relative to the portfolio's base currency.
*   **`MarketFX`**: The current foreign exchange rate, relative to the portfolio's base currency.
*   **`Fee`**: The transaction fee associated with the entry.
*   **`Invested`**: The total amount invested in the original transaction currency.
*   **`InvestedBase`**: The total amount invested, converted to the portfolio's base currency.
*   **`MarketValue`**: The current market value of the position in the original transaction currency.
*   **`BaseMarketValue`**: The current market value of the position, converted to the portfolio's base currency.
*   **`Realized`**: The profit or loss realized from closed positions or transactions.
*   **`Result`**: The overall profit or loss for the entry (combining realized and unrealized components if applicable).
*   **`resultBase`**: The overall profit or loss, converted to the portfolio's base currency.
*   **`Unrealized Result`**: The unrealized profit or loss.
*   **`Cash`**: The cash balance in the original transaction currency.
*   **`CashBase`**: The cash balance, converted to the portfolio's base currency.
*   **`Acc. Result`**: The accumulated (cumulative) profit or loss.
*   **`AccMarketVvalue`**: The accumulated (cumulative) market value.
*   **`AccMarketValueBase`**: The accumulated (cumulative) market value, converted to the portfolio's base currency.
*   **`AccCash`**: The accumulated (cumulative) cash balance.
*   **`AccCashBase`**: The accumulated (cumulative) cash balance, converted to the portfolio's base currency.
*   **`NAV`**: The Net Asset Value of the portfolio.
*   **`NavBase`**: The Net Asset Value of the portfolio, converted to the portfolio's base currency.

## `portfolios.positions`

This command provides information about the current positions held within a portfolio, or can be used for subscription to real-time updates or to emulate market changes.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: The unique identifier (ID or name) of the portfolio for which to retrieve positions.
    *   **Possible Values**: A string representing a portfolio ID or name.

*   **`basePrice`** (Required)
    *   **Description**: Specifies the base price to use for position calculations. The meaning of the numerical value can vary depending on implementation (e.g., `4` often implies using the closing price).
    *   **Possible Values**: Numerical values (e.g., `4`).

*   **`changes`** (Optional)
    *   **Description**: Used in conjunction with `requestType: "3"` (emulate) to simulate changes in market data for specific symbols.
    *   **Possible Values**: An array of objects, where each object contains a `symbol` and the changed data (e.g., `[{"symbol": "XLC", "close": 82}]`).

*   **`closed`** (Optional)
    *   **Description**: Determines which types of positions (open, closed, or both) are included in the results.
    *   **Possible Values**:
        *   `"all"`: Include all positions, both open and closed.
        *   `"no"`: Include only currently open positions.
        *   `"only"`: Include only closed positions.

*   **`eventName`** (Optional)
    *   **Description**: Used when subscribing (`requestType: "1"`) to define the name of the event stream for real-time updates. Also used with `requestType: "3"` to target the emulation to a specific stream.
    *   **Possible Values**: A string representing an event name.

*   **`marketPrice`** (Required)
    *   **Description**: Specifies the market price to use for position calculations. Similar to `basePrice`, the numerical value's meaning can vary.
    *   **Possible Values**: Numerical values (e.g., `4`).

*   **`requestType`** (Required)
    *   **Description**: Defines the type of operation to perform on the positions data.
    *   **Possible Values**:
        *   `"0"`: Snapshot (get current positions once).
        *   `"1"`: Subscribe (receive continuous updates).
        *   `"2"`: Unsubscribe (stop receiving updates).
        *   `"3"`: Emulate (simulate market data changes).

*   **`subscribeId`** (Optional)
    *   **Description**: When unsubscribing (`requestType: "2"`), this ID is used to identify the specific subscription to terminate. It should match the `msgId` used when initiating the subscription.
    *   **Possible Values**: A string or number representing the message ID of a previous subscription.

## `portfolios.putCash`

This command is used to add or remove cash from a portfolio. It acts as a general cash adjustment transaction.

### Parameters:

*   **`amount`** (Required)
    *   **Description**: The amount of cash to add or remove. Use a positive value to add cash and a negative value to remove cash.
    *   **Possible Values**: A numerical value (e.g., `10000`, `-500`).

*   **`currency`** (Required)
    *   **Description**: The currency of the cash amount being added or removed.
    *   **Possible Values**: A valid currency code (e.g., `"USD"`, `"EUR"`, `"DKK"`).

*   **`description`** (Optional)
    *   **Description**: A brief description of the cash transaction.
    *   **Possible Values**: Any string.

*   **`fee`** (Optional)
    *   **Description**: Any fee associated with this cash transaction.
    *   **Possible Values**: A numerical value (e.g., `5.50`, `0`).

*   **`portfolioId`** (Required)
    *   **Description**: The ID or name of the portfolio to which the cash adjustment applies.
    *   **Possible Values**: A string representing a portfolio ID or name.

*   **`rate`** (Optional)
    *   **Description**: The exchange rate if the cash currency is different from the portfolio's base currency. If not provided, the system may attempt to retrieve a historical rate.
    *   **Possible Values**: A numerical value representing the exchange rate.

*   **`tradeId`** (Optional)
    *   **Description**: A unique identifier for this cash transaction. If not provided, the system may generate one.
    *   **Possible Values**: A string representing a unique trade ID.

*   **`tradeTime`** (Required)
    *   **Description**: The date and time when the cash transaction occurred.
    *   **Format**: `YYYY-MM-DDTHH:MM:SS` (e.g., `"2024-03-01T08:00:00"`)
    *   **Possible Values**: A datetime string in `YYYY-MM-DDTHH:MM:SS` format.

*   **`tradeType`** (Optional)
    *   **Description**: Specifies the type of cash transaction. While `putCash` is a general command, this allows for categorization.
    *   **Possible Values**: `"cash"` (default), `"dividends"`, `"correction"`, `"investment"`.

*   **`userId`** (Optional)
    *   **Description**: The ID of the user initiating the cash transaction.
    *   **Possible Values**: A string representing a user ID.

## `portfolios.putDividends`

This command records a dividend payment received into a portfolio for a specific symbol.

### Parameters:

*   **`amount`** (Required)
    *   **Description**: The amount of the dividend paid per share.
    *   **Possible Values**: A numerical value (e.g., `2.5`, `1`).

*   **`portfolioId`** (Required)
    *   **Description**: The ID or name of the portfolio receiving the dividend.
    *   **Possible Values**: A string representing a portfolio ID or name.

*   **`rate`** (Optional)
    *   **Description**: The exchange rate if the dividend currency (inferred from the symbol's currency or explicitly provided by a `currency` parameter, if added later) is different from the portfolio's base currency.
    *   **Possible Values**: A numerical value representing the exchange rate.

*   **`symbol`** (Required)
    *   **Description**: The financial instrument symbol for which the dividend was received.
    *   **Possible Values**: A string representing a valid financial instrument symbol (e.g., `"XLC"`, `"CBK:XETR"`).

*   **`tradeId`** (Optional)
    *   **Description**: A unique identifier for this dividend transaction. If not provided, the system may generate one.
    *   **Possible Values**: A string representing a unique trade ID.

*   **`tradeTime`** (Required)
    *   **Description**: The date and time when the dividend transaction occurred.
    *   **Format**: `YYYY-MM-DDTHH:MM:SS` (e.g., `"2024-01-12T00:00:02"`)
    *   **Possible Values**: A datetime string in `YYYY-MM-DDTHH:MM:SS` format.

## `portfolios.putInvestment`

This command records an investment made into a fund-type portfolio, increasing its capital based on shares (units) or a direct cash amount.

### Parameters:

*   **`amount`** (Required)
    *   **Description**: The monetary amount of the investment.
    *   **Possible Values**: A numerical value (e.g., `100000`, `200000`).

*   **`currency`** (Required)
    *   **Description**: The currency in which the investment is made.
    *   **Possible Values**: A valid currency code (e.g., `"USD"`, `"EUR"`, `"DKK"`).

*   **`portfolioId`** (Required)
    *   **Description**: The ID or name of the fund-type portfolio receiving the investment.
    *   **Possible Values**: A string representing a portfolio ID or name.

*   **`rate`** (Optional)
    *   **Description**: The exchange rate if the investment currency is different from the portfolio's base currency. If not provided, the system may attempt to retrieve a historical rate.
    *   **Possible Values**: A numerical value representing the exchange rate (e.g., `1.2`).

*   **`shares`** (Optional)
    *   **Description**: The number of shares or units acquired with this investment. Relevant for funds that track shares.
    *   **Possible Values**: A numerical value (e.g., `1.5`, `6.0`).

*   **`tradeId`** (Optional)
    *   **Description**: A unique identifier for this investment transaction. If not provided, the system may generate one.
    *   **Possible Values**: A string representing a unique trade ID.

*   **`tradeTime`** (Required)
    *   **Description**: The date and time when the investment occurred.
    *   **Format**: `YYYY-MM-DDTHH:MM:SS` (e.g., `"2024-01-09T08:00:00"`)
    *   **Possible Values**: A datetime string in `YYYY-MM-DDTHH:MM:SS` format.

## `portfolios.remove`

This command removes a specified portfolio from the system. Be cautious, as this typically also removes all associated trades.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: The unique identifier (ID or name) of the portfolio to be removed.
    *   **Possible Values**: A string representing a portfolio ID or name.

## `portfolios.trades`

This command retrieves all trades associated with a particular portfolio.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: The unique identifier (ID or name) of the portfolio for which to retrieve trades.
    *   **Possible Values**: A string representing a portfolio ID or name.

## `prices.historical`

This command fetches historical price data for one or more financial instruments over a specified date.
    
### Parameters:

*   **`date`** (Required)
    *   **Description**: The specific date for which to retrieve historical price data.
    *   **Format**: `YYYY-MM-DD` (e.g., `"2023-07-01"`)
    *   **Possible Values**: A date string in `YYYY-MM-DD` format.

*   **`precision`** (Optional)
    *   **Description**: Specifies the number of decimal places for the returned price values.
    *   **Possible Values**: An integer (e.g., `2`, `4`).

*   **`symbols`** (Required)
    *   **Description**: A single financial instrument symbol or a comma-separated list of symbols for which to fetch historical prices.
    *   **Possible Values**: A string representing one or more financial instrument symbols (e.g., `"BEI:XETR,SAN:XPAR"`, `"EURUSD:FX"`).

## `sectors.add`

This command allows adding a new sector categorization for financial instruments.

### Parameters:

*   **`industry_sector_id`** (Required)
    *   **Description**: A unique numerical identifier for the industry sector.
    *   **Possible Values**: A string representing a numerical ID (e.g., `"11223344"`).

*   **`name`** (Required)
    *   **Description**: The name of the new sector.
    *   **Possible Values**: A string (e.g., `"Sector Name"`).

*   **`symbol`** (Required)
    *   **Description**: A symbol or identifier associated with this sector.
    *   **Possible Values**: A string (e.g., `"Symbol Name"`).

## `sectors.list`

This command retrieves a list of defined sectors, with optional filtering.

### Parameters:

*   **`filter`** (Optional)
    *   **Description**: An object used to filter the list of sectors returned. You can specify one or more sector fields and their desired values to narrow down the results.
    *   **Possible Values**: An object with key-value pairs matching sector properties (e.g., `{"name": "Technology"}`).

## `signup`

This command is used to create a new user account in the system.

### Parameters:

*   **`accountNumber`** (Required)
    *   **Description**: A unique account number for the new user.
    *   **Possible Values**: A string or number (e.g., `"1231231231"`).

*   **`country`** (Required)
    *   **Description**: The user's country.
    *   **Possible Values**: A string representing a country (e.g., `"USA"`, `"peter"`).

*   **`email`** (Required)
    *   **Description**: The user's email address, which must be unique.
    *   **Possible Values**: A valid email format string (e.g., `"peter@test.com"`).

*   **`firstname`** (Required)
    *   **Description**: The user's first name.
    *   **Possible Values**: A string (e.g., `"John"`, `"peter"`).

*   **`login`** (Required)
    *   **Description**: A unique username for the new account.
    *   **Possible Values**: A unique string (e.g., `"newuser"`, `"peter"`).

*   **`password`** (Required)
    *   **Description**: The password for the new user account.
    *   **Possible Values**: A string (e.g., `"newpassword"`, `"peterpeter"`).

*   **`secondName`** (Required)
    *   **Description**: The user's last name or surname.
    *   **Possible Values**: A string (e.g., `"Doe"`, `"peter"`).

*   **`telephone`** (Required)
    *   **Description**: The user's telephone number.
    *   **Possible Values**: A string or number (e.g., `"+1234567890"`, `"26262626"`).

## `tests.check`

A debugging and testing command used to assert conditions on data within the system.

### Parameters:

*   **`conditions`** (Required)
    *   **Description**: An object or array of objects defining the conditions that must be met for the test to pass. These conditions can use various operators (`$eq`, `$has`, `$gt`, `$sub`, etc.).
    *   **Possible Values**: A JSON object (e.g., `{"error": {"$has": true}}`, `{"length": {"$eq": 1}}`).

*   **`description`** (Optional)
    *   **Description**: A human-readable description of what this test is checking, useful for logging and reporting.
    *   **Possible Values**: Any string.

*   **`path`** (Optional)
    *   **Description**: A path (dot-separated string) to a specific field or element within the data structure being checked. This allows for targeted validation.
    *   **Possible Values**: A string representing a data path (e.g., `"response"`, `"result.0"`, `"history.days.0"`).

*   **`precision`** (Optional)
    *   **Description**: Specifies the precision for numerical comparisons within the conditions, especially useful for floating-point numbers where exact equality might not be achievable due to rounding (`$sub` operator often uses this).
    *   **Possible Values**: An integer (e.g., `4`).

## `tests.delay`

A debugging and testing command that pauses execution for a specified duration.

### Parameters:

*   **`delay`** (Required)
    *   **Description**: The duration, in milliseconds, to pause execution.
    *   **Possible Values**: An integer representing milliseconds (e.g., `3000`).

## `tests.getVar`

A debugging and testing command used to retrieve the value of a variable previously set in the test environment.

### Parameters:

*   **`path`** (Required)
    *   **Description**: The path to the variable whose value you want to retrieve.
    *   **Possible Values**: A string representing a variable path (e.g., `"position1.[symbol=XLC].weight"`).

## `tests.setVar`

A debugging and testing command used to set a variable in the test environment.

### Parameters:

*   **`v`** (Required)
    *   **Description**: An object containing key-value pairs that define the variables to be set.
    *   **Possible Values**: A JSON object (e.g., `{"pid": "$var.result.0._id"}`).

## `tests.text`

A debugging and testing command used to output arbitrary text during test execution, typically for informational purposes.

### Parameters:

*   **`text`** (Required)
    *   **Description**: The string of text to be displayed or logged.
    *   **Possible Values**: Any string.

## `tests.waitMsg`

A debugging and testing command that waits for a message with a specific `msgId` and stores its content into a variable.

### Parameters:

*   **`msgId`** (Required)
    *   **Description**: The unique identifier of the message to wait for.
    *   **Possible Values**: A string representing a message ID (e.g., `"positionsId"`).

*   **`to`** (Required)
    *   **Description**: The name of the variable where the received message's content will be stored.
    *   **Possible Values**: A string representing a variable name (e.g., `"position1"`).

## `tools.statistic`

This command provides statistical analysis of a portfolio's history.

### Parameters:

*   **`from`** (Optional)
    *   **Description**: The start date for the statistical analysis.
    *   **Format**: `YYYY-MM-DD`
    *   **Possible Values**: A date string (e.g., `"2023-01-01"`).

*   **`history`** (Optional)
    *   **Description**: Placeholder for historical data. Its usage implies connection with how history is generated or referenced, though exact values are not specified in available examples.
    *   **Possible Values**: No specific values extracted, appears to be a flag or reference.

*   **`portfolio`** (Required)
    *   **Description**: The ID or name of the portfolio for which to calculate statistics.
    *   **Possible Values**: A string representing a portfolio ID or name.

*   **`till`** (Optional)
    *   **Description**: The end date for the statistical analysis.
    *   **Format**: `YYYY-MM-DD`
    *   **Possible Values**: A date string (e.g., `"2023-12-31"`).

## `trades.add`

This command is used to record a new financial trade within a specified portfolio.

### Parameters:

*   **`currency`** (Required)
    *   **Description**: The currency in which the trade was executed.
    *   **Possible Values**: A valid currency code (e.g., `"USD"`, `"EUR"`, `"DKK"`).

*   **`fee`** (Required)
    *   **Description**: The transaction fee associated with this trade.
    *   **Possible Values**: A numerical value (e.g., `"21.185875"`, `"1.00"`).

*   **`name`** (Optional)
    *   **Description**: A descriptive name for the financial instrument traded.
    *   **Possible Values**: A string (e.g., `"Communication Services Select Sector SPDR Fund"`).

*   **`portfolioId`** (Required)
    *   **Description**: The ID or name of the portfolio where this trade will be recorded.
    *   **Possible Values**: A string representing a portfolio ID or name.

*   **`price`** (Required)
    *   **Description**: The price per unit at which the trade was executed.
    *   **Possible Values**: A numerical value (e.g., `"73.6900"`, `"150.00"`).

*   **`rate`** (Required)
    *   **Description**: The exchange rate relative to the portfolio's base currency if the trade currency is different. If the trade currency is the same as the portfolio's base currency, this is typically `1.0`.
    *   **Possible Values**: A numerical value (e.g., `"1.0000"`, `"0.9443"`).

*   **`side`** (Required)
    *   **Description**: Indicates whether the trade was a buy or a sell.
    *   **Possible Values**: `"B"` (Buy), `"S"` (Sell), `"P"` (Put - often used in specific cash-like transactions or other special trade types like `tradeType: 31`).

*   **`state`** (Optional)
    *   **Description**: The state of the trade.
    *   **Possible Values**: `"1"` (typically indicates a completed trade).

*   **`symbol`** (Required)
    *   **Description**: The ticker symbol of the financial instrument traded.
    *   **Possible Values**: A string representing a financial instrument symbol (e.g., `"XLC"`, `"EURUSD:FX"`).

*   **`tradeId`** (Optional)
    *   **Description**: A unique identifier for this particular trade. If not provided, the system may generate one. Useful for external tracking.
    *   **Possible Values**: A string or number representing a unique trade ID (e.g., `"503978"`).

*   **`tradeTime`** (Required)
    *   **Description**: The date and time when the trade was executed. This is crucial for historical accuracy.
    *   **Format**: `YYYY-MM-DDTHH:MM:SS` (e.g., `"2024-01-10T00:00:02"`)
    *   **Possible Values**: A datetime string in `YYYY-MM-DDTHH:MM:SS` format.

*   **`tradeType`** (Required)
    *   **Description**: Categorizes the type of trade being recorded.
    *   **Possible Values**: `"1"` (common for stock/instrument trades), `"31"` (often used for cash entries or special non-instrument transactions).

*   **`volume`** (Required)
    *   **Description**: The quantity or number of units of the financial instrument involved in the trade.
    *   **Possible Values**: A numerical value (e.g., `"575"`, `"10.5"`).

## `trades.list`

This command retrieves a list of trades, with optional filtering capabilities.

### Parameters:

*   **`filter`** (Optional)
    *   **Description**: An object used to filter the list of trades returned. You can specify one or more trade fields and their desired values to narrow down the results (e.g., `_id`, `portfolioId`, `symbol`, `tradeType`).
    *   **Possible Values**: An object with key-value pairs matching trade properties (e.g., `{"_id": "trade_id_123"}`).

## `trades.putCash`

This command seems to be an alias or a specific implementation of `portfolios.putCash` as seen in
some test commands. It's used to add new cash transactions.

### Parameters:

*   **`amount`** (Required)
    *   **Description**: The quantity of cash.
    *   **Possible Values**: A numerical value.

*   **`currency`** (Required)
    *   **Description**: The currency of the cash.
    *   **Possible Values**: A valid currency code (e.g., `"USD"`, `"DKK"`).

*   **`portfolioId`** (Required)
    *   **Description**: The ID or name of the portfolio for the cash transaction.
    *   **Possible Values**: A string representing a portfolio ID or name.

*   **`tradeTime`** (Required)
    *   **Description**: The date and time of the cash transaction.
    *   **Format**: `YYYY-MM-DDTHH:MM:SS`
    *   **Possible Values**: A datetime string in `YYYY-MM-DDTHH:MM:SS` format.

## `trades.remove`

This command removes a specific trade from a portfolio.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: The unique identifier of the trade to be removed.
    *   **Possible Values**: A string representing a trade ID.

## `trades.removeAll`

This command removes all trades associated with a specific portfolio.

### Parameters:

*   **`portfolioId`** (Required)
    *   **Description**: The ID or name of the portfolio from which all trades should be removed.
    *   **Possible Values**: A string representing a portfolio ID or name.

## `trades.snapshot`

This command appears to provide a summary or snapshot of trades for a given portfolio.

### Parameters:

*   **`portfolioId`** (Required)
    *   **Description**: The ID or name of the portfolio for which to retrieve the trades snapshot.
    *   **Possible Values**: A string representing a portfolio ID or name.

## `users.list`

This command retrieves a list of users, with optional filtering.

### Parameters:

*   **`filter`** (Optional)
    *   **Description**: An object used to filter the list of users returned. You can specify one or more user fields and their desired values to narrow down the results (e.g., `name`, `email`).
## `login`

Authenticates a user and returns a token for subsequent API calls.

### Parameters:

*   **`login`** (Required)
    *   **Description**: User's username.
    *   **Possible Values**: A string.

*   **`password`** (Required)
    *   **Description**: User's password.
    *   **Possible Values**: A string.

## `collection_name.add`

Adds a new item to the specified collection.

### Parameters:

*   Fields depend on the specific collection.

## `collection_name.list`

Retrieves a list of items from the specified collection.

### Parameters:

*   **`filter`** (Optional)
    *   **Description**: Object with collection fields to filter results.
    *   **Possible Values**: An object with key-value pairs.

## `collection_name.remove`

Removes an item from the collection.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: MongoDB key for the record to remove.
    *   **Possible Values**: A string.

## `collection_name.update`

Updates an existing item in the collection.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: MongoDB key for the record to update.
    *   **Possible Values**: A string.
## `portfolios.getPerformance`

Calculates and returns the performance metrics for a specified portfolio over a given date range.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: ID of the portfolio.
    *   **Possible Values**: A string representing a portfolio ID.

*   **`startDate`** (Required)
    *   **Description**: Start date for performance calculation.
    *   **Format**: `YYYY-MM-DD`
    *   **Possible Values**: A date string (e.g., `"2023-01-01"`).

*   **`endDate`** (Required)
    *   **Description**: End date for performance calculation.
    *   **Format**: `YYYY-MM-DD`
    *   **Possible Values**: A date string (e.g., `"2023-12-31"`).

## `portfolios.update`

Modifies an existing portfolio.

### Parameters:

## `prices.getCurrent`

Retrieves the most recent price for a specified symbol.

### Parameters:

*   **`symbol`** (Required)
    *   **Description**: Ticker symbol of the asset.
    *   **Possible Values**: A string representing an asset ticker (e.g., `"AAPL"`).

*   **`exchange`** (Optional)
    *   **Description**: Exchange where the asset is traded.
    *   **Possible Values**: A string (e.g., `"NASDAQ"`).

## `prices.getHistorical`

Fetches historical price data for a symbol over a specified date range.

### Parameters:

*   **`symbol`** (Required)
    *   **Description**: Ticker symbol of the asset.
    *   **Possible Values**: A string representing an asset ticker (e.g., `"GOOGL"`).

*   **`startDate`** (Required)
    *   **Description**: Start date for historical data.
    *   **Format**: `YYYY-MM-DD`
    *   **Possible Values**: A date string in `YYYY-MM-DD` format (e.g., `"2023-01-01"`).

*   **`endDate`** (Required)
    *   **Description**: End date for historical data.
    *   **Format**: `YYYY-MM-DD`
    *   **Possible Values**: A date string in `YYYY-MM-DD` format (e.g., `"2023-12-31"`).

*   **`interval`** (Required)
    *   **Description**: Data interval.
    *   **Possible Values**: `"daily"`, `"weekly"`, `"monthly"`.

## `prices.manageFeed`

Allows you to subscribe to or unsubscribe from real-time price feeds for specified symbols.

### Parameters:

*   **`action`** (Required)
    *   **Description**: Action to perform.
    *   **Possible Values**: `"subscribe"`, `"unsubscribe"`.

*   **`symbols`** (Required)
    *   **Description**: Array of ticker symbols.
    *   **Possible Values**: An array of strings (e.g., `["AAPL", "GOOGL"]`).

## `prices.setAlert`

Creates a price alert for a specific symbol.

### Parameters:

*   **`symbol`** (Required)
    *   **Description**: Ticker symbol of the asset.
    *   **Possible Values**: A string representing an asset ticker (e.g., `"TSLA"`).

*   **`condition`** (Required)
    *   **Description**: Alert condition.
    *   **Possible Values**: `"above"`, `"below"`.

## `tests.runIntegration`

Runs integration tests to ensure different parts of the system work correctly together.

### Parameters:

*   **`scenario`** (Required)
    *   **Description**: Name of the integration test scenario.
    *   **Possible Values**: A string (e.g., `"full_trade_cycle"`).

## `tests.runPerformance`

Executes performance tests to evaluate the system's behavior under various load conditions.

### Parameters:

*   **`testCase`** (Required)
    *   **Description**: Name of the performance test case.
    *   **Possible Values**: A string (e.g., `"high_volume_trading"`).

## `tests.runSuite`

Runs a predefined suite of tests, which may include a combination of unit, integration, and performance tests.

### Parameters:

*   **`suite`** (Required)
    *   **Description**: Name of the test suite to run.
    *   **Possible Values**: A string (e.g., `"daily_regression"`).

## `tests.runUnit`

Executes unit tests for a specific module.

### Parameters:

## `tools.analyzeData`

Performs statistical analysis on specified datasets.

### Parameters:

*   **`dataset`** (Required)
    *   **Description**: Name of the dataset to analyze.
    *   **Possible Values**: A string (e.g., `"portfolio_returns"`).

*   **`method`** (Required)
    *   **Description**: Analysis method to apply.
    *   **Possible Values**: A string (e.g., `"regression"`).

## `tools.assessRisk`

Evaluates the risk associated with a portfolio.

### Parameters:

*   **`portfolioId`** (Required)
    *   **Description**: ID of the portfolio to assess.
    *   **Possible Values**: A string representing a portfolio ID.

*   **`method`** (Required)
    *   **Description**: Risk assessment method to use.
    *   **Possible Values**: A string (e.g., `"var"`).

## `tools.generateReport`

Creates detailed reports based on portfolio data.

### Parameters:

*   **`type`** (Required)
    *   **Description**: Type of report to generate.
    *   **Possible Values**: A string (e.g., `"monthly_performance"`).

*   **`portfolioId`** (Required)
    *   **Description**: ID of the portfolio for the report.
    *   **Possible Values**: A string representing a portfolio ID.

## `tools.integrateAPI`

Sets up integration with external APIs.

### Parameters:

*   **`externalService`** (Required)
    *   **Description**: Name of the external service to integrate.
    *   **Possible Values**: A string (e.g., `"marketDataProvider"`).

## `trades.cancelOrder`

Cancels an unfilled order.

### Parameters:

*   **`orderId`** (Required)
    *   **Description**: ID of the order to cancel.
    *   **Possible Values**: A string representing an order ID.

## `trades.getHistory`

Retrieves the trading history for a specified portfolio over a given date range.

### Parameters:

*   **`_id`** (Required)
    *   **Description**: ID of the portfolio.
    *   **Possible Values**: A string representing a portfolio ID.

*   **`from`** (Required)
    *   **Description**: Start date for history.
    *   **Format**: `YYYY-MM-DD`
    *   **Possible Values**: A date string.

*   **`till`** (Required)
    *   **Description**: End date for history.
    *   **Format**: `YYYY-MM-DD`
    *   **Possible Values**: A date string.

*   **`sample`** (Optional)
    *   **Description**: Data interval (e.g., "day").
    *   **Possible Values**: `"day"`, `"week"`, `"month"`.

*   **`detail`** (Optional)
    *   **Description**: Level of detail for the history.
    *   **Possible Values**: `0`, `1`.

## `trades.modifyOrder`

Modifies an existing, unfilled order.

### Parameters:

*   **`orderId`** (Required)
    *   **Description**: ID of the order to modify.
    *   **Possible Values**: A string representing an order ID.

*   **`newQuantity`** (Optional)
    *   **Description**: New quantity for the order.
    *   **Possible Values**: A numerical value.

*   **`newPrice`** (Optional)
    *   **Description**: New price for the order (limit orders only).
    *   **Possible Values**: A numerical value.

## `trades.placeOrder`

Places a new order for a specified symbol within a portfolio.

### Parameters:

*   **`portfolioId`** (Required)
    *   **Description**: ID of the portfolio for the trade.
    *   **Possible Values**: A string representing a portfolio ID.

*   **`symbol`** (Required)
    *   **Description**: Ticker symbol of the asset.
    *   **Possible Values**: A string.

*   **`type`** (Required)
    *   **Description**: Order type.
    *   **Possible Values**: `"buy"`, `"sell"`.

*   **`quantity`** (Required)
    *   **Description**: Number of shares to trade.
    *   **Possible Values**: A numerical value.

*   **`price`** (Optional)
    *   **Description**: Limit price (for limit orders).
    *   **Possible Values**: A numerical value.

*   **`orderType`** (Required)
    *   **Description**: Type of order.
    *   **Possible Values**: `"market"`, `"limit"`.

## `command.setVar`

Sets a variable in the test environment.

### Parameters:

*   **`v`** (Required)
    *   **Description**: An object containing key-value pairs that define the variables to be set.
    *   **Possible Values**: A JSON object (e.g., `{"pid": "$var.result.0._id"}`).
